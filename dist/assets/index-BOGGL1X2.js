function IN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var om={exports:{}},jl={},im={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function AN(){if(Pb)return $e;Pb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function S(D,L,K){this.props=D,this.context=L,this.refs=b,this.updater=K||x}S.prototype.isReactComponent={},S.prototype.setState=function(D,L){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,L,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=S.prototype;function E(D,L,K){this.props=D,this.context=L,this.refs=b,this.updater=K||x}var w=E.prototype=new _;w.constructor=E,v(w,S.prototype),w.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,C={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(D,L,K){var Z,q={},J=null,ne=null;if(L!=null)for(Z in L.ref!==void 0&&(ne=L.ref),L.key!==void 0&&(J=""+L.key),L)P.call(L,Z)&&!R.hasOwnProperty(Z)&&(q[Z]=L[Z]);var te=arguments.length-2;if(te===1)q.children=K;else if(1<te){for(var se=Array(te),le=0;le<te;le++)se[le]=arguments[le+2];q.children=se}if(D&&D.defaultProps)for(Z in te=D.defaultProps,te)q[Z]===void 0&&(q[Z]=te[Z]);return{$$typeof:e,type:D,key:J,ref:ne,props:q,_owner:C.current}}function A(D,L){return{$$typeof:e,type:D.type,key:L,ref:D.ref,props:D.props,_owner:D._owner}}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function $(D){var L={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(K){return L[K]})}var H=/\/+/g;function Y(D,L){return typeof D=="object"&&D!==null&&D.key!=null?$(""+D.key):L.toString(36)}function V(D,L,K,Z,q){var J=typeof D;(J==="undefined"||J==="boolean")&&(D=null);var ne=!1;if(D===null)ne=!0;else switch(J){case"string":case"number":ne=!0;break;case"object":switch(D.$$typeof){case e:case t:ne=!0}}if(ne)return ne=D,q=q(ne),D=Z===""?"."+Y(ne,0):Z,T(q)?(K="",D!=null&&(K=D.replace(H,"$&/")+"/"),V(q,L,K,"",function(le){return le})):q!=null&&(U(q)&&(q=A(q,K+(!q.key||ne&&ne.key===q.key?"":(""+q.key).replace(H,"$&/")+"/")+D)),L.push(q)),1;if(ne=0,Z=Z===""?".":Z+":",T(D))for(var te=0;te<D.length;te++){J=D[te];var se=Z+Y(J,te);ne+=V(J,L,K,se,q)}else if(se=g(D),typeof se=="function")for(D=se.call(D),te=0;!(J=D.next()).done;)J=J.value,se=Z+Y(J,te++),ne+=V(J,L,K,se,q);else if(J==="object")throw L=String(D),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ne}function X(D,L,K){if(D==null)return D;var Z=[],q=0;return V(D,Z,"","",function(J){return L.call(K,J,q++)}),Z}function z(D){if(D._status===-1){var L=D._result;L=L(),L.then(function(K){(D._status===0||D._status===-1)&&(D._status=1,D._result=K)},function(K){(D._status===0||D._status===-1)&&(D._status=2,D._result=K)}),D._status===-1&&(D._status=0,D._result=L)}if(D._status===1)return D._result.default;throw D._result}var W={current:null},M={transition:null},B={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:M,ReactCurrentOwner:C};function O(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:X,forEach:function(D,L,K){X(D,function(){L.apply(this,arguments)},K)},count:function(D){var L=0;return X(D,function(){L++}),L},toArray:function(D){return X(D,function(L){return L})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},$e.Component=S,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=E,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,$e.act=O,$e.cloneElement=function(D,L,K){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Z=v({},D.props),q=D.key,J=D.ref,ne=D._owner;if(L!=null){if(L.ref!==void 0&&(J=L.ref,ne=C.current),L.key!==void 0&&(q=""+L.key),D.type&&D.type.defaultProps)var te=D.type.defaultProps;for(se in L)P.call(L,se)&&!R.hasOwnProperty(se)&&(Z[se]=L[se]===void 0&&te!==void 0?te[se]:L[se])}var se=arguments.length-2;if(se===1)Z.children=K;else if(1<se){te=Array(se);for(var le=0;le<se;le++)te[le]=arguments[le+2];Z.children=te}return{$$typeof:e,type:D.type,key:q,ref:J,props:Z,_owner:ne}},$e.createContext=function(D){return D={$$typeof:a,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:i,_context:D},D.Consumer=D},$e.createElement=I,$e.createFactory=function(D){var L=I.bind(null,D);return L.type=D,L},$e.createRef=function(){return{current:null}},$e.forwardRef=function(D){return{$$typeof:u,render:D}},$e.isValidElement=U,$e.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:z}},$e.memo=function(D,L){return{$$typeof:f,type:D,compare:L===void 0?null:L}},$e.startTransition=function(D){var L=M.transition;M.transition={};try{D()}finally{M.transition=L}},$e.unstable_act=O,$e.useCallback=function(D,L){return W.current.useCallback(D,L)},$e.useContext=function(D){return W.current.useContext(D)},$e.useDebugValue=function(){},$e.useDeferredValue=function(D){return W.current.useDeferredValue(D)},$e.useEffect=function(D,L){return W.current.useEffect(D,L)},$e.useId=function(){return W.current.useId()},$e.useImperativeHandle=function(D,L,K){return W.current.useImperativeHandle(D,L,K)},$e.useInsertionEffect=function(D,L){return W.current.useInsertionEffect(D,L)},$e.useLayoutEffect=function(D,L){return W.current.useLayoutEffect(D,L)},$e.useMemo=function(D,L){return W.current.useMemo(D,L)},$e.useReducer=function(D,L,K){return W.current.useReducer(D,L,K)},$e.useRef=function(D){return W.current.useRef(D)},$e.useState=function(D){return W.current.useState(D)},$e.useSyncExternalStore=function(D,L,K){return W.current.useSyncExternalStore(D,L,K)},$e.useTransition=function(){return W.current.useTransition()},$e.version="18.3.1",$e}var Ib;function Sc(){return Ib||(Ib=1,im.exports=AN()),im.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function MN(){if(Ab)return jl;Ab=1;var e=Sc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,f){var m,h={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(h[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)h[m]===void 0&&(h[m]=d[m]);return{$$typeof:t,type:u,key:g,ref:x,props:h,_owner:s.current}}return jl.Fragment=n,jl.jsx=a,jl.jsxs=a,jl}var Mb;function FN(){return Mb||(Mb=1,om.exports=MN()),om.exports}var l=FN(),k=Sc();const pe=Rf(k),DN=IN({__proto__:null,default:pe},[k]);var Qu={},am={exports:{}},kn={},lm={exports:{}},cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function ON(){return Fb||(Fb=1,(function(e){function t(M,B){var O=M.length;M.push(B);e:for(;0<O;){var D=O-1>>>1,L=M[D];if(0<s(L,B))M[D]=B,M[O]=L,O=D;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],O=M.pop();if(O!==B){M[0]=O;e:for(var D=0,L=M.length,K=L>>>1;D<K;){var Z=2*(D+1)-1,q=M[Z],J=Z+1,ne=M[J];if(0>s(q,O))J<L&&0>s(ne,q)?(M[D]=ne,M[J]=O,D=J):(M[D]=q,M[Z]=O,D=Z);else if(J<L&&0>s(ne,O))M[D]=ne,M[J]=O,D=J;else break e}}return B}function s(M,B){var O=M.sortIndex-B.sortIndex;return O!==0?O:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var d=[],f=[],m=1,h=null,g=3,x=!1,v=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var B=n(f);B!==null;){if(B.callback===null)r(f);else if(B.startTime<=M)r(f),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(f)}}function T(M){if(b=!1,w(M),!v)if(n(d)!==null)v=!0,z(P);else{var B=n(f);B!==null&&W(T,B.startTime-M)}}function P(M,B){v=!1,b&&(b=!1,_(I),I=-1),x=!0;var O=g;try{for(w(B),h=n(d);h!==null&&(!(h.expirationTime>B)||M&&!$());){var D=h.callback;if(typeof D=="function"){h.callback=null,g=h.priorityLevel;var L=D(h.expirationTime<=B);B=e.unstable_now(),typeof L=="function"?h.callback=L:h===n(d)&&r(d),w(B)}else r(d);h=n(d)}if(h!==null)var K=!0;else{var Z=n(f);Z!==null&&W(T,Z.startTime-B),K=!1}return K}finally{h=null,g=O,x=!1}}var C=!1,R=null,I=-1,A=5,U=-1;function $(){return!(e.unstable_now()-U<A)}function H(){if(R!==null){var M=e.unstable_now();U=M;var B=!0;try{B=R(!0,M)}finally{B?Y():(C=!1,R=null)}}else C=!1}var Y;if(typeof E=="function")Y=function(){E(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=H,Y=function(){X.postMessage(null)}}else Y=function(){S(H,0)};function z(M){R=M,C||(C=!0,Y())}function W(M,B){I=S(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,z(P))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var O=g;g=B;try{return M()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=g;g=M;try{return B()}finally{g=O}},e.unstable_scheduleCallback=function(M,B,O){var D=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=O+L,M={id:m++,callback:B,priorityLevel:M,startTime:O,expirationTime:L,sortIndex:-1},O>D?(M.sortIndex=O,t(f,M),n(d)===null&&M===n(f)&&(b?(_(I),I=-1):b=!0,W(T,O-D))):(M.sortIndex=L,t(d,M),v||x||(v=!0,z(P))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var B=g;return function(){var O=g;g=B;try{return M.apply(this,arguments)}finally{g=O}}}})(cm)),cm}var Db;function zN(){return Db||(Db=1,lm.exports=ON()),lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function LN(){if(Ob)return kn;Ob=1;var e=Sc(),t=zN();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,c){a(o,c),a(o+"Capture",c)}function a(o,c){for(s[o]=c,o=0;o<c.length;o++)r.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function g(o){return d.call(h,o)?!0:d.call(m,o)?!1:f.test(o)?h[o]=!0:(m[o]=!0,!1)}function x(o,c,p,y){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,c,p,y){if(c===null||typeof c>"u"||x(o,c,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(o,c,p,y,j,N,F){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=j,this.mustUseProperty=p,this.propertyName=o,this.type=c,this.sanitizeURL=N,this.removeEmptyString=F}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];S[c]=new b(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(_,E);S[c]=new b(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(_,E);S[c]=new b(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(_,E);S[c]=new b(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function w(o,c,p,y){var j=S.hasOwnProperty(c)?S[c]:null;(j!==null?j.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,p,j,y)&&(p=null),y||j===null?g(c)&&(p===null?o.removeAttribute(c):o.setAttribute(c,""+p)):j.mustUseProperty?o[j.propertyName]=p===null?j.type===3?!1:"":p:(c=j.attributeName,y=j.attributeNamespace,p===null?o.removeAttribute(c):(j=j.type,p=j===3||j===4&&p===!0?"":""+p,y?o.setAttributeNS(y,c,p):o.setAttribute(c,p))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),M=Symbol.iterator;function B(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var O=Object.assign,D;function L(o){if(D===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);D=c&&c[1]||""}return`
`+D+o}var K=!1;function Z(o,c){if(!o||K)return"";K=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var y=ie}Reflect.construct(o,[],c)}else{try{c.call()}catch(ie){y=ie}o.call(c.prototype)}else{try{throw Error()}catch(ie){y=ie}o()}}catch(ie){if(ie&&y&&typeof ie.stack=="string"){for(var j=ie.stack.split(`
`),N=y.stack.split(`
`),F=j.length-1,G=N.length-1;1<=F&&0<=G&&j[F]!==N[G];)G--;for(;1<=F&&0<=G;F--,G--)if(j[F]!==N[G]){if(F!==1||G!==1)do if(F--,G--,0>G||j[F]!==N[G]){var Q=`
`+j[F].replace(" at new "," at ");return o.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",o.displayName)),Q}while(1<=F&&0<=G);break}}}finally{K=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?L(o):""}function q(o){switch(o.tag){case 5:return L(o.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return o=Z(o.type,!1),o;case 11:return o=Z(o.type.render,!1),o;case 1:return o=Z(o.type,!0),o;default:return""}}function J(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case R:return"Fragment";case C:return"Portal";case A:return"Profiler";case I:return"StrictMode";case Y:return"Suspense";case V:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case U:return(o._context.displayName||"Context")+".Provider";case H:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case X:return c=o.displayName||null,c!==null?c:J(o.type)||"Memo";case z:c=o._payload,o=o._init;try{return J(o(c))}catch{}}return null}function ne(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(c);case 8:return c===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function se(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function le(o){var c=se(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var j=p.get,N=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return j.call(this)},set:function(F){y=""+F,N.call(this,F)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(F){y=""+F},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ce(o){o._valueTracker||(o._valueTracker=le(o))}function ue(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=se(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function ge(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ee(o,c){var p=c.checked;return O({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function Oe(o,c){var p=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;p=te(c.value!=null?c.value:p),o._wrapperState={initialChecked:y,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Re(o,c){c=c.checked,c!=null&&w(o,"checked",c,!1)}function We(o,c){Re(o,c);var p=te(c.value),y=c.type;if(p!=null)y==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Be(o,c.type,p):c.hasOwnProperty("defaultValue")&&Be(o,c.type,te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Tt(o,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,p||c===o.value||(o.value=c),o.defaultValue=c}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Be(o,c,p){(c!=="number"||ge(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var zt=Array.isArray;function Ut(o,c,p,y){if(o=o.options,c){c={};for(var j=0;j<p.length;j++)c["$"+p[j]]=!0;for(p=0;p<o.length;p++)j=c.hasOwnProperty("$"+o[p].value),o[p].selected!==j&&(o[p].selected=j),j&&y&&(o[p].defaultSelected=!0)}else{for(p=""+te(p),c=null,j=0;j<o.length;j++){if(o[j].value===p){o[j].selected=!0,y&&(o[j].defaultSelected=!0);return}c!==null||o[j].disabled||(c=o[j])}c!==null&&(c.selected=!0)}}function Ue(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return O({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Lt(o,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(n(92));if(zt(p)){if(1<p.length)throw Error(n(93));p=p[0]}c=p}c==null&&(c=""),p=c}o._wrapperState={initialValue:te(p)}}function Yr(o,c){var p=te(c.value),y=te(c.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),c.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),y!=null&&(o.defaultValue=""+y)}function $n(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function yt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?yt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qn,Zn=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,y,j){MSApp.execUnsafeLocalFunction(function(){return o(c,p,y,j)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Qn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Ve(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mn=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(o){mn.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Zt[c]=Zt[o]})});function er(o,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Zt.hasOwnProperty(o)&&Zt[o]?(""+c).trim():c+"px"}function Jr(o,c){o=o.style;for(var p in c)if(c.hasOwnProperty(p)){var y=p.indexOf("--")===0,j=er(p,c[p],y);p==="float"&&(p="cssFloat"),y?o.setProperty(p,j):o[p]=j}}var js=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cs(o,c){if(c){if(js[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function go(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function gn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yo=null,_r=null,tr=null;function xo(o){if(o=cl(o)){if(typeof yo!="function")throw Error(n(280));var c=o.stateNode;c&&(c=hu(c),yo(o.stateNode,o.type,c))}}function ze(o){_r?tr?tr.push(o):tr=[o]:_r=o}function lt(){if(_r){var o=_r,c=tr;if(tr=_r=null,xo(o),c)for(o=0;o<c.length;o++)xo(c[o])}}function xt(o,c){return o(c)}function $t(){}var Er=!1;function ht(o,c,p){if(Er)return o(c,p);Er=!0;try{return xt(o,c,p)}finally{Er=!1,(_r!==null||tr!==null)&&($t(),lt())}}function wt(o,c){var p=o.stateNode;if(p===null)return null;var y=hu(p);if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,c,typeof p));return p}var Tr=!1;if(u)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Tr=!1}function on(o,c,p,y,j,N,F,G,Q){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(p,ie)}catch(fe){this.onError(fe)}}var Nr=!1,yn=null,vo=!1,Ba=null,gh={onError:function(o){Nr=!0,yn=o}};function yh(o,c,p,y,j,N,F,G,Q){Nr=!1,yn=null,on.apply(gh,arguments)}function xh(o,c,p,y,j,N,F,G,Q){if(yh.apply(this,arguments),Nr){if(Nr){var ie=yn;Nr=!1,yn=null}else throw Error(n(198));vo||(vo=!0,Ba=ie)}}function Rr(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function Va(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Wa(o){if(Rr(o)!==o)throw Error(n(188))}function vh(o){var c=o.alternate;if(!c){if(c=Rr(o),c===null)throw Error(n(188));return c!==o?null:o}for(var p=o,y=c;;){var j=p.return;if(j===null)break;var N=j.alternate;if(N===null){if(y=j.return,y!==null){p=y;continue}break}if(j.child===N.child){for(N=j.child;N;){if(N===p)return Wa(j),o;if(N===y)return Wa(j),c;N=N.sibling}throw Error(n(188))}if(p.return!==y.return)p=j,y=N;else{for(var F=!1,G=j.child;G;){if(G===p){F=!0,p=j,y=N;break}if(G===y){F=!0,y=j,p=N;break}G=G.sibling}if(!F){for(G=N.child;G;){if(G===p){F=!0,p=N,y=j;break}if(G===y){F=!0,y=N,p=j;break}G=G.sibling}if(!F)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:c}function Wc(o){return o=vh(o),o!==null?Uc(o):null}function Uc(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=Uc(o);if(c!==null)return c;o=o.sibling}return null}var Hc=t.unstable_scheduleCallback,Gc=t.unstable_cancelCallback,bh=t.unstable_shouldYield,qc=t.unstable_requestPaint,ct=t.unstable_now,wh=t.unstable_getCurrentPriorityLevel,Ua=t.unstable_ImmediatePriority,Kc=t.unstable_UserBlockingPriority,di=t.unstable_NormalPriority,Sh=t.unstable_LowPriority,Xc=t.unstable_IdlePriority,bo=null,Bn=null;function kh(o){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(bo,o,void 0,(o.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:_h,jh=Math.log,Ch=Math.LN2;function _h(o){return o>>>=0,o===0?32:31-(jh(o)/Ch|0)|0}var fi=64,hi=4194304;function Pr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function pi(o,c){var p=o.pendingLanes;if(p===0)return 0;var y=0,j=o.suspendedLanes,N=o.pingedLanes,F=p&268435455;if(F!==0){var G=F&~j;G!==0?y=Pr(G):(N&=F,N!==0&&(y=Pr(N)))}else F=p&~j,F!==0?y=Pr(F):N!==0&&(y=Pr(N));if(y===0)return 0;if(c!==0&&c!==y&&(c&j)===0&&(j=y&-y,N=c&-c,j>=N||j===16&&(N&4194240)!==0))return c;if((y&4)!==0&&(y|=p&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)p=31-_n(c),j=1<<p,y|=o[p],c&=~j;return y}function Yc(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eh(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,j=o.expirationTimes,N=o.pendingLanes;0<N;){var F=31-_n(N),G=1<<F,Q=j[F];Q===-1?((G&p)===0||(G&y)!==0)&&(j[F]=Yc(G,c)):Q<=c&&(o.expiredLanes|=G),N&=~G}}function Ha(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function mi(){var o=fi;return fi<<=1,(fi&4194240)===0&&(fi=64),o}function Ga(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function wo(o,c,p){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-_n(c),o[c]=p}function Jc(o,c){var p=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<p;){var j=31-_n(p),N=1<<j;c[j]=0,y[j]=-1,o[j]=-1,p&=~N}}function Th(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-_n(p),j=1<<y;j&c|o[y]&c&&(o[y]|=c),p&=~j}}var Ye=0;function cx(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ux,Nh,dx,fx,hx,Rh=!1,Qc=[],_s=null,Es=null,Ts=null,qa=new Map,Ka=new Map,Ns=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(o,c){switch(o){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":qa.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(c.pointerId)}}function Xa(o,c,p,y,j,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:N,targetContainers:[j]},c!==null&&(c=cl(c),c!==null&&Nh(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),o)}function tT(o,c,p,y,j){switch(c){case"focusin":return _s=Xa(_s,o,c,p,y,j),!0;case"dragenter":return Es=Xa(Es,o,c,p,y,j),!0;case"mouseover":return Ts=Xa(Ts,o,c,p,y,j),!0;case"pointerover":var N=j.pointerId;return qa.set(N,Xa(qa.get(N)||null,o,c,p,y,j)),!0;case"gotpointercapture":return N=j.pointerId,Ka.set(N,Xa(Ka.get(N)||null,o,c,p,y,j)),!0}return!1}function mx(o){var c=So(o.target);if(c!==null){var p=Rr(c);if(p!==null){if(c=p.tag,c===13){if(c=Va(p),c!==null){o.blockedOn=c,hx(o.priority,function(){dx(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zc(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Ih(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Qr=y,p.target.dispatchEvent(y),Qr=null}else return c=cl(p),c!==null&&Nh(c),o.blockedOn=p,!1;c.shift()}return!0}function gx(o,c,p){Zc(o)&&p.delete(c)}function nT(){Rh=!1,_s!==null&&Zc(_s)&&(_s=null),Es!==null&&Zc(Es)&&(Es=null),Ts!==null&&Zc(Ts)&&(Ts=null),qa.forEach(gx),Ka.forEach(gx)}function Ya(o,c){o.blockedOn===c&&(o.blockedOn=null,Rh||(Rh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nT)))}function Ja(o){function c(j){return Ya(j,o)}if(0<Qc.length){Ya(Qc[0],o);for(var p=1;p<Qc.length;p++){var y=Qc[p];y.blockedOn===o&&(y.blockedOn=null)}}for(_s!==null&&Ya(_s,o),Es!==null&&Ya(Es,o),Ts!==null&&Ya(Ts,o),qa.forEach(c),Ka.forEach(c),p=0;p<Ns.length;p++)y=Ns[p],y.blockedOn===o&&(y.blockedOn=null);for(;0<Ns.length&&(p=Ns[0],p.blockedOn===null);)mx(p),p.blockedOn===null&&Ns.shift()}var gi=T.ReactCurrentBatchConfig,eu=!0;function rT(o,c,p,y){var j=Ye,N=gi.transition;gi.transition=null;try{Ye=1,Ph(o,c,p,y)}finally{Ye=j,gi.transition=N}}function sT(o,c,p,y){var j=Ye,N=gi.transition;gi.transition=null;try{Ye=4,Ph(o,c,p,y)}finally{Ye=j,gi.transition=N}}function Ph(o,c,p,y){if(eu){var j=Ih(o,c,p,y);if(j===null)Xh(o,c,y,tu,p),px(o,y);else if(tT(j,o,c,p,y))y.stopPropagation();else if(px(o,y),c&4&&-1<eT.indexOf(o)){for(;j!==null;){var N=cl(j);if(N!==null&&ux(N),N=Ih(o,c,p,y),N===null&&Xh(o,c,y,tu,p),N===j)break;j=N}j!==null&&y.stopPropagation()}else Xh(o,c,y,null,p)}}var tu=null;function Ih(o,c,p,y){if(tu=null,o=gn(y),o=So(o),o!==null)if(c=Rr(o),c===null)o=null;else if(p=c.tag,p===13){if(o=Va(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return tu=o,null}function yx(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wh()){case Ua:return 1;case Kc:return 4;case di:case Sh:return 16;case Xc:return 536870912;default:return 16}default:return 16}}var Rs=null,Ah=null,nu=null;function xx(){if(nu)return nu;var o,c=Ah,p=c.length,y,j="value"in Rs?Rs.value:Rs.textContent,N=j.length;for(o=0;o<p&&c[o]===j[o];o++);var F=p-o;for(y=1;y<=F&&c[p-y]===j[N-y];y++);return nu=j.slice(o,1<y?1-y:void 0)}function ru(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function su(){return!0}function vx(){return!1}function En(o){function c(p,y,j,N,F){this._reactName=p,this._targetInst=j,this.type=y,this.nativeEvent=N,this.target=F,this.currentTarget=null;for(var G in o)o.hasOwnProperty(G)&&(p=o[G],this[G]=p?p(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?su:vx,this.isPropagationStopped=vx,this}return O(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),c}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=En(yi),Qa=O({},yi,{view:0,detail:0}),oT=En(Qa),Fh,Dh,Za,ou=O({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Za&&(Za&&o.type==="mousemove"?(Fh=o.screenX-Za.screenX,Dh=o.screenY-Za.screenY):Dh=Fh=0,Za=o),Fh)},movementY:function(o){return"movementY"in o?o.movementY:Dh}}),bx=En(ou),iT=O({},ou,{dataTransfer:0}),aT=En(iT),lT=O({},Qa,{relatedTarget:0}),Oh=En(lT),cT=O({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),uT=En(cT),dT=O({},yi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),fT=En(dT),hT=O({},yi,{data:0}),wx=En(hT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yT(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=gT[o])?!!c[o]:!1}function zh(){return yT}var xT=O({},Qa,{key:function(o){if(o.key){var c=pT[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ru(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mT[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(o){return o.type==="keypress"?ru(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ru(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vT=En(xT),bT=O({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=En(bT),wT=O({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),ST=En(wT),kT=O({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jT=En(kT),CT=O({},ou,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_T=En(CT),ET=[9,13,27,32],Lh=u&&"CompositionEvent"in window,el=null;u&&"documentMode"in document&&(el=document.documentMode);var TT=u&&"TextEvent"in window&&!el,kx=u&&(!Lh||el&&8<el&&11>=el),jx=" ",Cx=!1;function _x(o,c){switch(o){case"keyup":return ET.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var xi=!1;function NT(o,c){switch(o){case"compositionend":return Ex(c);case"keypress":return c.which!==32?null:(Cx=!0,jx);case"textInput":return o=c.data,o===jx&&Cx?null:o;default:return null}}function RT(o,c){if(xi)return o==="compositionend"||!Lh&&_x(o,c)?(o=xx(),nu=Ah=Rs=null,xi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return kx&&c.locale!=="ko"?null:c.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!PT[o.type]:c==="textarea"}function Nx(o,c,p,y){ze(y),c=uu(c,"onChange"),0<c.length&&(p=new Mh("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var tl=null,nl=null;function IT(o){qx(o,0)}function iu(o){var c=ki(o);if(ue(c))return o}function AT(o,c){if(o==="change")return c}var Rx=!1;if(u){var $h;if(u){var Bh="oninput"in document;if(!Bh){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),Bh=typeof Px.oninput=="function"}$h=Bh}else $h=!1;Rx=$h&&(!document.documentMode||9<document.documentMode)}function Ix(){tl&&(tl.detachEvent("onpropertychange",Ax),nl=tl=null)}function Ax(o){if(o.propertyName==="value"&&iu(nl)){var c=[];Nx(c,nl,o,gn(o)),ht(IT,c)}}function MT(o,c,p){o==="focusin"?(Ix(),tl=c,nl=p,tl.attachEvent("onpropertychange",Ax)):o==="focusout"&&Ix()}function FT(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return iu(nl)}function DT(o,c){if(o==="click")return iu(c)}function OT(o,c){if(o==="input"||o==="change")return iu(c)}function zT(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var nr=typeof Object.is=="function"?Object.is:zT;function rl(o,c){if(nr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var j=p[y];if(!d.call(c,j)||!nr(o[j],c[j]))return!1}return!0}function Mx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Fx(o,c){var p=Mx(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Mx(p)}}function Dx(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Dx(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Ox(){for(var o=window,c=ge();c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=ge(o.document)}return c}function Vh(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function LT(o){var c=Ox(),p=o.focusedElem,y=o.selectionRange;if(c!==p&&p&&p.ownerDocument&&Dx(p.ownerDocument.documentElement,p)){if(y!==null&&Vh(p)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(o,p.value.length);else if(o=(c=p.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var j=p.textContent.length,N=Math.min(y.start,j);y=y.end===void 0?N:Math.min(y.end,j),!o.extend&&N>y&&(j=y,y=N,N=j),j=Fx(p,N);var F=Fx(p,y);j&&F&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==F.node||o.focusOffset!==F.offset)&&(c=c.createRange(),c.setStart(j.node,j.offset),o.removeAllRanges(),N>y?(o.addRange(c),o.extend(F.node,F.offset)):(c.setEnd(F.node,F.offset),o.addRange(c)))}}for(c=[],o=p;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)o=c[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var $T=u&&"documentMode"in document&&11>=document.documentMode,vi=null,Wh=null,sl=null,Uh=!1;function zx(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Uh||vi==null||vi!==ge(y)||(y=vi,"selectionStart"in y&&Vh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),sl&&rl(sl,y)||(sl=y,y=uu(Wh,"onSelect"),0<y.length&&(c=new Mh("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=vi)))}function au(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var bi={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Hh={},Lx={};u&&(Lx=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function lu(o){if(Hh[o])return Hh[o];if(!bi[o])return o;var c=bi[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in Lx)return Hh[o]=c[p];return o}var $x=lu("animationend"),Bx=lu("animationiteration"),Vx=lu("animationstart"),Wx=lu("transitionend"),Ux=new Map,Hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(o,c){Ux.set(o,c),i(c,[o])}for(var Gh=0;Gh<Hx.length;Gh++){var qh=Hx[Gh],BT=qh.toLowerCase(),VT=qh[0].toUpperCase()+qh.slice(1);Ps(BT,"on"+VT)}Ps($x,"onAnimationEnd"),Ps(Bx,"onAnimationIteration"),Ps(Vx,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(Wx,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Gx(o,c,p){var y=o.type||"unknown-event";o.currentTarget=p,xh(y,c,void 0,o),o.currentTarget=null}function qx(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],j=y.event;y=y.listeners;e:{var N=void 0;if(c)for(var F=y.length-1;0<=F;F--){var G=y[F],Q=G.instance,ie=G.currentTarget;if(G=G.listener,Q!==N&&j.isPropagationStopped())break e;Gx(j,G,ie),N=Q}else for(F=0;F<y.length;F++){if(G=y[F],Q=G.instance,ie=G.currentTarget,G=G.listener,Q!==N&&j.isPropagationStopped())break e;Gx(j,G,ie),N=Q}}}if(vo)throw o=Ba,vo=!1,Ba=null,o}function et(o,c){var p=c[tp];p===void 0&&(p=c[tp]=new Set);var y=o+"__bubble";p.has(y)||(Kx(c,o,2,!1),p.add(y))}function Kh(o,c,p){var y=0;c&&(y|=4),Kx(p,o,y,c)}var cu="_reactListening"+Math.random().toString(36).slice(2);function il(o){if(!o[cu]){o[cu]=!0,r.forEach(function(p){p!=="selectionchange"&&(WT.has(p)||Kh(p,!1,o),Kh(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[cu]||(c[cu]=!0,Kh("selectionchange",!1,c))}}function Kx(o,c,p,y){switch(yx(c)){case 1:var j=rT;break;case 4:j=sT;break;default:j=Ph}p=j.bind(null,c,p,o),j=void 0,!Tr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),y?j!==void 0?o.addEventListener(c,p,{capture:!0,passive:j}):o.addEventListener(c,p,!0):j!==void 0?o.addEventListener(c,p,{passive:j}):o.addEventListener(c,p,!1)}function Xh(o,c,p,y,j){var N=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var F=y.tag;if(F===3||F===4){var G=y.stateNode.containerInfo;if(G===j||G.nodeType===8&&G.parentNode===j)break;if(F===4)for(F=y.return;F!==null;){var Q=F.tag;if((Q===3||Q===4)&&(Q=F.stateNode.containerInfo,Q===j||Q.nodeType===8&&Q.parentNode===j))return;F=F.return}for(;G!==null;){if(F=So(G),F===null)return;if(Q=F.tag,Q===5||Q===6){y=N=F;continue e}G=G.parentNode}}y=y.return}ht(function(){var ie=N,fe=gn(p),he=[];e:{var de=Ux.get(o);if(de!==void 0){var ye=Mh,Se=o;switch(o){case"keypress":if(ru(p)===0)break e;case"keydown":case"keyup":ye=vT;break;case"focusin":Se="focus",ye=Oh;break;case"focusout":Se="blur",ye=Oh;break;case"beforeblur":case"afterblur":ye=Oh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ST;break;case $x:case Bx:case Vx:ye=uT;break;case Wx:ye=jT;break;case"scroll":ye=oT;break;case"wheel":ye=_T;break;case"copy":case"cut":case"paste":ye=fT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Sx}var _e=(c&4)!==0,vt=!_e&&o==="scroll",re=_e?de!==null?de+"Capture":null:de;_e=[];for(var ee=ie,oe;ee!==null;){oe=ee;var me=oe.stateNode;if(oe.tag===5&&me!==null&&(oe=me,re!==null&&(me=wt(ee,re),me!=null&&_e.push(al(ee,me,oe)))),vt)break;ee=ee.return}0<_e.length&&(de=new ye(de,Se,null,p,fe),he.push({event:de,listeners:_e}))}}if((c&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",de&&p!==Qr&&(Se=p.relatedTarget||p.fromElement)&&(So(Se)||Se[Zr]))break e;if((ye||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,ye?(Se=p.relatedTarget||p.toElement,ye=ie,Se=Se?So(Se):null,Se!==null&&(vt=Rr(Se),Se!==vt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ye=null,Se=ie),ye!==Se)){if(_e=bx,me="onMouseLeave",re="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(_e=Sx,me="onPointerLeave",re="onPointerEnter",ee="pointer"),vt=ye==null?de:ki(ye),oe=Se==null?de:ki(Se),de=new _e(me,ee+"leave",ye,p,fe),de.target=vt,de.relatedTarget=oe,me=null,So(fe)===ie&&(_e=new _e(re,ee+"enter",Se,p,fe),_e.target=oe,_e.relatedTarget=vt,me=_e),vt=me,ye&&Se)t:{for(_e=ye,re=Se,ee=0,oe=_e;oe;oe=wi(oe))ee++;for(oe=0,me=re;me;me=wi(me))oe++;for(;0<ee-oe;)_e=wi(_e),ee--;for(;0<oe-ee;)re=wi(re),oe--;for(;ee--;){if(_e===re||re!==null&&_e===re.alternate)break t;_e=wi(_e),re=wi(re)}_e=null}else _e=null;ye!==null&&Xx(he,de,ye,_e,!1),Se!==null&&vt!==null&&Xx(he,vt,Se,_e,!0)}}e:{if(de=ie?ki(ie):window,ye=de.nodeName&&de.nodeName.toLowerCase(),ye==="select"||ye==="input"&&de.type==="file")var Te=AT;else if(Tx(de))if(Rx)Te=OT;else{Te=FT;var Pe=MT}else(ye=de.nodeName)&&ye.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Te=DT);if(Te&&(Te=Te(o,ie))){Nx(he,Te,p,fe);break e}Pe&&Pe(o,de,ie),o==="focusout"&&(Pe=de._wrapperState)&&Pe.controlled&&de.type==="number"&&Be(de,"number",de.value)}switch(Pe=ie?ki(ie):window,o){case"focusin":(Tx(Pe)||Pe.contentEditable==="true")&&(vi=Pe,Wh=ie,sl=null);break;case"focusout":sl=Wh=vi=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,zx(he,p,fe);break;case"selectionchange":if($T)break;case"keydown":case"keyup":zx(he,p,fe)}var Ie;if(Lh)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else xi?_x(o,p)&&(De="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(De="onCompositionStart");De&&(kx&&p.locale!=="ko"&&(xi||De!=="onCompositionStart"?De==="onCompositionEnd"&&xi&&(Ie=xx()):(Rs=fe,Ah="value"in Rs?Rs.value:Rs.textContent,xi=!0)),Pe=uu(ie,De),0<Pe.length&&(De=new wx(De,o,null,p,fe),he.push({event:De,listeners:Pe}),Ie?De.data=Ie:(Ie=Ex(p),Ie!==null&&(De.data=Ie)))),(Ie=TT?NT(o,p):RT(o,p))&&(ie=uu(ie,"onBeforeInput"),0<ie.length&&(fe=new wx("onBeforeInput","beforeinput",null,p,fe),he.push({event:fe,listeners:ie}),fe.data=Ie))}qx(he,c)})}function al(o,c,p){return{instance:o,listener:c,currentTarget:p}}function uu(o,c){for(var p=c+"Capture",y=[];o!==null;){var j=o,N=j.stateNode;j.tag===5&&N!==null&&(j=N,N=wt(o,p),N!=null&&y.unshift(al(o,N,j)),N=wt(o,c),N!=null&&y.push(al(o,N,j))),o=o.return}return y}function wi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Xx(o,c,p,y,j){for(var N=c._reactName,F=[];p!==null&&p!==y;){var G=p,Q=G.alternate,ie=G.stateNode;if(Q!==null&&Q===y)break;G.tag===5&&ie!==null&&(G=ie,j?(Q=wt(p,N),Q!=null&&F.unshift(al(p,Q,G))):j||(Q=wt(p,N),Q!=null&&F.push(al(p,Q,G)))),p=p.return}F.length!==0&&o.push({event:c,listeners:F})}var UT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function Yx(o){return(typeof o=="string"?o:""+o).replace(UT,`
`).replace(HT,"")}function du(o,c,p){if(c=Yx(c),Yx(o)!==c&&p)throw Error(n(425))}function fu(){}var Yh=null,Jh=null;function Qh(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,Jx=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jx<"u"?function(o){return Jx.resolve(null).then(o).catch(KT)}:Zh;function KT(o){setTimeout(function(){throw o})}function ep(o,c){var p=c,y=0;do{var j=p.nextSibling;if(o.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(y===0){o.removeChild(j),Ja(c);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=j}while(p);Ja(c)}function Is(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Qx(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Si,ll="__reactProps$"+Si,Zr="__reactContainer$"+Si,tp="__reactEvents$"+Si,XT="__reactListeners$"+Si,YT="__reactHandles$"+Si;function So(o){var c=o[Ir];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Zr]||p[Ir]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=Qx(o);o!==null;){if(p=o[Ir])return p;o=Qx(o)}return c}o=p,p=o.parentNode}return null}function cl(o){return o=o[Ir]||o[Zr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ki(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function hu(o){return o[ll]||null}var np=[],ji=-1;function As(o){return{current:o}}function tt(o){0>ji||(o.current=np[ji],np[ji]=null,ji--)}function Je(o,c){ji++,np[ji]=o.current,o.current=c}var Ms={},en=As(Ms),xn=As(!1),ko=Ms;function Ci(o,c){var p=o.type.contextTypes;if(!p)return Ms;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var j={},N;for(N in p)j[N]=c[N];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=j),j}function vn(o){return o=o.childContextTypes,o!=null}function pu(){tt(xn),tt(en)}function Zx(o,c,p){if(en.current!==Ms)throw Error(n(168));Je(en,c),Je(xn,p)}function ev(o,c,p){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var j in y)if(!(j in c))throw Error(n(108,ne(o)||"Unknown",j));return O({},p,y)}function mu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ms,ko=en.current,Je(en,o),Je(xn,xn.current),!0}function tv(o,c,p){var y=o.stateNode;if(!y)throw Error(n(169));p?(o=ev(o,c,ko),y.__reactInternalMemoizedMergedChildContext=o,tt(xn),tt(en),Je(en,o)):tt(xn),Je(xn,p)}var es=null,gu=!1,rp=!1;function nv(o){es===null?es=[o]:es.push(o)}function JT(o){gu=!0,nv(o)}function Fs(){if(!rp&&es!==null){rp=!0;var o=0,c=Ye;try{var p=es;for(Ye=1;o<p.length;o++){var y=p[o];do y=y(!0);while(y!==null)}es=null,gu=!1}catch(j){throw es!==null&&(es=es.slice(o+1)),Hc(Ua,Fs),j}finally{Ye=c,rp=!1}}return null}var _i=[],Ei=0,yu=null,xu=0,Vn=[],Wn=0,jo=null,ts=1,ns="";function Co(o,c){_i[Ei++]=xu,_i[Ei++]=yu,yu=o,xu=c}function rv(o,c,p){Vn[Wn++]=ts,Vn[Wn++]=ns,Vn[Wn++]=jo,jo=o;var y=ts;o=ns;var j=32-_n(y)-1;y&=~(1<<j),p+=1;var N=32-_n(c)+j;if(30<N){var F=j-j%5;N=(y&(1<<F)-1).toString(32),y>>=F,j-=F,ts=1<<32-_n(c)+j|p<<j|y,ns=N+o}else ts=1<<N|p<<j|y,ns=o}function sp(o){o.return!==null&&(Co(o,1),rv(o,1,0))}function op(o){for(;o===yu;)yu=_i[--Ei],_i[Ei]=null,xu=_i[--Ei],_i[Ei]=null;for(;o===jo;)jo=Vn[--Wn],Vn[Wn]=null,ns=Vn[--Wn],Vn[Wn]=null,ts=Vn[--Wn],Vn[Wn]=null}var Tn=null,Nn=null,rt=!1,rr=null;function sv(o,c){var p=qn(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=o,c=o.deletions,c===null?(o.deletions=[p],o.flags|=16):c.push(p)}function ov(o,c){switch(o.tag){case 5:var p=o.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Tn=o,Nn=Is(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Tn=o,Nn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=jo!==null?{id:ts,overflow:ns}:null,o.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=qn(18,null,null,0),p.stateNode=c,p.return=o,o.child=p,Tn=o,Nn=null,!0):!1;default:return!1}}function ip(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ap(o){if(rt){var c=Nn;if(c){var p=c;if(!ov(o,c)){if(ip(o))throw Error(n(418));c=Is(p.nextSibling);var y=Tn;c&&ov(o,c)?sv(y,p):(o.flags=o.flags&-4097|2,rt=!1,Tn=o)}}else{if(ip(o))throw Error(n(418));o.flags=o.flags&-4097|2,rt=!1,Tn=o}}}function iv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Tn=o}function vu(o){if(o!==Tn)return!1;if(!rt)return iv(o),rt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Qh(o.type,o.memoizedProps)),c&&(c=Nn)){if(ip(o))throw av(),Error(n(418));for(;c;)sv(o,c),c=Is(c.nextSibling)}if(iv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(c===0){Nn=Is(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}o=o.nextSibling}Nn=null}}else Nn=Tn?Is(o.stateNode.nextSibling):null;return!0}function av(){for(var o=Nn;o;)o=Is(o.nextSibling)}function Ti(){Nn=Tn=null,rt=!1}function lp(o){rr===null?rr=[o]:rr.push(o)}var QT=T.ReactCurrentBatchConfig;function ul(o,c,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var y=p.stateNode}if(!y)throw Error(n(147,o));var j=y,N=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(F){var G=j.refs;F===null?delete G[N]:G[N]=F},c._stringRef=N,c)}if(typeof o!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,o))}return o}function bu(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function lv(o){var c=o._init;return c(o._payload)}function cv(o){function c(re,ee){if(o){var oe=re.deletions;oe===null?(re.deletions=[ee],re.flags|=16):oe.push(ee)}}function p(re,ee){if(!o)return null;for(;ee!==null;)c(re,ee),ee=ee.sibling;return null}function y(re,ee){for(re=new Map;ee!==null;)ee.key!==null?re.set(ee.key,ee):re.set(ee.index,ee),ee=ee.sibling;return re}function j(re,ee){return re=Ws(re,ee),re.index=0,re.sibling=null,re}function N(re,ee,oe){return re.index=oe,o?(oe=re.alternate,oe!==null?(oe=oe.index,oe<ee?(re.flags|=2,ee):oe):(re.flags|=2,ee)):(re.flags|=1048576,ee)}function F(re){return o&&re.alternate===null&&(re.flags|=2),re}function G(re,ee,oe,me){return ee===null||ee.tag!==6?(ee=Zp(oe,re.mode,me),ee.return=re,ee):(ee=j(ee,oe),ee.return=re,ee)}function Q(re,ee,oe,me){var Te=oe.type;return Te===R?fe(re,ee,oe.props.children,me,oe.key):ee!==null&&(ee.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===z&&lv(Te)===ee.type)?(me=j(ee,oe.props),me.ref=ul(re,ee,oe),me.return=re,me):(me=Uu(oe.type,oe.key,oe.props,null,re.mode,me),me.ref=ul(re,ee,oe),me.return=re,me)}function ie(re,ee,oe,me){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=em(oe,re.mode,me),ee.return=re,ee):(ee=j(ee,oe.children||[]),ee.return=re,ee)}function fe(re,ee,oe,me,Te){return ee===null||ee.tag!==7?(ee=Ao(oe,re.mode,me,Te),ee.return=re,ee):(ee=j(ee,oe),ee.return=re,ee)}function he(re,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Zp(""+ee,re.mode,oe),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return oe=Uu(ee.type,ee.key,ee.props,null,re.mode,oe),oe.ref=ul(re,null,ee),oe.return=re,oe;case C:return ee=em(ee,re.mode,oe),ee.return=re,ee;case z:var me=ee._init;return he(re,me(ee._payload),oe)}if(zt(ee)||B(ee))return ee=Ao(ee,re.mode,oe,null),ee.return=re,ee;bu(re,ee)}return null}function de(re,ee,oe,me){var Te=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Te!==null?null:G(re,ee,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case P:return oe.key===Te?Q(re,ee,oe,me):null;case C:return oe.key===Te?ie(re,ee,oe,me):null;case z:return Te=oe._init,de(re,ee,Te(oe._payload),me)}if(zt(oe)||B(oe))return Te!==null?null:fe(re,ee,oe,me,null);bu(re,oe)}return null}function ye(re,ee,oe,me,Te){if(typeof me=="string"&&me!==""||typeof me=="number")return re=re.get(oe)||null,G(ee,re,""+me,Te);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return re=re.get(me.key===null?oe:me.key)||null,Q(ee,re,me,Te);case C:return re=re.get(me.key===null?oe:me.key)||null,ie(ee,re,me,Te);case z:var Pe=me._init;return ye(re,ee,oe,Pe(me._payload),Te)}if(zt(me)||B(me))return re=re.get(oe)||null,fe(ee,re,me,Te,null);bu(ee,me)}return null}function Se(re,ee,oe,me){for(var Te=null,Pe=null,Ie=ee,De=ee=0,Wt=null;Ie!==null&&De<oe.length;De++){Ie.index>De?(Wt=Ie,Ie=null):Wt=Ie.sibling;var qe=de(re,Ie,oe[De],me);if(qe===null){Ie===null&&(Ie=Wt);break}o&&Ie&&qe.alternate===null&&c(re,Ie),ee=N(qe,ee,De),Pe===null?Te=qe:Pe.sibling=qe,Pe=qe,Ie=Wt}if(De===oe.length)return p(re,Ie),rt&&Co(re,De),Te;if(Ie===null){for(;De<oe.length;De++)Ie=he(re,oe[De],me),Ie!==null&&(ee=N(Ie,ee,De),Pe===null?Te=Ie:Pe.sibling=Ie,Pe=Ie);return rt&&Co(re,De),Te}for(Ie=y(re,Ie);De<oe.length;De++)Wt=ye(Ie,re,De,oe[De],me),Wt!==null&&(o&&Wt.alternate!==null&&Ie.delete(Wt.key===null?De:Wt.key),ee=N(Wt,ee,De),Pe===null?Te=Wt:Pe.sibling=Wt,Pe=Wt);return o&&Ie.forEach(function(Us){return c(re,Us)}),rt&&Co(re,De),Te}function _e(re,ee,oe,me){var Te=B(oe);if(typeof Te!="function")throw Error(n(150));if(oe=Te.call(oe),oe==null)throw Error(n(151));for(var Pe=Te=null,Ie=ee,De=ee=0,Wt=null,qe=oe.next();Ie!==null&&!qe.done;De++,qe=oe.next()){Ie.index>De?(Wt=Ie,Ie=null):Wt=Ie.sibling;var Us=de(re,Ie,qe.value,me);if(Us===null){Ie===null&&(Ie=Wt);break}o&&Ie&&Us.alternate===null&&c(re,Ie),ee=N(Us,ee,De),Pe===null?Te=Us:Pe.sibling=Us,Pe=Us,Ie=Wt}if(qe.done)return p(re,Ie),rt&&Co(re,De),Te;if(Ie===null){for(;!qe.done;De++,qe=oe.next())qe=he(re,qe.value,me),qe!==null&&(ee=N(qe,ee,De),Pe===null?Te=qe:Pe.sibling=qe,Pe=qe);return rt&&Co(re,De),Te}for(Ie=y(re,Ie);!qe.done;De++,qe=oe.next())qe=ye(Ie,re,De,qe.value,me),qe!==null&&(o&&qe.alternate!==null&&Ie.delete(qe.key===null?De:qe.key),ee=N(qe,ee,De),Pe===null?Te=qe:Pe.sibling=qe,Pe=qe);return o&&Ie.forEach(function(PN){return c(re,PN)}),rt&&Co(re,De),Te}function vt(re,ee,oe,me){if(typeof oe=="object"&&oe!==null&&oe.type===R&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case P:e:{for(var Te=oe.key,Pe=ee;Pe!==null;){if(Pe.key===Te){if(Te=oe.type,Te===R){if(Pe.tag===7){p(re,Pe.sibling),ee=j(Pe,oe.props.children),ee.return=re,re=ee;break e}}else if(Pe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===z&&lv(Te)===Pe.type){p(re,Pe.sibling),ee=j(Pe,oe.props),ee.ref=ul(re,Pe,oe),ee.return=re,re=ee;break e}p(re,Pe);break}else c(re,Pe);Pe=Pe.sibling}oe.type===R?(ee=Ao(oe.props.children,re.mode,me,oe.key),ee.return=re,re=ee):(me=Uu(oe.type,oe.key,oe.props,null,re.mode,me),me.ref=ul(re,ee,oe),me.return=re,re=me)}return F(re);case C:e:{for(Pe=oe.key;ee!==null;){if(ee.key===Pe)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){p(re,ee.sibling),ee=j(ee,oe.children||[]),ee.return=re,re=ee;break e}else{p(re,ee);break}else c(re,ee);ee=ee.sibling}ee=em(oe,re.mode,me),ee.return=re,re=ee}return F(re);case z:return Pe=oe._init,vt(re,ee,Pe(oe._payload),me)}if(zt(oe))return Se(re,ee,oe,me);if(B(oe))return _e(re,ee,oe,me);bu(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(p(re,ee.sibling),ee=j(ee,oe),ee.return=re,re=ee):(p(re,ee),ee=Zp(oe,re.mode,me),ee.return=re,re=ee),F(re)):p(re,ee)}return vt}var Ni=cv(!0),uv=cv(!1),wu=As(null),Su=null,Ri=null,cp=null;function up(){cp=Ri=Su=null}function dp(o){var c=wu.current;tt(wu),o._currentValue=c}function fp(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function Pi(o,c){Su=o,cp=Ri=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(bn=!0),o.firstContext=null)}function Un(o){var c=o._currentValue;if(cp!==o)if(o={context:o,memoizedValue:c,next:null},Ri===null){if(Su===null)throw Error(n(308));Ri=o,Su.dependencies={lanes:0,firstContext:o}}else Ri=Ri.next=o;return c}var _o=null;function hp(o){_o===null?_o=[o]:_o.push(o)}function dv(o,c,p,y){var j=c.interleaved;return j===null?(p.next=p,hp(c)):(p.next=j.next,j.next=p),c.interleaved=p,rs(o,y)}function rs(o,c){o.lanes|=c;var p=o.alternate;for(p!==null&&(p.lanes|=c),p=o,o=o.return;o!==null;)o.childLanes|=c,p=o.alternate,p!==null&&(p.childLanes|=c),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Ds=!1;function pp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ss(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Os(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ge&2)!==0){var j=y.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),y.pending=c,rs(o,p)}return j=y.interleaved,j===null?(c.next=c,hp(y)):(c.next=j.next,j.next=c),y.interleaved=c,rs(o,p)}function ku(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Th(o,p)}}function hv(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var j=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var F={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};N===null?j=N=F:N=N.next=F,p=p.next}while(p!==null);N===null?j=N=c:N=N.next=c}else j=N=c;p={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:N,shared:y.shared,effects:y.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function ju(o,c,p,y){var j=o.updateQueue;Ds=!1;var N=j.firstBaseUpdate,F=j.lastBaseUpdate,G=j.shared.pending;if(G!==null){j.shared.pending=null;var Q=G,ie=Q.next;Q.next=null,F===null?N=ie:F.next=ie,F=Q;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,G=fe.lastBaseUpdate,G!==F&&(G===null?fe.firstBaseUpdate=ie:G.next=ie,fe.lastBaseUpdate=Q))}if(N!==null){var he=j.baseState;F=0,fe=ie=Q=null,G=N;do{var de=G.lane,ye=G.eventTime;if((y&de)===de){fe!==null&&(fe=fe.next={eventTime:ye,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Se=o,_e=G;switch(de=c,ye=p,_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){he=Se.call(ye,he,de);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,de=typeof Se=="function"?Se.call(ye,he,de):Se,de==null)break e;he=O({},he,de);break e;case 2:Ds=!0}}G.callback!==null&&G.lane!==0&&(o.flags|=64,de=j.effects,de===null?j.effects=[G]:de.push(G))}else ye={eventTime:ye,lane:de,tag:G.tag,payload:G.payload,callback:G.callback,next:null},fe===null?(ie=fe=ye,Q=he):fe=fe.next=ye,F|=de;if(G=G.next,G===null){if(G=j.shared.pending,G===null)break;de=G,G=de.next,de.next=null,j.lastBaseUpdate=de,j.shared.pending=null}}while(!0);if(fe===null&&(Q=he),j.baseState=Q,j.firstBaseUpdate=ie,j.lastBaseUpdate=fe,c=j.shared.interleaved,c!==null){j=c;do F|=j.lane,j=j.next;while(j!==c)}else N===null&&(j.shared.lanes=0);No|=F,o.lanes=F,o.memoizedState=he}}function pv(o,c,p){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],j=y.callback;if(j!==null){if(y.callback=null,y=p,typeof j!="function")throw Error(n(191,j));j.call(y)}}}var dl={},Ar=As(dl),fl=As(dl),hl=As(dl);function Eo(o){if(o===dl)throw Error(n(174));return o}function mp(o,c){switch(Je(hl,c),Je(fl,o),Je(Ar,dl),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Nt(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Nt(c,o)}tt(Ar),Je(Ar,c)}function Ii(){tt(Ar),tt(fl),tt(hl)}function mv(o){Eo(hl.current);var c=Eo(Ar.current),p=Nt(c,o.type);c!==p&&(Je(fl,o),Je(Ar,p))}function gp(o){fl.current===o&&(tt(Ar),tt(fl))}var ut=As(0);function Cu(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var yp=[];function xp(){for(var o=0;o<yp.length;o++)yp[o]._workInProgressVersionPrimary=null;yp.length=0}var _u=T.ReactCurrentDispatcher,vp=T.ReactCurrentBatchConfig,To=0,dt=null,Pt=null,Bt=null,Eu=!1,pl=!1,ml=0,ZT=0;function tn(){throw Error(n(321))}function bp(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!nr(o[p],c[p]))return!1;return!0}function wp(o,c,p,y,j,N){if(To=N,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,_u.current=o===null||o.memoizedState===null?rN:sN,o=p(y,j),pl){N=0;do{if(pl=!1,ml=0,25<=N)throw Error(n(301));N+=1,Bt=Pt=null,c.updateQueue=null,_u.current=oN,o=p(y,j)}while(pl)}if(_u.current=Ru,c=Pt!==null&&Pt.next!==null,To=0,Bt=Pt=dt=null,Eu=!1,c)throw Error(n(300));return o}function Sp(){var o=ml!==0;return ml=0,o}function Mr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?dt.memoizedState=Bt=o:Bt=Bt.next=o,Bt}function Hn(){if(Pt===null){var o=dt.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var c=Bt===null?dt.memoizedState:Bt.next;if(c!==null)Bt=c,Pt=o;else{if(o===null)throw Error(n(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Bt===null?dt.memoizedState=Bt=o:Bt=Bt.next=o}return Bt}function gl(o,c){return typeof c=="function"?c(o):c}function kp(o){var c=Hn(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var y=Pt,j=y.baseQueue,N=p.pending;if(N!==null){if(j!==null){var F=j.next;j.next=N.next,N.next=F}y.baseQueue=j=N,p.pending=null}if(j!==null){N=j.next,y=y.baseState;var G=F=null,Q=null,ie=N;do{var fe=ie.lane;if((To&fe)===fe)Q!==null&&(Q=Q.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),y=ie.hasEagerState?ie.eagerState:o(y,ie.action);else{var he={lane:fe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Q===null?(G=Q=he,F=y):Q=Q.next=he,dt.lanes|=fe,No|=fe}ie=ie.next}while(ie!==null&&ie!==N);Q===null?F=y:Q.next=G,nr(y,c.memoizedState)||(bn=!0),c.memoizedState=y,c.baseState=F,c.baseQueue=Q,p.lastRenderedState=y}if(o=p.interleaved,o!==null){j=o;do N=j.lane,dt.lanes|=N,No|=N,j=j.next;while(j!==o)}else j===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function jp(o){var c=Hn(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var y=p.dispatch,j=p.pending,N=c.memoizedState;if(j!==null){p.pending=null;var F=j=j.next;do N=o(N,F.action),F=F.next;while(F!==j);nr(N,c.memoizedState)||(bn=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),p.lastRenderedState=N}return[N,y]}function gv(){}function yv(o,c){var p=dt,y=Hn(),j=c(),N=!nr(y.memoizedState,j);if(N&&(y.memoizedState=j,bn=!0),y=y.queue,Cp(bv.bind(null,p,y,o),[o]),y.getSnapshot!==c||N||Bt!==null&&Bt.memoizedState.tag&1){if(p.flags|=2048,yl(9,vv.bind(null,p,y,j,c),void 0,null),Vt===null)throw Error(n(349));(To&30)!==0||xv(p,c,j)}return j}function xv(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function vv(o,c,p,y){c.value=p,c.getSnapshot=y,wv(c)&&Sv(o)}function bv(o,c,p){return p(function(){wv(c)&&Sv(o)})}function wv(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!nr(o,p)}catch{return!0}}function Sv(o){var c=rs(o,1);c!==null&&ar(c,o,1,-1)}function kv(o){var c=Mr();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:o},c.queue=o,o=o.dispatch=nN.bind(null,dt,o),[c.memoizedState,o]}function yl(o,c,p,y){return o={tag:o,create:c,destroy:p,deps:y,next:null},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.lastEffect=o.next=o):(p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o)),o}function jv(){return Hn().memoizedState}function Tu(o,c,p,y){var j=Mr();dt.flags|=o,j.memoizedState=yl(1|c,p,void 0,y===void 0?null:y)}function Nu(o,c,p,y){var j=Hn();y=y===void 0?null:y;var N=void 0;if(Pt!==null){var F=Pt.memoizedState;if(N=F.destroy,y!==null&&bp(y,F.deps)){j.memoizedState=yl(c,p,N,y);return}}dt.flags|=o,j.memoizedState=yl(1|c,p,N,y)}function Cv(o,c){return Tu(8390656,8,o,c)}function Cp(o,c){return Nu(2048,8,o,c)}function _v(o,c){return Nu(4,2,o,c)}function Ev(o,c){return Nu(4,4,o,c)}function Tv(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Nv(o,c,p){return p=p!=null?p.concat([o]):null,Nu(4,4,Tv.bind(null,c,o),p)}function _p(){}function Rv(o,c){var p=Hn();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&bp(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function Pv(o,c){var p=Hn();c=c===void 0?null:c;var y=p.memoizedState;return y!==null&&c!==null&&bp(c,y[1])?y[0]:(o=o(),p.memoizedState=[o,c],o)}function Iv(o,c,p){return(To&21)===0?(o.baseState&&(o.baseState=!1,bn=!0),o.memoizedState=p):(nr(p,c)||(p=mi(),dt.lanes|=p,No|=p,o.baseState=!0),c)}function eN(o,c){var p=Ye;Ye=p!==0&&4>p?p:4,o(!0);var y=vp.transition;vp.transition={};try{o(!1),c()}finally{Ye=p,vp.transition=y}}function Av(){return Hn().memoizedState}function tN(o,c,p){var y=Bs(o);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},Mv(o))Fv(c,p);else if(p=dv(o,c,p,y),p!==null){var j=ln();ar(p,o,y,j),Dv(p,c,y)}}function nN(o,c,p){var y=Bs(o),j={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(Mv(o))Fv(c,j);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var F=c.lastRenderedState,G=N(F,p);if(j.hasEagerState=!0,j.eagerState=G,nr(G,F)){var Q=c.interleaved;Q===null?(j.next=j,hp(c)):(j.next=Q.next,Q.next=j),c.interleaved=j;return}}catch{}finally{}p=dv(o,c,j,y),p!==null&&(j=ln(),ar(p,o,y,j),Dv(p,c,y))}}function Mv(o){var c=o.alternate;return o===dt||c!==null&&c===dt}function Fv(o,c){pl=Eu=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function Dv(o,c,p){if((p&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Th(o,p)}}var Ru={readContext:Un,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},rN={readContext:Un,useCallback:function(o,c){return Mr().memoizedState=[o,c===void 0?null:c],o},useContext:Un,useEffect:Cv,useImperativeHandle:function(o,c,p){return p=p!=null?p.concat([o]):null,Tu(4194308,4,Tv.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Tu(4194308,4,o,c)},useInsertionEffect:function(o,c){return Tu(4,2,o,c)},useMemo:function(o,c){var p=Mr();return c=c===void 0?null:c,o=o(),p.memoizedState=[o,c],o},useReducer:function(o,c,p){var y=Mr();return c=p!==void 0?p(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=tN.bind(null,dt,o),[y.memoizedState,o]},useRef:function(o){var c=Mr();return o={current:o},c.memoizedState=o},useState:kv,useDebugValue:_p,useDeferredValue:function(o){return Mr().memoizedState=o},useTransition:function(){var o=kv(!1),c=o[0];return o=eN.bind(null,o[1]),Mr().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,p){var y=dt,j=Mr();if(rt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=c(),Vt===null)throw Error(n(349));(To&30)!==0||xv(y,c,p)}j.memoizedState=p;var N={value:p,getSnapshot:c};return j.queue=N,Cv(bv.bind(null,y,N,o),[o]),y.flags|=2048,yl(9,vv.bind(null,y,N,p,c),void 0,null),p},useId:function(){var o=Mr(),c=Vt.identifierPrefix;if(rt){var p=ns,y=ts;p=(y&~(1<<32-_n(y)-1)).toString(32)+p,c=":"+c+"R"+p,p=ml++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=ZT++,c=":"+c+"r"+p.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},sN={readContext:Un,useCallback:Rv,useContext:Un,useEffect:Cp,useImperativeHandle:Nv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Pv,useReducer:kp,useRef:jv,useState:function(){return kp(gl)},useDebugValue:_p,useDeferredValue:function(o){var c=Hn();return Iv(c,Pt.memoizedState,o)},useTransition:function(){var o=kp(gl)[0],c=Hn().memoizedState;return[o,c]},useMutableSource:gv,useSyncExternalStore:yv,useId:Av,unstable_isNewReconciler:!1},oN={readContext:Un,useCallback:Rv,useContext:Un,useEffect:Cp,useImperativeHandle:Nv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Pv,useReducer:jp,useRef:jv,useState:function(){return jp(gl)},useDebugValue:_p,useDeferredValue:function(o){var c=Hn();return Pt===null?c.memoizedState=o:Iv(c,Pt.memoizedState,o)},useTransition:function(){var o=jp(gl)[0],c=Hn().memoizedState;return[o,c]},useMutableSource:gv,useSyncExternalStore:yv,useId:Av,unstable_isNewReconciler:!1};function sr(o,c){if(o&&o.defaultProps){c=O({},c),o=o.defaultProps;for(var p in o)c[p]===void 0&&(c[p]=o[p]);return c}return c}function Ep(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:O({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Pu={isMounted:function(o){return(o=o._reactInternals)?Rr(o)===o:!1},enqueueSetState:function(o,c,p){o=o._reactInternals;var y=ln(),j=Bs(o),N=ss(y,j);N.payload=c,p!=null&&(N.callback=p),c=Os(o,N,j),c!==null&&(ar(c,o,j,y),ku(c,o,j))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=ln(),j=Bs(o),N=ss(y,j);N.tag=1,N.payload=c,p!=null&&(N.callback=p),c=Os(o,N,j),c!==null&&(ar(c,o,j,y),ku(c,o,j))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=ln(),y=Bs(o),j=ss(p,y);j.tag=2,c!=null&&(j.callback=c),c=Os(o,j,y),c!==null&&(ar(c,o,y,p),ku(c,o,y))}};function Ov(o,c,p,y,j,N,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,N,F):c.prototype&&c.prototype.isPureReactComponent?!rl(p,y)||!rl(j,N):!0}function zv(o,c,p){var y=!1,j=Ms,N=c.contextType;return typeof N=="object"&&N!==null?N=Un(N):(j=vn(c)?ko:en.current,y=c.contextTypes,N=(y=y!=null)?Ci(o,j):Ms),c=new c(p,N),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Pu,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=N),c}function Lv(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&Pu.enqueueReplaceState(c,c.state,null)}function Tp(o,c,p,y){var j=o.stateNode;j.props=p,j.state=o.memoizedState,j.refs={},pp(o);var N=c.contextType;typeof N=="object"&&N!==null?j.context=Un(N):(N=vn(c)?ko:en.current,j.context=Ci(o,N)),j.state=o.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Ep(o,c,N,p),j.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(c=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),c!==j.state&&Pu.enqueueReplaceState(j,j.state,null),ju(o,p,j,y),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function Ai(o,c){try{var p="",y=c;do p+=q(y),y=y.return;while(y);var j=p}catch(N){j=`
Error generating stack: `+N.message+`
`+N.stack}return{value:o,source:c,stack:j,digest:null}}function Np(o,c,p){return{value:o,source:null,stack:p??null,digest:c??null}}function Rp(o,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var iN=typeof WeakMap=="function"?WeakMap:Map;function $v(o,c,p){p=ss(-1,p),p.tag=3,p.payload={element:null};var y=c.value;return p.callback=function(){zu||(zu=!0,Hp=y),Rp(o,c)},p}function Bv(o,c,p){p=ss(-1,p),p.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var j=c.value;p.payload=function(){return y(j)},p.callback=function(){Rp(o,c)}}var N=o.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(p.callback=function(){Rp(o,c),typeof y!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})}),p}function Vv(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new iN;var j=new Set;y.set(c,j)}else j=y.get(c),j===void 0&&(j=new Set,y.set(c,j));j.has(p)||(j.add(p),o=bN.bind(null,o,c,p),c.then(o,o))}function Wv(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function Uv(o,c,p,y,j){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=ss(-1,1),c.tag=2,Os(p,c,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=j,o)}var aN=T.ReactCurrentOwner,bn=!1;function an(o,c,p,y){c.child=o===null?uv(c,null,p,y):Ni(c,o.child,p,y)}function Hv(o,c,p,y,j){p=p.render;var N=c.ref;return Pi(c,j),y=wp(o,c,p,y,N,j),p=Sp(),o!==null&&!bn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~j,os(o,c,j)):(rt&&p&&sp(c),c.flags|=1,an(o,c,y,j),c.child)}function Gv(o,c,p,y,j){if(o===null){var N=p.type;return typeof N=="function"&&!Qp(N)&&N.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=N,qv(o,c,N,y,j)):(o=Uu(p.type,null,y,c,c.mode,j),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,(o.lanes&j)===0){var F=N.memoizedProps;if(p=p.compare,p=p!==null?p:rl,p(F,y)&&o.ref===c.ref)return os(o,c,j)}return c.flags|=1,o=Ws(N,y),o.ref=c.ref,o.return=c,c.child=o}function qv(o,c,p,y,j){if(o!==null){var N=o.memoizedProps;if(rl(N,y)&&o.ref===c.ref)if(bn=!1,c.pendingProps=y=N,(o.lanes&j)!==0)(o.flags&131072)!==0&&(bn=!0);else return c.lanes=o.lanes,os(o,c,j)}return Pp(o,c,p,y,j)}function Kv(o,c,p){var y=c.pendingProps,j=y.children,N=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Fi,Rn),Rn|=p;else{if((p&1073741824)===0)return o=N!==null?N.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Je(Fi,Rn),Rn|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=N!==null?N.baseLanes:p,Je(Fi,Rn),Rn|=y}else N!==null?(y=N.baseLanes|p,c.memoizedState=null):y=p,Je(Fi,Rn),Rn|=y;return an(o,c,j,p),c.child}function Xv(o,c){var p=c.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Pp(o,c,p,y,j){var N=vn(p)?ko:en.current;return N=Ci(c,N),Pi(c,j),p=wp(o,c,p,y,N,j),y=Sp(),o!==null&&!bn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~j,os(o,c,j)):(rt&&y&&sp(c),c.flags|=1,an(o,c,p,j),c.child)}function Yv(o,c,p,y,j){if(vn(p)){var N=!0;mu(c)}else N=!1;if(Pi(c,j),c.stateNode===null)Au(o,c),zv(c,p,y),Tp(c,p,y,j),y=!0;else if(o===null){var F=c.stateNode,G=c.memoizedProps;F.props=G;var Q=F.context,ie=p.contextType;typeof ie=="object"&&ie!==null?ie=Un(ie):(ie=vn(p)?ko:en.current,ie=Ci(c,ie));var fe=p.getDerivedStateFromProps,he=typeof fe=="function"||typeof F.getSnapshotBeforeUpdate=="function";he||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(G!==y||Q!==ie)&&Lv(c,F,y,ie),Ds=!1;var de=c.memoizedState;F.state=de,ju(c,y,F,j),Q=c.memoizedState,G!==y||de!==Q||xn.current||Ds?(typeof fe=="function"&&(Ep(c,p,fe,y),Q=c.memoizedState),(G=Ds||Ov(c,p,G,y,de,Q,ie))?(he||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(c.flags|=4194308)):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Q),F.props=y,F.state=Q,F.context=ie,y=G):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{F=c.stateNode,fv(o,c),G=c.memoizedProps,ie=c.type===c.elementType?G:sr(c.type,G),F.props=ie,he=c.pendingProps,de=F.context,Q=p.contextType,typeof Q=="object"&&Q!==null?Q=Un(Q):(Q=vn(p)?ko:en.current,Q=Ci(c,Q));var ye=p.getDerivedStateFromProps;(fe=typeof ye=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(G!==he||de!==Q)&&Lv(c,F,y,Q),Ds=!1,de=c.memoizedState,F.state=de,ju(c,y,F,j);var Se=c.memoizedState;G!==he||de!==Se||xn.current||Ds?(typeof ye=="function"&&(Ep(c,p,ye,y),Se=c.memoizedState),(ie=Ds||Ov(c,p,ie,y,de,Se,Q)||!1)?(fe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(y,Se,Q),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(y,Se,Q)),typeof F.componentDidUpdate=="function"&&(c.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof F.componentDidUpdate!="function"||G===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Se),F.props=y,F.state=Se,F.context=Q,y=ie):(typeof F.componentDidUpdate!="function"||G===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),y=!1)}return Ip(o,c,p,y,N,j)}function Ip(o,c,p,y,j,N){Xv(o,c);var F=(c.flags&128)!==0;if(!y&&!F)return j&&tv(c,p,!1),os(o,c,N);y=c.stateNode,aN.current=c;var G=F&&typeof p.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&F?(c.child=Ni(c,o.child,null,N),c.child=Ni(c,null,G,N)):an(o,c,G,N),c.memoizedState=y.state,j&&tv(c,p,!0),c.child}function Jv(o){var c=o.stateNode;c.pendingContext?Zx(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Zx(o,c.context,!1),mp(o,c.containerInfo)}function Qv(o,c,p,y,j){return Ti(),lp(j),c.flags|=256,an(o,c,p,y),c.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Mp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Zv(o,c,p){var y=c.pendingProps,j=ut.current,N=!1,F=(c.flags&128)!==0,G;if((G=F)||(G=o!==null&&o.memoizedState===null?!1:(j&2)!==0),G?(N=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),Je(ut,j&1),o===null)return ap(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(F=y.children,o=y.fallback,N?(y=c.mode,N=c.child,F={mode:"hidden",children:F},(y&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=F):N=Hu(F,y,0,null),o=Ao(o,y,p,null),N.return=c,o.return=c,N.sibling=o,c.child=N,c.child.memoizedState=Mp(p),c.memoizedState=Ap,o):Fp(c,F));if(j=o.memoizedState,j!==null&&(G=j.dehydrated,G!==null))return lN(o,c,F,y,G,j,p);if(N){N=y.fallback,F=c.mode,j=o.child,G=j.sibling;var Q={mode:"hidden",children:y.children};return(F&1)===0&&c.child!==j?(y=c.child,y.childLanes=0,y.pendingProps=Q,c.deletions=null):(y=Ws(j,Q),y.subtreeFlags=j.subtreeFlags&14680064),G!==null?N=Ws(G,N):(N=Ao(N,F,p,null),N.flags|=2),N.return=c,y.return=c,y.sibling=N,c.child=y,y=N,N=c.child,F=o.child.memoizedState,F=F===null?Mp(p):{baseLanes:F.baseLanes|p,cachePool:null,transitions:F.transitions},N.memoizedState=F,N.childLanes=o.childLanes&~p,c.memoizedState=Ap,y}return N=o.child,o=N.sibling,y=Ws(N,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=p),y.return=c,y.sibling=null,o!==null&&(p=c.deletions,p===null?(c.deletions=[o],c.flags|=16):p.push(o)),c.child=y,c.memoizedState=null,y}function Fp(o,c){return c=Hu({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Iu(o,c,p,y){return y!==null&&lp(y),Ni(c,o.child,null,p),o=Fp(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function lN(o,c,p,y,j,N,F){if(p)return c.flags&256?(c.flags&=-257,y=Np(Error(n(422))),Iu(o,c,F,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(N=y.fallback,j=c.mode,y=Hu({mode:"visible",children:y.children},j,0,null),N=Ao(N,j,F,null),N.flags|=2,y.return=c,N.return=c,y.sibling=N,c.child=y,(c.mode&1)!==0&&Ni(c,o.child,null,F),c.child.memoizedState=Mp(F),c.memoizedState=Ap,N);if((c.mode&1)===0)return Iu(o,c,F,null);if(j.data==="$!"){if(y=j.nextSibling&&j.nextSibling.dataset,y)var G=y.dgst;return y=G,N=Error(n(419)),y=Np(N,y,void 0),Iu(o,c,F,y)}if(G=(F&o.childLanes)!==0,bn||G){if(y=Vt,y!==null){switch(F&-F){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(y.suspendedLanes|F))!==0?0:j,j!==0&&j!==N.retryLane&&(N.retryLane=j,rs(o,j),ar(y,o,j,-1))}return Jp(),y=Np(Error(n(421))),Iu(o,c,F,y)}return j.data==="$?"?(c.flags|=128,c.child=o.child,c=wN.bind(null,o),j._reactRetry=c,null):(o=N.treeContext,Nn=Is(j.nextSibling),Tn=c,rt=!0,rr=null,o!==null&&(Vn[Wn++]=ts,Vn[Wn++]=ns,Vn[Wn++]=jo,ts=o.id,ns=o.overflow,jo=c),c=Fp(c,y.children),c.flags|=4096,c)}function eb(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),fp(o.return,c,p)}function Dp(o,c,p,y,j){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:j}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=y,N.tail=p,N.tailMode=j)}function tb(o,c,p){var y=c.pendingProps,j=y.revealOrder,N=y.tail;if(an(o,c,y.children,p),y=ut.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eb(o,p,c);else if(o.tag===19)eb(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Je(ut,y),(c.mode&1)===0)c.memoizedState=null;else switch(j){case"forwards":for(p=c.child,j=null;p!==null;)o=p.alternate,o!==null&&Cu(o)===null&&(j=p),p=p.sibling;p=j,p===null?(j=c.child,c.child=null):(j=p.sibling,p.sibling=null),Dp(c,!1,j,p,N);break;case"backwards":for(p=null,j=c.child,c.child=null;j!==null;){if(o=j.alternate,o!==null&&Cu(o)===null){c.child=j;break}o=j.sibling,j.sibling=p,p=j,j=o}Dp(c,!0,p,null,N);break;case"together":Dp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Au(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function os(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),No|=c.lanes,(p&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,p=Ws(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Ws(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function cN(o,c,p){switch(c.tag){case 3:Jv(c),Ti();break;case 5:mv(c);break;case 1:vn(c.type)&&mu(c);break;case 4:mp(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,j=c.memoizedProps.value;Je(wu,y._currentValue),y._currentValue=j;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(Je(ut,ut.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?Zv(o,c,p):(Je(ut,ut.current&1),o=os(o,c,p),o!==null?o.sibling:null);Je(ut,ut.current&1);break;case 19:if(y=(p&c.childLanes)!==0,(o.flags&128)!==0){if(y)return tb(o,c,p);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Je(ut,ut.current),y)break;return null;case 22:case 23:return c.lanes=0,Kv(o,c,p)}return os(o,c,p)}var nb,Op,rb,sb;nb=function(o,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Op=function(){},rb=function(o,c,p,y){var j=o.memoizedProps;if(j!==y){o=c.stateNode,Eo(Ar.current);var N=null;switch(p){case"input":j=Ee(o,j),y=Ee(o,y),N=[];break;case"select":j=O({},j,{value:void 0}),y=O({},y,{value:void 0}),N=[];break;case"textarea":j=Ue(o,j),y=Ue(o,y),N=[];break;default:typeof j.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=fu)}Cs(p,y);var F;p=null;for(ie in j)if(!y.hasOwnProperty(ie)&&j.hasOwnProperty(ie)&&j[ie]!=null)if(ie==="style"){var G=j[ie];for(F in G)G.hasOwnProperty(F)&&(p||(p={}),p[F]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?N||(N=[]):(N=N||[]).push(ie,null));for(ie in y){var Q=y[ie];if(G=j!=null?j[ie]:void 0,y.hasOwnProperty(ie)&&Q!==G&&(Q!=null||G!=null))if(ie==="style")if(G){for(F in G)!G.hasOwnProperty(F)||Q&&Q.hasOwnProperty(F)||(p||(p={}),p[F]="");for(F in Q)Q.hasOwnProperty(F)&&G[F]!==Q[F]&&(p||(p={}),p[F]=Q[F])}else p||(N||(N=[]),N.push(ie,p)),p=Q;else ie==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,G=G?G.__html:void 0,Q!=null&&G!==Q&&(N=N||[]).push(ie,Q)):ie==="children"?typeof Q!="string"&&typeof Q!="number"||(N=N||[]).push(ie,""+Q):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(Q!=null&&ie==="onScroll"&&et("scroll",o),N||G===Q||(N=[])):(N=N||[]).push(ie,Q))}p&&(N=N||[]).push("style",p);var ie=N;(c.updateQueue=ie)&&(c.flags|=4)}},sb=function(o,c,p,y){p!==y&&(c.flags|=4)};function xl(o,c){if(!rt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function nn(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var j=o.child;j!==null;)p|=j.lanes|j.childLanes,y|=j.subtreeFlags&14680064,y|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)p|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function uN(o,c,p){var y=c.pendingProps;switch(op(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(c),null;case 1:return vn(c.type)&&pu(),nn(c),null;case 3:return y=c.stateNode,Ii(),tt(xn),tt(en),xp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(vu(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,rr!==null&&(Kp(rr),rr=null))),Op(o,c),nn(c),null;case 5:gp(c);var j=Eo(hl.current);if(p=c.type,o!==null&&c.stateNode!=null)rb(o,c,p,y,j),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(n(166));return nn(c),null}if(o=Eo(Ar.current),vu(c)){y=c.stateNode,p=c.type;var N=c.memoizedProps;switch(y[Ir]=c,y[ll]=N,o=(c.mode&1)!==0,p){case"dialog":et("cancel",y),et("close",y);break;case"iframe":case"object":case"embed":et("load",y);break;case"video":case"audio":for(j=0;j<ol.length;j++)et(ol[j],y);break;case"source":et("error",y);break;case"img":case"image":case"link":et("error",y),et("load",y);break;case"details":et("toggle",y);break;case"input":Oe(y,N),et("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!N.multiple},et("invalid",y);break;case"textarea":Lt(y,N),et("invalid",y)}Cs(p,N),j=null;for(var F in N)if(N.hasOwnProperty(F)){var G=N[F];F==="children"?typeof G=="string"?y.textContent!==G&&(N.suppressHydrationWarning!==!0&&du(y.textContent,G,o),j=["children",G]):typeof G=="number"&&y.textContent!==""+G&&(N.suppressHydrationWarning!==!0&&du(y.textContent,G,o),j=["children",""+G]):s.hasOwnProperty(F)&&G!=null&&F==="onScroll"&&et("scroll",y)}switch(p){case"input":ce(y),Tt(y,N,!0);break;case"textarea":ce(y),$n(y);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(y.onclick=fu)}y=j,c.updateQueue=y,y!==null&&(c.flags|=4)}else{F=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=yt(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=F.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=F.createElement(p,{is:y.is}):(o=F.createElement(p),p==="select"&&(F=o,y.multiple?F.multiple=!0:y.size&&(F.size=y.size))):o=F.createElementNS(o,p),o[Ir]=c,o[ll]=y,nb(o,c,!1,!1),c.stateNode=o;e:{switch(F=go(p,y),p){case"dialog":et("cancel",o),et("close",o),j=y;break;case"iframe":case"object":case"embed":et("load",o),j=y;break;case"video":case"audio":for(j=0;j<ol.length;j++)et(ol[j],o);j=y;break;case"source":et("error",o),j=y;break;case"img":case"image":case"link":et("error",o),et("load",o),j=y;break;case"details":et("toggle",o),j=y;break;case"input":Oe(o,y),j=Ee(o,y),et("invalid",o);break;case"option":j=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},j=O({},y,{value:void 0}),et("invalid",o);break;case"textarea":Lt(o,y),j=Ue(o,y),et("invalid",o);break;default:j=y}Cs(p,j),G=j;for(N in G)if(G.hasOwnProperty(N)){var Q=G[N];N==="style"?Jr(o,Q):N==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Zn(o,Q)):N==="children"?typeof Q=="string"?(p!=="textarea"||Q!=="")&&Ve(o,Q):typeof Q=="number"&&Ve(o,""+Q):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?Q!=null&&N==="onScroll"&&et("scroll",o):Q!=null&&w(o,N,Q,F))}switch(p){case"input":ce(o),Tt(o,y,!1);break;case"textarea":ce(o),$n(o);break;case"option":y.value!=null&&o.setAttribute("value",""+te(y.value));break;case"select":o.multiple=!!y.multiple,N=y.value,N!=null?Ut(o,!!y.multiple,N,!1):y.defaultValue!=null&&Ut(o,!!y.multiple,y.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=fu)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return nn(c),null;case 6:if(o&&c.stateNode!=null)sb(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(p=Eo(hl.current),Eo(Ar.current),vu(c)){if(y=c.stateNode,p=c.memoizedProps,y[Ir]=c,(N=y.nodeValue!==p)&&(o=Tn,o!==null))switch(o.tag){case 3:du(y.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&du(y.nodeValue,p,(o.mode&1)!==0)}N&&(c.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Ir]=c,c.stateNode=y}return nn(c),null;case 13:if(tt(ut),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(rt&&Nn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)av(),Ti(),c.flags|=98560,N=!1;else if(N=vu(c),y!==null&&y.dehydrated!==null){if(o===null){if(!N)throw Error(n(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[Ir]=c}else Ti(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),N=!1}else rr!==null&&(Kp(rr),rr=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(ut.current&1)!==0?It===0&&(It=3):Jp())),c.updateQueue!==null&&(c.flags|=4),nn(c),null);case 4:return Ii(),Op(o,c),o===null&&il(c.stateNode.containerInfo),nn(c),null;case 10:return dp(c.type._context),nn(c),null;case 17:return vn(c.type)&&pu(),nn(c),null;case 19:if(tt(ut),N=c.memoizedState,N===null)return nn(c),null;if(y=(c.flags&128)!==0,F=N.rendering,F===null)if(y)xl(N,!1);else{if(It!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(F=Cu(o),F!==null){for(c.flags|=128,xl(N,!1),y=F.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=p,p=c.child;p!==null;)N=p,o=y,N.flags&=14680066,F=N.alternate,F===null?(N.childLanes=0,N.lanes=o,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=F.childLanes,N.lanes=F.lanes,N.child=F.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=F.memoizedProps,N.memoizedState=F.memoizedState,N.updateQueue=F.updateQueue,N.type=F.type,o=F.dependencies,N.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Je(ut,ut.current&1|2),c.child}o=o.sibling}N.tail!==null&&ct()>Di&&(c.flags|=128,y=!0,xl(N,!1),c.lanes=4194304)}else{if(!y)if(o=Cu(F),o!==null){if(c.flags|=128,y=!0,p=o.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),xl(N,!0),N.tail===null&&N.tailMode==="hidden"&&!F.alternate&&!rt)return nn(c),null}else 2*ct()-N.renderingStartTime>Di&&p!==1073741824&&(c.flags|=128,y=!0,xl(N,!1),c.lanes=4194304);N.isBackwards?(F.sibling=c.child,c.child=F):(p=N.last,p!==null?p.sibling=F:c.child=F,N.last=F)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=ct(),c.sibling=null,p=ut.current,Je(ut,y?p&1|2:p&1),c):(nn(c),null);case 22:case 23:return Yp(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Rn&1073741824)!==0&&(nn(c),c.subtreeFlags&6&&(c.flags|=8192)):nn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function dN(o,c){switch(op(c),c.tag){case 1:return vn(c.type)&&pu(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ii(),tt(xn),tt(en),xp(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return gp(c),null;case 13:if(tt(ut),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Ti()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return tt(ut),null;case 4:return Ii(),null;case 10:return dp(c.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var Mu=!1,rn=!1,fN=typeof WeakSet=="function"?WeakSet:Set,be=null;function Mi(o,c){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){pt(o,c,y)}else p.current=null}function zp(o,c,p){try{p()}catch(y){pt(o,c,y)}}var ob=!1;function hN(o,c){if(Yh=eu,o=Ox(),Vh(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var j=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var F=0,G=-1,Q=-1,ie=0,fe=0,he=o,de=null;t:for(;;){for(var ye;he!==p||j!==0&&he.nodeType!==3||(G=F+j),he!==N||y!==0&&he.nodeType!==3||(Q=F+y),he.nodeType===3&&(F+=he.nodeValue.length),(ye=he.firstChild)!==null;)de=he,he=ye;for(;;){if(he===o)break t;if(de===p&&++ie===j&&(G=F),de===N&&++fe===y&&(Q=F),(ye=he.nextSibling)!==null)break;he=de,de=he.parentNode}he=ye}p=G===-1||Q===-1?null:{start:G,end:Q}}else p=null}p=p||{start:0,end:0}}else p=null;for(Jh={focusedElem:o,selectionRange:p},eu=!1,be=c;be!==null;)if(c=be,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,be=o;else for(;be!==null;){c=be;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var _e=Se.memoizedProps,vt=Se.memoizedState,re=c.stateNode,ee=re.getSnapshotBeforeUpdate(c.elementType===c.type?_e:sr(c.type,_e),vt);re.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var oe=c.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){pt(c,c.return,me)}if(o=c.sibling,o!==null){o.return=c.return,be=o;break}be=c.return}return Se=ob,ob=!1,Se}function vl(o,c,p){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var j=y=y.next;do{if((j.tag&o)===o){var N=j.destroy;j.destroy=void 0,N!==void 0&&zp(c,p,N)}j=j.next}while(j!==y)}}function Fu(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&o)===o){var y=p.create;p.destroy=y()}p=p.next}while(p!==c)}}function Lp(o){var c=o.ref;if(c!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof c=="function"?c(o):c.current=o}}function ib(o){var c=o.alternate;c!==null&&(o.alternate=null,ib(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Ir],delete c[ll],delete c[tp],delete c[XT],delete c[YT])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function ab(o){return o.tag===5||o.tag===3||o.tag===4}function lb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ab(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function $p(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(o,c):p.insertBefore(o,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(o,p)):(c=p,c.appendChild(o)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=fu));else if(y!==4&&(o=o.child,o!==null))for($p(o,c,p),o=o.sibling;o!==null;)$p(o,c,p),o=o.sibling}function Bp(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Bp(o,c,p),o=o.sibling;o!==null;)Bp(o,c,p),o=o.sibling}var Ht=null,or=!1;function zs(o,c,p){for(p=p.child;p!==null;)cb(o,c,p),p=p.sibling}function cb(o,c,p){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(bo,p)}catch{}switch(p.tag){case 5:rn||Mi(p,c);case 6:var y=Ht,j=or;Ht=null,zs(o,c,p),Ht=y,or=j,Ht!==null&&(or?(o=Ht,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Ht.removeChild(p.stateNode));break;case 18:Ht!==null&&(or?(o=Ht,p=p.stateNode,o.nodeType===8?ep(o.parentNode,p):o.nodeType===1&&ep(o,p),Ja(o)):ep(Ht,p.stateNode));break;case 4:y=Ht,j=or,Ht=p.stateNode.containerInfo,or=!0,zs(o,c,p),Ht=y,or=j;break;case 0:case 11:case 14:case 15:if(!rn&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){j=y=y.next;do{var N=j,F=N.destroy;N=N.tag,F!==void 0&&((N&2)!==0||(N&4)!==0)&&zp(p,c,F),j=j.next}while(j!==y)}zs(o,c,p);break;case 1:if(!rn&&(Mi(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(G){pt(p,c,G)}zs(o,c,p);break;case 21:zs(o,c,p);break;case 22:p.mode&1?(rn=(y=rn)||p.memoizedState!==null,zs(o,c,p),rn=y):zs(o,c,p);break;default:zs(o,c,p)}}function ub(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new fN),c.forEach(function(y){var j=SN.bind(null,o,y);p.has(y)||(p.add(y),y.then(j,j))})}}function ir(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var j=p[y];try{var N=o,F=c,G=F;e:for(;G!==null;){switch(G.tag){case 5:Ht=G.stateNode,or=!1;break e;case 3:Ht=G.stateNode.containerInfo,or=!0;break e;case 4:Ht=G.stateNode.containerInfo,or=!0;break e}G=G.return}if(Ht===null)throw Error(n(160));cb(N,F,j),Ht=null,or=!1;var Q=j.alternate;Q!==null&&(Q.return=null),j.return=null}catch(ie){pt(j,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)db(c,o),c=c.sibling}function db(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ir(c,o),Fr(o),y&4){try{vl(3,o,o.return),Fu(3,o)}catch(_e){pt(o,o.return,_e)}try{vl(5,o,o.return)}catch(_e){pt(o,o.return,_e)}}break;case 1:ir(c,o),Fr(o),y&512&&p!==null&&Mi(p,p.return);break;case 5:if(ir(c,o),Fr(o),y&512&&p!==null&&Mi(p,p.return),o.flags&32){var j=o.stateNode;try{Ve(j,"")}catch(_e){pt(o,o.return,_e)}}if(y&4&&(j=o.stateNode,j!=null)){var N=o.memoizedProps,F=p!==null?p.memoizedProps:N,G=o.type,Q=o.updateQueue;if(o.updateQueue=null,Q!==null)try{G==="input"&&N.type==="radio"&&N.name!=null&&Re(j,N),go(G,F);var ie=go(G,N);for(F=0;F<Q.length;F+=2){var fe=Q[F],he=Q[F+1];fe==="style"?Jr(j,he):fe==="dangerouslySetInnerHTML"?Zn(j,he):fe==="children"?Ve(j,he):w(j,fe,he,ie)}switch(G){case"input":We(j,N);break;case"textarea":Yr(j,N);break;case"select":var de=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!N.multiple;var ye=N.value;ye!=null?Ut(j,!!N.multiple,ye,!1):de!==!!N.multiple&&(N.defaultValue!=null?Ut(j,!!N.multiple,N.defaultValue,!0):Ut(j,!!N.multiple,N.multiple?[]:"",!1))}j[ll]=N}catch(_e){pt(o,o.return,_e)}}break;case 6:if(ir(c,o),Fr(o),y&4){if(o.stateNode===null)throw Error(n(162));j=o.stateNode,N=o.memoizedProps;try{j.nodeValue=N}catch(_e){pt(o,o.return,_e)}}break;case 3:if(ir(c,o),Fr(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Ja(c.containerInfo)}catch(_e){pt(o,o.return,_e)}break;case 4:ir(c,o),Fr(o);break;case 13:ir(c,o),Fr(o),j=o.child,j.flags&8192&&(N=j.memoizedState!==null,j.stateNode.isHidden=N,!N||j.alternate!==null&&j.alternate.memoizedState!==null||(Up=ct())),y&4&&ub(o);break;case 22:if(fe=p!==null&&p.memoizedState!==null,o.mode&1?(rn=(ie=rn)||fe,ir(c,o),rn=ie):ir(c,o),Fr(o),y&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!fe&&(o.mode&1)!==0)for(be=o,fe=o.child;fe!==null;){for(he=be=fe;be!==null;){switch(de=be,ye=de.child,de.tag){case 0:case 11:case 14:case 15:vl(4,de,de.return);break;case 1:Mi(de,de.return);var Se=de.stateNode;if(typeof Se.componentWillUnmount=="function"){y=de,p=de.return;try{c=y,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(_e){pt(y,p,_e)}}break;case 5:Mi(de,de.return);break;case 22:if(de.memoizedState!==null){pb(he);continue}}ye!==null?(ye.return=de,be=ye):pb(he)}fe=fe.sibling}e:for(fe=null,he=o;;){if(he.tag===5){if(fe===null){fe=he;try{j=he.stateNode,ie?(N=j.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(G=he.stateNode,Q=he.memoizedProps.style,F=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,G.style.display=er("display",F))}catch(_e){pt(o,o.return,_e)}}}else if(he.tag===6){if(fe===null)try{he.stateNode.nodeValue=ie?"":he.memoizedProps}catch(_e){pt(o,o.return,_e)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===o)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===o)break e;for(;he.sibling===null;){if(he.return===null||he.return===o)break e;fe===he&&(fe=null),he=he.return}fe===he&&(fe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ir(c,o),Fr(o),y&4&&ub(o);break;case 21:break;default:ir(c,o),Fr(o)}}function Fr(o){var c=o.flags;if(c&2){try{e:{for(var p=o.return;p!==null;){if(ab(p)){var y=p;break e}p=p.return}throw Error(n(160))}switch(y.tag){case 5:var j=y.stateNode;y.flags&32&&(Ve(j,""),y.flags&=-33);var N=lb(o);Bp(o,N,j);break;case 3:case 4:var F=y.stateNode.containerInfo,G=lb(o);$p(o,G,F);break;default:throw Error(n(161))}}catch(Q){pt(o,o.return,Q)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function pN(o,c,p){be=o,fb(o)}function fb(o,c,p){for(var y=(o.mode&1)!==0;be!==null;){var j=be,N=j.child;if(j.tag===22&&y){var F=j.memoizedState!==null||Mu;if(!F){var G=j.alternate,Q=G!==null&&G.memoizedState!==null||rn;G=Mu;var ie=rn;if(Mu=F,(rn=Q)&&!ie)for(be=j;be!==null;)F=be,Q=F.child,F.tag===22&&F.memoizedState!==null?mb(j):Q!==null?(Q.return=F,be=Q):mb(j);for(;N!==null;)be=N,fb(N),N=N.sibling;be=j,Mu=G,rn=ie}hb(o)}else(j.subtreeFlags&8772)!==0&&N!==null?(N.return=j,be=N):hb(o)}}function hb(o){for(;be!==null;){var c=be;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:rn||Fu(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!rn)if(p===null)y.componentDidMount();else{var j=c.elementType===c.type?p.memoizedProps:sr(c.type,p.memoizedProps);y.componentDidUpdate(j,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&pv(c,N,y);break;case 3:var F=c.updateQueue;if(F!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}pv(c,F,p)}break;case 5:var G=c.stateNode;if(p===null&&c.flags&4){p=G;var Q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&p.focus();break;case"img":Q.src&&(p.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var fe=ie.memoizedState;if(fe!==null){var he=fe.dehydrated;he!==null&&Ja(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||c.flags&512&&Lp(c)}catch(de){pt(c,c.return,de)}}if(c===o){be=null;break}if(p=c.sibling,p!==null){p.return=c.return,be=p;break}be=c.return}}function pb(o){for(;be!==null;){var c=be;if(c===o){be=null;break}var p=c.sibling;if(p!==null){p.return=c.return,be=p;break}be=c.return}}function mb(o){for(;be!==null;){var c=be;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Fu(4,c)}catch(Q){pt(c,p,Q)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var j=c.return;try{y.componentDidMount()}catch(Q){pt(c,j,Q)}}var N=c.return;try{Lp(c)}catch(Q){pt(c,N,Q)}break;case 5:var F=c.return;try{Lp(c)}catch(Q){pt(c,F,Q)}}}catch(Q){pt(c,c.return,Q)}if(c===o){be=null;break}var G=c.sibling;if(G!==null){G.return=c.return,be=G;break}be=c.return}}var mN=Math.ceil,Du=T.ReactCurrentDispatcher,Vp=T.ReactCurrentOwner,Gn=T.ReactCurrentBatchConfig,Ge=0,Vt=null,St=null,Gt=0,Rn=0,Fi=As(0),It=0,bl=null,No=0,Ou=0,Wp=0,wl=null,wn=null,Up=0,Di=1/0,is=null,zu=!1,Hp=null,Ls=null,Lu=!1,$s=null,$u=0,Sl=0,Gp=null,Bu=-1,Vu=0;function ln(){return(Ge&6)!==0?ct():Bu!==-1?Bu:Bu=ct()}function Bs(o){return(o.mode&1)===0?1:(Ge&2)!==0&&Gt!==0?Gt&-Gt:QT.transition!==null?(Vu===0&&(Vu=mi()),Vu):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:yx(o.type)),o)}function ar(o,c,p,y){if(50<Sl)throw Sl=0,Gp=null,Error(n(185));wo(o,p,y),((Ge&2)===0||o!==Vt)&&(o===Vt&&((Ge&2)===0&&(Ou|=p),It===4&&Vs(o,Gt)),Sn(o,y),p===1&&Ge===0&&(c.mode&1)===0&&(Di=ct()+500,gu&&Fs()))}function Sn(o,c){var p=o.callbackNode;Eh(o,c);var y=pi(o,o===Vt?Gt:0);if(y===0)p!==null&&Gc(p),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(p!=null&&Gc(p),c===1)o.tag===0?JT(yb.bind(null,o)):nv(yb.bind(null,o)),qT(function(){(Ge&6)===0&&Fs()}),p=null;else{switch(cx(y)){case 1:p=Ua;break;case 4:p=Kc;break;case 16:p=di;break;case 536870912:p=Xc;break;default:p=di}p=Cb(p,gb.bind(null,o))}o.callbackPriority=c,o.callbackNode=p}}function gb(o,c){if(Bu=-1,Vu=0,(Ge&6)!==0)throw Error(n(327));var p=o.callbackNode;if(Oi()&&o.callbackNode!==p)return null;var y=pi(o,o===Vt?Gt:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=Wu(o,y);else{c=y;var j=Ge;Ge|=2;var N=vb();(Vt!==o||Gt!==c)&&(is=null,Di=ct()+500,Po(o,c));do try{xN();break}catch(G){xb(o,G)}while(!0);up(),Du.current=N,Ge=j,St!==null?c=0:(Vt=null,Gt=0,c=It)}if(c!==0){if(c===2&&(j=Ha(o),j!==0&&(y=j,c=qp(o,j))),c===1)throw p=bl,Po(o,0),Vs(o,y),Sn(o,ct()),p;if(c===6)Vs(o,y);else{if(j=o.current.alternate,(y&30)===0&&!gN(j)&&(c=Wu(o,y),c===2&&(N=Ha(o),N!==0&&(y=N,c=qp(o,N))),c===1))throw p=bl,Po(o,0),Vs(o,y),Sn(o,ct()),p;switch(o.finishedWork=j,o.finishedLanes=y,c){case 0:case 1:throw Error(n(345));case 2:Io(o,wn,is);break;case 3:if(Vs(o,y),(y&130023424)===y&&(c=Up+500-ct(),10<c)){if(pi(o,0)!==0)break;if(j=o.suspendedLanes,(j&y)!==y){ln(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Zh(Io.bind(null,o,wn,is),c);break}Io(o,wn,is);break;case 4:if(Vs(o,y),(y&4194240)===y)break;for(c=o.eventTimes,j=-1;0<y;){var F=31-_n(y);N=1<<F,F=c[F],F>j&&(j=F),y&=~N}if(y=j,y=ct()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*mN(y/1960))-y,10<y){o.timeoutHandle=Zh(Io.bind(null,o,wn,is),y);break}Io(o,wn,is);break;case 5:Io(o,wn,is);break;default:throw Error(n(329))}}}return Sn(o,ct()),o.callbackNode===p?gb.bind(null,o):null}function qp(o,c){var p=wl;return o.current.memoizedState.isDehydrated&&(Po(o,c).flags|=256),o=Wu(o,c),o!==2&&(c=wn,wn=p,c!==null&&Kp(c)),o}function Kp(o){wn===null?wn=o:wn.push.apply(wn,o)}function gN(o){for(var c=o;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var j=p[y],N=j.getSnapshot;j=j.value;try{if(!nr(N(),j))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vs(o,c){for(c&=~Wp,c&=~Ou,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var p=31-_n(c),y=1<<p;o[p]=-1,c&=~y}}function yb(o){if((Ge&6)!==0)throw Error(n(327));Oi();var c=pi(o,0);if((c&1)===0)return Sn(o,ct()),null;var p=Wu(o,c);if(o.tag!==0&&p===2){var y=Ha(o);y!==0&&(c=y,p=qp(o,y))}if(p===1)throw p=bl,Po(o,0),Vs(o,c),Sn(o,ct()),p;if(p===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Io(o,wn,is),Sn(o,ct()),null}function Xp(o,c){var p=Ge;Ge|=1;try{return o(c)}finally{Ge=p,Ge===0&&(Di=ct()+500,gu&&Fs())}}function Ro(o){$s!==null&&$s.tag===0&&(Ge&6)===0&&Oi();var c=Ge;Ge|=1;var p=Gn.transition,y=Ye;try{if(Gn.transition=null,Ye=1,o)return o()}finally{Ye=y,Gn.transition=p,Ge=c,(Ge&6)===0&&Fs()}}function Yp(){Rn=Fi.current,tt(Fi)}function Po(o,c){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,GT(p)),St!==null)for(p=St.return;p!==null;){var y=p;switch(op(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&pu();break;case 3:Ii(),tt(xn),tt(en),xp();break;case 5:gp(y);break;case 4:Ii();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:dp(y.type._context);break;case 22:case 23:Yp()}p=p.return}if(Vt=o,St=o=Ws(o.current,null),Gt=Rn=c,It=0,bl=null,Wp=Ou=No=0,wn=wl=null,_o!==null){for(c=0;c<_o.length;c++)if(p=_o[c],y=p.interleaved,y!==null){p.interleaved=null;var j=y.next,N=p.pending;if(N!==null){var F=N.next;N.next=j,y.next=F}p.pending=y}_o=null}return o}function xb(o,c){do{var p=St;try{if(up(),_u.current=Ru,Eu){for(var y=dt.memoizedState;y!==null;){var j=y.queue;j!==null&&(j.pending=null),y=y.next}Eu=!1}if(To=0,Bt=Pt=dt=null,pl=!1,ml=0,Vp.current=null,p===null||p.return===null){It=1,bl=c,St=null;break}e:{var N=o,F=p.return,G=p,Q=c;if(c=Gt,G.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ie=Q,fe=G,he=fe.tag;if((fe.mode&1)===0&&(he===0||he===11||he===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ye=Wv(F);if(ye!==null){ye.flags&=-257,Uv(ye,F,G,N,c),ye.mode&1&&Vv(N,ie,c),c=ye,Q=ie;var Se=c.updateQueue;if(Se===null){var _e=new Set;_e.add(Q),c.updateQueue=_e}else Se.add(Q);break e}else{if((c&1)===0){Vv(N,ie,c),Jp();break e}Q=Error(n(426))}}else if(rt&&G.mode&1){var vt=Wv(F);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Uv(vt,F,G,N,c),lp(Ai(Q,G));break e}}N=Q=Ai(Q,G),It!==4&&(It=2),wl===null?wl=[N]:wl.push(N),N=F;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var re=$v(N,Q,c);hv(N,re);break e;case 1:G=Q;var ee=N.type,oe=N.stateNode;if((N.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Ls===null||!Ls.has(oe)))){N.flags|=65536,c&=-c,N.lanes|=c;var me=Bv(N,G,c);hv(N,me);break e}}N=N.return}while(N!==null)}wb(p)}catch(Te){c=Te,St===p&&p!==null&&(St=p=p.return);continue}break}while(!0)}function vb(){var o=Du.current;return Du.current=Ru,o===null?Ru:o}function Jp(){(It===0||It===3||It===2)&&(It=4),Vt===null||(No&268435455)===0&&(Ou&268435455)===0||Vs(Vt,Gt)}function Wu(o,c){var p=Ge;Ge|=2;var y=vb();(Vt!==o||Gt!==c)&&(is=null,Po(o,c));do try{yN();break}catch(j){xb(o,j)}while(!0);if(up(),Ge=p,Du.current=y,St!==null)throw Error(n(261));return Vt=null,Gt=0,It}function yN(){for(;St!==null;)bb(St)}function xN(){for(;St!==null&&!bh();)bb(St)}function bb(o){var c=jb(o.alternate,o,Rn);o.memoizedProps=o.pendingProps,c===null?wb(o):St=c,Vp.current=null}function wb(o){var c=o;do{var p=c.alternate;if(o=c.return,(c.flags&32768)===0){if(p=uN(p,c,Rn),p!==null){St=p;return}}else{if(p=dN(p,c),p!==null){p.flags&=32767,St=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{It=6,St=null;return}}if(c=c.sibling,c!==null){St=c;return}St=c=o}while(c!==null);It===0&&(It=5)}function Io(o,c,p){var y=Ye,j=Gn.transition;try{Gn.transition=null,Ye=1,vN(o,c,p,y)}finally{Gn.transition=j,Ye=y}return null}function vN(o,c,p,y){do Oi();while($s!==null);if((Ge&6)!==0)throw Error(n(327));p=o.finishedWork;var j=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var N=p.lanes|p.childLanes;if(Jc(o,N),o===Vt&&(St=Vt=null,Gt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Lu||(Lu=!0,Cb(di,function(){return Oi(),null})),N=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||N){N=Gn.transition,Gn.transition=null;var F=Ye;Ye=1;var G=Ge;Ge|=4,Vp.current=null,hN(o,p),db(p,o),LT(Jh),eu=!!Yh,Jh=Yh=null,o.current=p,pN(p),qc(),Ge=G,Ye=F,Gn.transition=N}else o.current=p;if(Lu&&(Lu=!1,$s=o,$u=j),N=o.pendingLanes,N===0&&(Ls=null),kh(p.stateNode),Sn(o,ct()),c!==null)for(y=o.onRecoverableError,p=0;p<c.length;p++)j=c[p],y(j.value,{componentStack:j.stack,digest:j.digest});if(zu)throw zu=!1,o=Hp,Hp=null,o;return($u&1)!==0&&o.tag!==0&&Oi(),N=o.pendingLanes,(N&1)!==0?o===Gp?Sl++:(Sl=0,Gp=o):Sl=0,Fs(),null}function Oi(){if($s!==null){var o=cx($u),c=Gn.transition,p=Ye;try{if(Gn.transition=null,Ye=16>o?16:o,$s===null)var y=!1;else{if(o=$s,$s=null,$u=0,(Ge&6)!==0)throw Error(n(331));var j=Ge;for(Ge|=4,be=o.current;be!==null;){var N=be,F=N.child;if((be.flags&16)!==0){var G=N.deletions;if(G!==null){for(var Q=0;Q<G.length;Q++){var ie=G[Q];for(be=ie;be!==null;){var fe=be;switch(fe.tag){case 0:case 11:case 15:vl(8,fe,N)}var he=fe.child;if(he!==null)he.return=fe,be=he;else for(;be!==null;){fe=be;var de=fe.sibling,ye=fe.return;if(ib(fe),fe===ie){be=null;break}if(de!==null){de.return=ye,be=de;break}be=ye}}}var Se=N.alternate;if(Se!==null){var _e=Se.child;if(_e!==null){Se.child=null;do{var vt=_e.sibling;_e.sibling=null,_e=vt}while(_e!==null)}}be=N}}if((N.subtreeFlags&2064)!==0&&F!==null)F.return=N,be=F;else e:for(;be!==null;){if(N=be,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:vl(9,N,N.return)}var re=N.sibling;if(re!==null){re.return=N.return,be=re;break e}be=N.return}}var ee=o.current;for(be=ee;be!==null;){F=be;var oe=F.child;if((F.subtreeFlags&2064)!==0&&oe!==null)oe.return=F,be=oe;else e:for(F=ee;be!==null;){if(G=be,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Fu(9,G)}}catch(Te){pt(G,G.return,Te)}if(G===F){be=null;break e}var me=G.sibling;if(me!==null){me.return=G.return,be=me;break e}be=G.return}}if(Ge=j,Fs(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(bo,o)}catch{}y=!0}return y}finally{Ye=p,Gn.transition=c}}return!1}function Sb(o,c,p){c=Ai(p,c),c=$v(o,c,1),o=Os(o,c,1),c=ln(),o!==null&&(wo(o,1,c),Sn(o,c))}function pt(o,c,p){if(o.tag===3)Sb(o,o,p);else for(;c!==null;){if(c.tag===3){Sb(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y))){o=Ai(p,o),o=Bv(c,o,1),c=Os(c,o,1),o=ln(),c!==null&&(wo(c,1,o),Sn(c,o));break}}c=c.return}}function bN(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),c=ln(),o.pingedLanes|=o.suspendedLanes&p,Vt===o&&(Gt&p)===p&&(It===4||It===3&&(Gt&130023424)===Gt&&500>ct()-Up?Po(o,0):Wp|=p),Sn(o,c)}function kb(o,c){c===0&&((o.mode&1)===0?c=1:(c=hi,hi<<=1,(hi&130023424)===0&&(hi=4194304)));var p=ln();o=rs(o,c),o!==null&&(wo(o,c,p),Sn(o,p))}function wN(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),kb(o,p)}function SN(o,c){var p=0;switch(o.tag){case 13:var y=o.stateNode,j=o.memoizedState;j!==null&&(p=j.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(c),kb(o,p)}var jb;jb=function(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps||xn.current)bn=!0;else{if((o.lanes&p)===0&&(c.flags&128)===0)return bn=!1,cN(o,c,p);bn=(o.flags&131072)!==0}else bn=!1,rt&&(c.flags&1048576)!==0&&rv(c,xu,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Au(o,c),o=c.pendingProps;var j=Ci(c,en.current);Pi(c,p),j=wp(null,c,y,o,j,p);var N=Sp();return c.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,vn(y)?(N=!0,mu(c)):N=!1,c.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,pp(c),j.updater=Pu,c.stateNode=j,j._reactInternals=c,Tp(c,y,o,p),c=Ip(null,c,y,!0,N,p)):(c.tag=0,rt&&N&&sp(c),an(null,c,j,p),c=c.child),c;case 16:y=c.elementType;e:{switch(Au(o,c),o=c.pendingProps,j=y._init,y=j(y._payload),c.type=y,j=c.tag=jN(y),o=sr(y,o),j){case 0:c=Pp(null,c,y,o,p);break e;case 1:c=Yv(null,c,y,o,p);break e;case 11:c=Hv(null,c,y,o,p);break e;case 14:c=Gv(null,c,y,sr(y.type,o),p);break e}throw Error(n(306,y,""))}return c;case 0:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:sr(y,j),Pp(o,c,y,j,p);case 1:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:sr(y,j),Yv(o,c,y,j,p);case 3:e:{if(Jv(c),o===null)throw Error(n(387));y=c.pendingProps,N=c.memoizedState,j=N.element,fv(o,c),ju(c,y,null,p);var F=c.memoizedState;if(y=F.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){j=Ai(Error(n(423)),c),c=Qv(o,c,y,p,j);break e}else if(y!==j){j=Ai(Error(n(424)),c),c=Qv(o,c,y,p,j);break e}else for(Nn=Is(c.stateNode.containerInfo.firstChild),Tn=c,rt=!0,rr=null,p=uv(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ti(),y===j){c=os(o,c,p);break e}an(o,c,y,p)}c=c.child}return c;case 5:return mv(c),o===null&&ap(c),y=c.type,j=c.pendingProps,N=o!==null?o.memoizedProps:null,F=j.children,Qh(y,j)?F=null:N!==null&&Qh(y,N)&&(c.flags|=32),Xv(o,c),an(o,c,F,p),c.child;case 6:return o===null&&ap(c),null;case 13:return Zv(o,c,p);case 4:return mp(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=Ni(c,null,y,p):an(o,c,y,p),c.child;case 11:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:sr(y,j),Hv(o,c,y,j,p);case 7:return an(o,c,c.pendingProps,p),c.child;case 8:return an(o,c,c.pendingProps.children,p),c.child;case 12:return an(o,c,c.pendingProps.children,p),c.child;case 10:e:{if(y=c.type._context,j=c.pendingProps,N=c.memoizedProps,F=j.value,Je(wu,y._currentValue),y._currentValue=F,N!==null)if(nr(N.value,F)){if(N.children===j.children&&!xn.current){c=os(o,c,p);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var G=N.dependencies;if(G!==null){F=N.child;for(var Q=G.firstContext;Q!==null;){if(Q.context===y){if(N.tag===1){Q=ss(-1,p&-p),Q.tag=2;var ie=N.updateQueue;if(ie!==null){ie=ie.shared;var fe=ie.pending;fe===null?Q.next=Q:(Q.next=fe.next,fe.next=Q),ie.pending=Q}}N.lanes|=p,Q=N.alternate,Q!==null&&(Q.lanes|=p),fp(N.return,p,c),G.lanes|=p;break}Q=Q.next}}else if(N.tag===10)F=N.type===c.type?null:N.child;else if(N.tag===18){if(F=N.return,F===null)throw Error(n(341));F.lanes|=p,G=F.alternate,G!==null&&(G.lanes|=p),fp(F,p,c),F=N.sibling}else F=N.child;if(F!==null)F.return=N;else for(F=N;F!==null;){if(F===c){F=null;break}if(N=F.sibling,N!==null){N.return=F.return,F=N;break}F=F.return}N=F}an(o,c,j.children,p),c=c.child}return c;case 9:return j=c.type,y=c.pendingProps.children,Pi(c,p),j=Un(j),y=y(j),c.flags|=1,an(o,c,y,p),c.child;case 14:return y=c.type,j=sr(y,c.pendingProps),j=sr(y.type,j),Gv(o,c,y,j,p);case 15:return qv(o,c,c.type,c.pendingProps,p);case 17:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:sr(y,j),Au(o,c),c.tag=1,vn(y)?(o=!0,mu(c)):o=!1,Pi(c,p),zv(c,y,j),Tp(c,y,j,p),Ip(null,c,y,!0,o,p);case 19:return tb(o,c,p);case 22:return Kv(o,c,p)}throw Error(n(156,c.tag))};function Cb(o,c){return Hc(o,c)}function kN(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(o,c,p,y){return new kN(o,c,p,y)}function Qp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function jN(o){if(typeof o=="function")return Qp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===H)return 11;if(o===X)return 14}return 2}function Ws(o,c){var p=o.alternate;return p===null?(p=qn(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Uu(o,c,p,y,j,N){var F=2;if(y=o,typeof o=="function")Qp(o)&&(F=1);else if(typeof o=="string")F=5;else e:switch(o){case R:return Ao(p.children,j,N,c);case I:F=8,j|=8;break;case A:return o=qn(12,p,c,j|2),o.elementType=A,o.lanes=N,o;case Y:return o=qn(13,p,c,j),o.elementType=Y,o.lanes=N,o;case V:return o=qn(19,p,c,j),o.elementType=V,o.lanes=N,o;case W:return Hu(p,j,N,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:F=10;break e;case $:F=9;break e;case H:F=11;break e;case X:F=14;break e;case z:F=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=qn(F,p,c,j),c.elementType=o,c.type=y,c.lanes=N,c}function Ao(o,c,p,y){return o=qn(7,o,y,c),o.lanes=p,o}function Hu(o,c,p,y){return o=qn(22,o,y,c),o.elementType=W,o.lanes=p,o.stateNode={isHidden:!1},o}function Zp(o,c,p){return o=qn(6,o,null,c),o.lanes=p,o}function em(o,c,p){return c=qn(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function CN(o,c,p,y,j){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=y,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function tm(o,c,p,y,j,N,F,G,Q){return o=new CN(o,c,p,G,Q),c===1?(c=1,N===!0&&(c|=8)):c=0,N=qn(3,null,null,c),o.current=N,N.stateNode=o,N.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},pp(N),o}function _N(o,c,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:y==null?null:""+y,children:o,containerInfo:c,implementation:p}}function _b(o){if(!o)return Ms;o=o._reactInternals;e:{if(Rr(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(vn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var p=o.type;if(vn(p))return ev(o,p,c)}return c}function Eb(o,c,p,y,j,N,F,G,Q){return o=tm(p,y,!0,o,j,N,F,G,Q),o.context=_b(null),p=o.current,y=ln(),j=Bs(p),N=ss(y,j),N.callback=c??null,Os(p,N,j),o.current.lanes=j,wo(o,j,y),Sn(o,y),o}function Gu(o,c,p,y){var j=c.current,N=ln(),F=Bs(j);return p=_b(p),c.context===null?c.context=p:c.pendingContext=p,c=ss(N,F),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Os(j,c,F),o!==null&&(ar(o,j,F,N),ku(o,j,F)),F}function qu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Tb(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function nm(o,c){Tb(o,c),(o=o.alternate)&&Tb(o,c)}function EN(){return null}var Nb=typeof reportError=="function"?reportError:function(o){console.error(o)};function rm(o){this._internalRoot=o}Ku.prototype.render=rm.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));Gu(o,c,null,null)},Ku.prototype.unmount=rm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Ro(function(){Gu(null,o,null,null)}),c[Zr]=null}};function Ku(o){this._internalRoot=o}Ku.prototype.unstable_scheduleHydration=function(o){if(o){var c=fx();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Ns.length&&c!==0&&c<Ns[p].priority;p++);Ns.splice(p,0,o),p===0&&mx(o)}};function sm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Xu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Rb(){}function TN(o,c,p,y,j){if(j){if(typeof y=="function"){var N=y;y=function(){var ie=qu(F);N.call(ie)}}var F=Eb(c,y,o,0,null,!1,!1,"",Rb);return o._reactRootContainer=F,o[Zr]=F.current,il(o.nodeType===8?o.parentNode:o),Ro(),F}for(;j=o.lastChild;)o.removeChild(j);if(typeof y=="function"){var G=y;y=function(){var ie=qu(Q);G.call(ie)}}var Q=tm(o,0,!1,null,null,!1,!1,"",Rb);return o._reactRootContainer=Q,o[Zr]=Q.current,il(o.nodeType===8?o.parentNode:o),Ro(function(){Gu(c,Q,p,y)}),Q}function Yu(o,c,p,y,j){var N=p._reactRootContainer;if(N){var F=N;if(typeof j=="function"){var G=j;j=function(){var Q=qu(F);G.call(Q)}}Gu(c,F,o,j)}else F=TN(p,c,o,j,y);return qu(F)}ux=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var p=Pr(c.pendingLanes);p!==0&&(Th(c,p|1),Sn(c,ct()),(Ge&6)===0&&(Di=ct()+500,Fs()))}break;case 13:Ro(function(){var y=rs(o,1);if(y!==null){var j=ln();ar(y,o,1,j)}}),nm(o,1)}},Nh=function(o){if(o.tag===13){var c=rs(o,134217728);if(c!==null){var p=ln();ar(c,o,134217728,p)}nm(o,134217728)}},dx=function(o){if(o.tag===13){var c=Bs(o),p=rs(o,c);if(p!==null){var y=ln();ar(p,o,c,y)}nm(o,c)}},fx=function(){return Ye},hx=function(o,c){var p=Ye;try{return Ye=o,c()}finally{Ye=p}},yo=function(o,c,p){switch(c){case"input":if(We(o,p),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var j=hu(y);if(!j)throw Error(n(90));ue(y),We(y,j)}}}break;case"textarea":Yr(o,p);break;case"select":c=p.value,c!=null&&Ut(o,!!p.multiple,c,!1)}},xt=Xp,$t=Ro;var NN={usingClientEntryPoint:!1,Events:[cl,ki,hu,ze,lt,Xp]},kl={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RN={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Wc(o),o===null?null:o.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||EN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{bo=Ju.inject(RN),Bn=Ju}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN,kn.createPortal=function(o,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(c))throw Error(n(200));return _N(o,c,null,p)},kn.createRoot=function(o,c){if(!sm(o))throw Error(n(299));var p=!1,y="",j=Nb;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),c=tm(o,1,!1,null,null,p,!1,y,j),o[Zr]=c.current,il(o.nodeType===8?o.parentNode:o),new rm(c)},kn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Wc(c),o=o===null?null:o.stateNode,o},kn.flushSync=function(o){return Ro(o)},kn.hydrate=function(o,c,p){if(!Xu(c))throw Error(n(200));return Yu(null,o,c,!0,p)},kn.hydrateRoot=function(o,c,p){if(!sm(o))throw Error(n(405));var y=p!=null&&p.hydratedSources||null,j=!1,N="",F=Nb;if(p!=null&&(p.unstable_strictMode===!0&&(j=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),c=Eb(c,null,o,1,p??null,j,!1,N,F),o[Zr]=c.current,il(o),y)for(o=0;o<y.length;o++)p=y[o],j=p._getVersion,j=j(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,j]:c.mutableSourceEagerHydrationData.push(p,j);return new Ku(c)},kn.render=function(o,c,p){if(!Xu(c))throw Error(n(200));return Yu(null,o,c,!1,p)},kn.unmountComponentAtNode=function(o){if(!Xu(o))throw Error(n(40));return o._reactRootContainer?(Ro(function(){Yu(null,null,o,!1,function(){o._reactRootContainer=null,o[Zr]=null})}),!0):!1},kn.unstable_batchedUpdates=Xp,kn.unstable_renderSubtreeIntoContainer=function(o,c,p,y){if(!Xu(p))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Yu(o,c,p,!1,y)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var zb;function SS(){if(zb)return am.exports;zb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),am.exports=LN(),am.exports}var Lb;function $N(){if(Lb)return Qu;Lb=1;var e=SS();return Qu.createRoot=e.createRoot,Qu.hydrateRoot=e.hydrateRoot,Qu}var BN=$N();const VN=Rf(BN),w0=k.createContext({});function S0(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const kS=typeof window<"u",jS=kS?k.useLayoutEffect:k.useEffect,Pf=k.createContext(null);function k0(e,t){e.indexOf(t)===-1&&e.push(t)}function j0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wr=(e,t,n)=>n>t?t:n<e?e:n;let C0=()=>{};const ms={},CS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _S(e){return typeof e=="object"&&e!==null}const ES=e=>/^0[^.\s]+$/u.test(e);function _0(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,WN=(e,t)=>n=>t(e(n)),kc=(...e)=>e.reduce(WN),Xl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class E0{constructor(){this.subscriptions=[]}add(t){return k0(this.subscriptions,t),()=>j0(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fs=e=>e*1e3,Xn=e=>e/1e3;function TS(e,t){return t?e*(1e3/t):0}const NS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UN=1e-7,HN=12;function GN(e,t,n,r,s){let i,a,u=0;do a=t+(n-t)/2,i=NS(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>UN&&++u<HN);return a}function jc(e,t,n,r){if(e===t&&n===r)return Jn;const s=i=>GN(i,0,1,e,n);return i=>i===0||i===1?i:NS(s(i),t,r)}const RS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,PS=e=>t=>1-e(1-t),IS=jc(.33,1.53,.69,.99),T0=PS(IS),AS=RS(T0),MS=e=>(e*=2)<1?.5*T0(e):.5*(2-Math.pow(2,-10*(e-1))),N0=e=>1-Math.sin(Math.acos(e)),FS=PS(N0),DS=RS(N0),qN=jc(.42,0,1,1),KN=jc(0,0,.58,1),OS=jc(.42,0,.58,1),XN=e=>Array.isArray(e)&&typeof e[0]!="number",zS=e=>Array.isArray(e)&&typeof e[0]=="number",YN={linear:Jn,easeIn:qN,easeInOut:OS,easeOut:KN,circIn:N0,circInOut:DS,circOut:FS,backIn:T0,backInOut:AS,backOut:IS,anticipate:MS},JN=e=>typeof e=="string",$b=e=>{if(zS(e)){C0(e.length===4);const[t,n,r,s]=e;return jc(t,n,r,s)}else if(JN(e))return YN[e];return e},Zu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QN(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),e()),m(u)}const f={schedule:(m,h=!1,g=!1)=>{const v=g&&s?n:r;return h&&a.add(m),v.has(m)||v.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(u=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,i&&(i=!1,f.process(m))}};return f}const ZN=40;function LS(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Zu.reduce((w,T)=>(w[T]=QN(i),w),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:m,update:h,preRender:g,render:x,postRender:v}=a,b=()=>{const w=ms.useManualTiming?s.timestamp:performance.now();n=!1,ms.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,ZN),1)),s.timestamp=w,s.isProcessing=!0,u.process(s),d.process(s),f.process(s),m.process(s),h.process(s),g.process(s),x.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(b))},S=()=>{n=!0,r=!0,s.isProcessing||e(b)};return{schedule:Zu.reduce((w,T)=>{const P=a[T];return w[T]=(C,R=!1,I=!1)=>(n||S(),P.schedule(C,R,I)),w},{}),cancel:w=>{for(let T=0;T<Zu.length;T++)a[Zu[T]].cancel(w)},state:s,steps:a}}const{schedule:Ze,cancel:so,state:Xt,steps:um}=LS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let Od;function eR(){Od=void 0}const dn={now:()=>(Od===void 0&&dn.set(Xt.isProcessing||ms.useManualTiming?Xt.timestamp:performance.now()),Od),set:e=>{Od=e,queueMicrotask(eR)}},$S=e=>t=>typeof t=="string"&&t.startsWith(e),BS=$S("--"),tR=$S("var(--"),R0=e=>tR(e)?nR.test(e.split("/*")[0].trim()):!1,nR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Bb(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ja={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yl={...ja,transform:e=>Wr(0,1,e)},ed={...ja,default:1},Bl=e=>Math.round(e*1e5)/1e5,P0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rR(e){return e==null}const sR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I0=(e,t)=>n=>!!(typeof n=="string"&&sR.test(n)&&n.startsWith(e)||t&&!rR(n)&&Object.prototype.hasOwnProperty.call(n,t)),VS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,u]=r.match(P0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},oR=e=>Wr(0,255,e),dm={...ja,transform:e=>Math.round(oR(e))},Ho={test:I0("rgb","red"),parse:VS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dm.transform(e)+", "+dm.transform(t)+", "+dm.transform(n)+", "+Bl(Yl.transform(r))+")"};function iR(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ug={test:I0("#"),parse:iR,transform:Ho.transform},Cc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=Cc("deg"),$r=Cc("%"),Ce=Cc("px"),aR=Cc("vh"),lR=Cc("vw"),Vb={...$r,parse:e=>$r.parse(e)/100,transform:e=>$r.transform(e*100)},ea={test:I0("hsl","hue"),parse:VS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$r.transform(Bl(t))+", "+$r.transform(Bl(n))+", "+Bl(Yl.transform(r))+")"},jt={test:e=>Ho.test(e)||ug.test(e)||ea.test(e),parse:e=>Ho.test(e)?Ho.parse(e):ea.test(e)?ea.parse(e):ug.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ho.transform(e):ea.transform(e),getAnimatableNone:e=>{const t=jt.parse(e);return t.alpha=0,jt.transform(t)}},cR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uR(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(P0))==null?void 0:t.length)||0)+(((n=e.match(cR))==null?void 0:n.length)||0)>0}const WS="number",US="color",dR="var",fR="var(",Wb="${}",hR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const u=t.replace(hR,d=>(jt.test(d)?(r.color.push(i),s.push(US),n.push(jt.parse(d))):d.startsWith(fR)?(r.var.push(i),s.push(dR),n.push(d)):(r.number.push(i),s.push(WS),n.push(parseFloat(d))),++i,Wb)).split(Wb);return{values:n,split:u,indexes:r,types:s}}function HS(e){return Jl(e).values}function GS(e){const{split:t,types:n}=Jl(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const u=n[a];u===WS?i+=Bl(s[a]):u===US?i+=jt.transform(s[a]):i+=s[a]}return i}}const pR=e=>typeof e=="number"?0:jt.test(e)?jt.getAnimatableNone(e):e;function mR(e){const t=HS(e);return GS(e)(t.map(pR))}const oo={test:uR,parse:HS,createTransformer:GS,getAnimatableNone:mR};function fm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gR({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;s=fm(d,u,e+1/3),i=fm(d,u,e),a=fm(d,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Zd(e,t){return n=>n>0?t:e}const ft=(e,t,n)=>e+(t-e)*n,hm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},yR=[ug,Ho,ea],xR=e=>yR.find(t=>t.test(e));function Ub(e){const t=xR(e);if(!t)return!1;let n=t.parse(e);return t===ea&&(n=gR(n)),n}const Hb=(e,t)=>{const n=Ub(e),r=Ub(t);if(!n||!r)return Zd(e,t);const s={...n};return i=>(s.red=hm(n.red,r.red,i),s.green=hm(n.green,r.green,i),s.blue=hm(n.blue,r.blue,i),s.alpha=ft(n.alpha,r.alpha,i),Ho.transform(s))},dg=new Set(["none","hidden"]);function vR(e,t){return dg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bR(e,t){return n=>ft(e,t,n)}function A0(e){return typeof e=="number"?bR:typeof e=="string"?R0(e)?Zd:jt.test(e)?Hb:kR:Array.isArray(e)?qS:typeof e=="object"?jt.test(e)?Hb:wR:Zd}function qS(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>A0(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function wR(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=A0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function SR(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],u=e.values[a]??0;n[s]=u,r[i]++}return n}const kR=(e,t)=>{const n=oo.createTransformer(t),r=Jl(e),s=Jl(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?dg.has(e)&&!s.values.length||dg.has(t)&&!r.values.length?vR(e,t):kc(qS(SR(r,s),s.values),n):Zd(e,t)};function KS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ft(e,t,n):A0(e)(e,t)}const jR=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ze.update(t,n),stop:()=>so(t),now:()=>Xt.isProcessing?Xt.timestamp:dn.now()}},XS=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ef=2e4;function M0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ef;)t+=n,r=e.next(t);return t>=ef?1/0:t}function CR(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(M0(r),ef);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Xn(s)}}const _R=5;function YS(e,t,n){const r=Math.max(t-_R,0);return TS(n-e(r),t-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pm=.001;function ER({duration:e=gt.duration,bounce:t=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let s,i,a=1-t;a=Wr(gt.minDamping,gt.maxDamping,a),e=Wr(gt.minDuration,gt.maxDuration,Xn(e)),a<1?(s=f=>{const m=f*a,h=m*e,g=m-n,x=fg(f,a),v=Math.exp(-h);return pm-g/x*v},i=f=>{const h=f*a*e,g=h*n+n,x=Math.pow(a,2)*Math.pow(f,2)*e,v=Math.exp(-h),b=fg(Math.pow(f,2),a);return(-s(f)+pm>0?-1:1)*((g-x)*v)/b}):(s=f=>{const m=Math.exp(-f*e),h=(f-n)*e+1;return-pm+m*h},i=f=>{const m=Math.exp(-f*e),h=(n-f)*(e*e);return m*h});const u=5/e,d=NR(s,i,u);if(e=fs(e),isNaN(d))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:e}}}const TR=12;function NR(e,t,n){let r=n;for(let s=1;s<TR;s++)r=r-e(r)/t(r);return r}function fg(e,t){return e*Math.sqrt(1-t*t)}const RR=["duration","bounce"],PR=["stiffness","damping","mass"];function Gb(e,t){return t.some(n=>e[n]!==void 0)}function IR(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!Gb(e,PR)&&Gb(e,RR))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Wr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:gt.mass,stiffness:s,damping:i}}else{const n=ER(e);t={...t,...n,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function tf(e=gt.visualDuration,t=gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:d,damping:f,mass:m,duration:h,velocity:g,isResolvedFromDuration:x}=IR({...n,velocity:-Xn(n.velocity||0)}),v=g||0,b=f/(2*Math.sqrt(d*m)),S=a-i,_=Xn(Math.sqrt(d/m)),E=Math.abs(S)<5;r||(r=E?gt.restSpeed.granular:gt.restSpeed.default),s||(s=E?gt.restDelta.granular:gt.restDelta.default);let w;if(b<1){const P=fg(_,b);w=C=>{const R=Math.exp(-b*_*C);return a-R*((v+b*_*S)/P*Math.sin(P*C)+S*Math.cos(P*C))}}else if(b===1)w=P=>a-Math.exp(-_*P)*(S+(v+_*S)*P);else{const P=_*Math.sqrt(b*b-1);w=C=>{const R=Math.exp(-b*_*C),I=Math.min(P*C,300);return a-R*((v+b*_*S)*Math.sinh(I)+P*S*Math.cosh(I))/P}}const T={calculatedDuration:x&&h||null,next:P=>{const C=w(P);if(x)u.done=P>=h;else{let R=P===0?v:0;b<1&&(R=P===0?fs(v):YS(w,P,C));const I=Math.abs(R)<=r,A=Math.abs(a-C)<=s;u.done=I&&A}return u.value=u.done?a:C,u},toString:()=>{const P=Math.min(M0(T),ef),C=XS(R=>T.next(P*R).value,P,30);return P+"ms "+C},toTransition:()=>{}};return T}tf.applyToOptions=e=>{const t=CR(e,100,tf);return e.ease=t.ease,e.duration=fs(t.duration),e.type="keyframes",e};function hg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:u,max:d,restDelta:f=.5,restSpeed:m}){const h=e[0],g={done:!1,value:h},x=I=>u!==void 0&&I<u||d!==void 0&&I>d,v=I=>u===void 0?d:d===void 0||Math.abs(u-I)<Math.abs(d-I)?u:d;let b=n*t;const S=h+b,_=a===void 0?S:a(S);_!==S&&(b=_-h);const E=I=>-b*Math.exp(-I/r),w=I=>_+E(I),T=I=>{const A=E(I),U=w(I);g.done=Math.abs(A)<=f,g.value=g.done?_:U};let P,C;const R=I=>{x(g.value)&&(P=I,C=tf({keyframes:[g.value,v(g.value)],velocity:YS(w,I,g.value),damping:s,stiffness:i,restDelta:f,restSpeed:m}))};return R(0),{calculatedDuration:null,next:I=>{let A=!1;return!C&&P===void 0&&(A=!0,T(I),R(I)),P!==void 0&&I>=P?C.next(I-P):(!A&&T(I),g)}}}function AR(e,t,n){const r=[],s=n||ms.mix||KS,i=e.length-1;for(let a=0;a<i;a++){let u=s(e[a],e[a+1]);if(t){const d=Array.isArray(t)?t[a]||Jn:t;u=kc(d,u)}r.push(u)}return r}function MR(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(C0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=AR(t,r,s),d=u.length,f=m=>{if(a&&m<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(m<e[h+1]);h++);const g=Xl(e[h],e[h+1],m);return u[h](g)};return n?m=>f(Wr(e[0],e[i-1],m)):f}function FR(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Xl(0,t,r);e.push(ft(n,1,s))}}function DR(e){const t=[0];return FR(t,e.length-1),t}function OR(e,t){return e.map(n=>n*t)}function zR(e,t){return e.map(()=>t||OS).splice(0,e.length-1)}function Vl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=XN(r)?r.map($b):$b(r),i={done:!1,value:t[0]},a=OR(n&&n.length===t.length?n:DR(t),e),u=MR(a,t,{ease:Array.isArray(s)?s:zR(t,s)});return{calculatedDuration:e,next:d=>(i.value=u(d),i.done=d>=e,i)}}const LR=e=>e!==null;function F0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(LR),u=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const $R={decay:hg,inertia:hg,tween:Vl,keyframes:Vl,spring:tf};function JS(e){typeof e.type=="string"&&(e.type=$R[e.type])}class D0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const BR=e=>e/100;class O0 extends D0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;JS(t);const{type:n=Vl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:u}=t;const d=n||Vl;d!==Vl&&typeof u[0]!="number"&&(this.mixKeyframes=kc(BR,KS(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=M0(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:h,repeatType:g,repeatDelay:x,type:v,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,T=r;if(h){const I=Math.min(this.currentTime,s)/u;let A=Math.floor(I),U=I%1;!U&&I>=1&&(U=1),U===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(g==="reverse"?(U=1-U,x&&(U-=x/u)):g==="mirror"&&(T=a)),w=Wr(0,1,U)*u}const P=E?{done:!1,value:m[0]}:T.next(w);i&&(P.value=i(P.value));let{done:C}=P;!E&&d!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return R&&v!==hg&&(P.value=F0(m,this.options,S,this.speed)),b&&b(P.value),R&&this.finish(),P}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){var n;t=fs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=jR,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function VR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Go=e=>e*180/Math.PI,pg=e=>{const t=Go(Math.atan2(e[1],e[0]));return mg(t)},WR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pg,rotateZ:pg,skewX:e=>Go(Math.atan(e[1])),skewY:e=>Go(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mg=e=>(e=e%360,e<0&&(e+=360),e),qb=pg,Kb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Xb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),UR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kb,scaleY:Xb,scale:e=>(Kb(e)+Xb(e))/2,rotateX:e=>mg(Go(Math.atan2(e[6],e[5]))),rotateY:e=>mg(Go(Math.atan2(-e[2],e[0]))),rotateZ:qb,rotate:qb,skewX:e=>Go(Math.atan(e[4])),skewY:e=>Go(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gg(e){return e.includes("scale")?1:0}function yg(e,t){if(!e||e==="none")return gg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=UR,s=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=WR,s=u}if(!s)return gg(t);const i=r[t],a=s[1].split(",").map(GR);return typeof i=="function"?i(a):a[i]}const HR=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return yg(n,t)};function GR(e){return parseFloat(e.trim())}const Ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(Ca),Yb=e=>e===ja||e===Ce,qR=new Set(["x","y","z"]),KR=Ca.filter(e=>!qR.has(e));function XR(e){const t=[];return KR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const to={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yg(t,"x"),y:(e,{transform:t})=>yg(t,"y")};to.translateX=to.x;to.translateY=to.y;const Xo=new Set;let xg=!1,vg=!1,bg=!1;function QS(){if(vg){const e=Array.from(Xo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=XR(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var u;(u=r.getValue(i))==null||u.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vg=!1,xg=!1,Xo.forEach(e=>e.complete(bg)),Xo.clear()}function ZS(){Xo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vg=!0)})}function YR(){bg=!0,ZS(),QS(),bg=!1}class z0{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Xo.add(this),xg||(xg=!0,Ze.read(ZS),Ze.resolveKeyframes(QS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const u=r.readValue(n,a);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}VR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xo.delete(this)}cancel(){this.state==="scheduled"&&(Xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JR=e=>e.startsWith("--");function QR(e,t,n){JR(t)?e.style.setProperty(t,n):e.style[t]=n}const ZR=_0(()=>window.ScrollTimeline!==void 0),eP={};function tP(e,t){const n=_0(e);return()=>eP[t]??n()}const ek=tP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Jb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function tk(e,t){if(e)return typeof e=="function"?ek()?XS(e,t):"ease-out":zS(e)?Fl(e):Array.isArray(e)?e.map(n=>tk(n,t)||Jb.easeOut):Jb[e]}function nP(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:u="easeOut",times:d}={},f=void 0){const m={[t]:n};d&&(m.offset=d);const h=tk(u,s);Array.isArray(h)&&(m.easing=h);const g={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),e.animate(m,g)}function nk(e){return typeof e=="function"&&"applyToOptions"in e}function rP({type:e,...t}){return nk(e)&&ek()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class sP extends D0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,C0(typeof t.type!="string");const f=rP(t);this.animation=nP(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=F0(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):QR(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,s;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((s=(r=this.animation).commitStyles)==null||s.call(r))}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ZR()?(this.animation.timeline=t,Jn):n(this)}}const rk={anticipate:MS,backInOut:AS,circInOut:DS};function oP(e){return e in rk}function iP(e){typeof e.ease=="string"&&oP(e.ease)&&(e.ease=rk[e.ease])}const mm=10;class aP extends sP{constructor(t){iP(t),JS(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new O0({...a,autoplay:!1}),d=Math.max(mm,dn.now()-this.startTime),f=Wr(0,mm,d-mm);n.setWithVelocity(u.sample(Math.max(0,d-f)).value,u.sample(d).value,f),u.stop()}}const Qb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oo.test(e)||e==="0")&&!e.startsWith("url("));function lP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cP(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Qb(s,t),u=Qb(i,t);return!a||!u?!1:lP(e)||(n==="spring"||nk(n))&&r}function wg(e){e.duration=0,e.type="keyframes"}const uP=new Set(["opacity","clipPath","filter","transform"]),dP=_0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fP(e){var m;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return dP()&&n&&uP.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const hP=40;class pP extends D0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:u,name:d,motionValue:f,element:m,...h}){var v;super(),this.stop=()=>{var b,S;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=dn.now();const g={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:d,motionValue:f,element:m,...h},x=(m==null?void 0:m.KeyframeResolver)||z0;this.keyframeResolver=new x(u,(b,S,_)=>this.onKeyframesResolved(b,S,g,!_),d,f,m),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){var S,_;this.keyframeResolver=void 0;const{name:i,type:a,velocity:u,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=dn.now(),cP(t,i,a,u)||((ms.instantAnimations||!d)&&(m==null||m(F0(t,r,n))),t[0]=t[t.length-1],wg(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!f&&fP(g),v=(_=(S=g.motionValue)==null?void 0:S.owner)==null?void 0:_.current,b=x?new aP({...g,element:v}):new O0(g);b.finished.then(()=>{this.notifyFinished()}).catch(Jn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),YR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function sk(e,t,n,r=0,s=1){const i=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),a=e.size,u=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:u-i*r}const mP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gP(e){const t=mP.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function ok(e,t,n=1){const[r,s]=gP(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return CS(a)?parseFloat(a):a}return R0(s)?ok(s,t,n+1):s}const yP={type:"spring",stiffness:500,damping:25,restSpeed:10},xP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vP={type:"keyframes",duration:.8},bP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wP=(e,{keyframes:t})=>t.length>2?vP:_a.has(e)?e.startsWith("scale")?xP(t[1]):yP:bP,SP=e=>e!==null;function kP(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(SP),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}function L0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function jP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:u,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const $0=(e,t,n,r={},s,i)=>a=>{const u=L0(r,e)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-fs(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:g=>{t.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:i?void 0:s};jP(u)||Object.assign(m,wP(e,m)),m.duration&&(m.duration=fs(m.duration)),m.repeatDelay&&(m.repeatDelay=fs(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let h=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(wg(m),m.delay===0&&(h=!0)),(ms.instantAnimations||ms.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(h=!0,wg(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,h&&!i&&t.get()!==void 0){const g=kP(m.keyframes,u);if(g!==void 0){Ze.update(()=>{m.onUpdate(g),m.onComplete()});return}}return u.isSync?new O0(m):new pP(m)};function Zb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function B0(e,t,n,r){if(typeof t=="function"){const[s,i]=Zb(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Zb(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function aa(e,t,n){const r=e.getProps();return B0(r,t,n!==void 0?n:r.custom,e)}const ik=new Set(["width","height","top","left","right","bottom",...Ca]),e1=30,CP=e=>!isNaN(parseFloat(e));class _P{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=dn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new E0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e1);return TS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ha(e,t){return new _P(e,t)}const Sg=e=>Array.isArray(e);function EP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ha(n))}function TP(e){return Sg(e)?e[e.length-1]||0:e}function NP(e,t){const n=aa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const u=TP(i[a]);EP(e,a,u)}}const sn=e=>!!(e&&e.getVelocity);function RP(e){return!!(sn(e)&&e.add)}function kg(e,t){const n=e.getValue("willChange");if(RP(n))return n.add(t);if(!n&&ms.WillChange){const r=new ms.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function V0(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const PP="framerAppearId",ak="data-"+V0(PP);function lk(e){return e.props[ak]}function IP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ck(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...u}=t;const d=i==null?void 0:i.reduceMotion;r&&(i=r);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in u){const g=e.getValue(h,e.latestValues[h]??null),x=u[h];if(x===void 0||m&&IP(m,h))continue;const v={delay:n,...L0(i||{},h)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===b&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=lk(e);if(w){const T=window.MotionHandoffAnimation(w,h,Ze);T!==null&&(v.startTime=T,S=!0)}}kg(e,h);const _=d??e.shouldReduceMotion;g.start($0(h,g,x,_&&ik.has(h)?{type:!1}:v,e,S));const E=g.animation;E&&f.push(E)}return a&&Promise.all(f).then(()=>{Ze.update(()=>{a&&NP(e,a)})}),f}function jg(e,t,n={}){var d;const r=aa(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ck(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:h,staggerDirection:g}=s;return AP(e,t,f,m,h,g,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,m]=u==="beforeChildren"?[i,a]:[a,i];return f().then(()=>m())}else return Promise.all([i(),a(n.delay)])}function AP(e,t,n=0,r=0,s=0,i=1,a){const u=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),u.push(jg(d,t,{...a,delay:n+(typeof r=="function"?0:r)+sk(e.variantChildren,d,r,s,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function MP(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>jg(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=jg(e,t,n);else{const s=typeof t=="function"?aa(e,t,n.custom):t;r=Promise.all(ck(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const FP={test:e=>e==="auto",parse:e=>e},uk=e=>t=>t.test(e),dk=[ja,Ce,$r,Xs,lR,aR,FP],t1=e=>dk.find(uk(e));function DP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ES(e):!0}const OP=new Set(["brightness","contrast","saturate","opacity"]);function zP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(P0)||[];if(!r)return e;const s=n.replace(r,"");let i=OP.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const LP=/\b([a-z-]*)\(.*?\)/gu,Cg={...oo,getAnimatableNone:e=>{const t=e.match(LP);return t?t.map(zP).join(" "):e}},n1={...ja,transform:Math.round},$P={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:ed,scaleX:ed,scaleY:ed,scaleZ:ed,skew:Xs,skewX:Xs,skewY:Xs,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Yl,originX:Vb,originY:Vb,originZ:Ce},W0={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,inset:Ce,insetBlock:Ce,insetBlockStart:Ce,insetBlockEnd:Ce,insetInline:Ce,insetInlineStart:Ce,insetInlineEnd:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,paddingBlock:Ce,paddingBlockStart:Ce,paddingBlockEnd:Ce,paddingInline:Ce,paddingInlineStart:Ce,paddingInlineEnd:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,marginBlock:Ce,marginBlockStart:Ce,marginBlockEnd:Ce,marginInline:Ce,marginInlineStart:Ce,marginInlineEnd:Ce,fontSize:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...$P,zIndex:n1,fillOpacity:Yl,strokeOpacity:Yl,numOctaves:n1},BP={...W0,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:Cg,WebkitFilter:Cg},fk=e=>BP[e];function hk(e,t){let n=fk(e);return n!==Cg&&(n=oo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VP=new Set(["auto","none","0"]);function WP(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!VP.has(i)&&Jl(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=hk(n,s)}class UP extends z0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let h=t[m];if(typeof h=="string"&&(h=h.trim(),R0(h))){const g=ok(h,n.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!ik.has(r)||t.length!==2)return;const[s,i]=t,a=t1(s),u=t1(i),d=Bb(s),f=Bb(i);if(d!==f&&to[r]){this.needsMeasurement=!0;return}if(a!==u)if(Yb(a)&&Yb(u))for(let m=0;m<t.length;m++){const h=t[m];typeof h=="string"&&(t[m]=parseFloat(h))}else to[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||DP(t[s]))&&r.push(s);r.length&&WP(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=to[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function pk(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(r=>r!=null)}const mk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function _g(e){return _S(e)&&"offsetHeight"in e}const{schedule:U0}=LS(queueMicrotask,!1),ur={x:!1,y:!1};function gk(){return ur.x||ur.y}function HP(e){return e==="x"||e==="y"?ur[e]?null:(ur[e]=!0,()=>{ur[e]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}function yk(e,t){const n=pk(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function r1(e){return!(e.pointerType==="touch"||gk())}function GP(e,t,n={}){const[r,s,i]=yk(e,n),a=u=>{if(!r1(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const m=h=>{r1(h)&&(f(h),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),i}const xk=(e,t)=>t?e===t?!0:xk(e,t.parentElement):!1,H0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KP(e){return qP.has(e.tagName)||e.isContentEditable===!0}const XP=new Set(["INPUT","SELECT","TEXTAREA"]);function YP(e){return XP.has(e.tagName)||e.isContentEditable===!0}const zd=new WeakSet;function s1(e){return t=>{t.key==="Enter"&&e(t)}}function gm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const JP=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=s1(()=>{if(zd.has(n))return;gm(n,"down");const s=s1(()=>{gm(n,"up")}),i=()=>gm(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function o1(e){return H0(e)&&!gk()}function QP(e,t,n={}){const[r,s,i]=yk(e,n),a=u=>{const d=u.currentTarget;if(!o1(u))return;zd.add(d);const f=t(d,u),m=(x,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),zd.has(d)&&zd.delete(d),o1(x)&&typeof f=="function"&&f(x,{success:v})},h=x=>{m(x,d===window||d===document||n.useGlobalTarget||xk(d,x.target))},g=x=>{m(x,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",g,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),_g(u)&&(u.addEventListener("focus",f=>JP(f,s)),!KP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function vk(e){return _S(e)&&"ownerSVGElement"in e}function ZP(e){return vk(e)&&e.tagName==="svg"}const e6=[...dk,jt,oo],t6=e=>e6.find(uk(e)),i1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ta=()=>({x:i1(),y:i1()}),a1=()=>({min:0,max:0}),Ft=()=>({x:a1(),y:a1()}),Eg={current:null},bk={current:!1},n6=typeof window<"u";function r6(){if(bk.current=!0,!!n6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Eg.current=e.matches;e.addEventListener("change",t),t()}else Eg.current=!1}const s6=new WeakMap;function If(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ql(e){return typeof e=="string"||Array.isArray(e)}const G0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q0=["initial",...G0];function Af(e){return If(e.animate)||q0.some(t=>Ql(e[t]))}function wk(e){return!!(Af(e)||e.variants)}function o6(e,t,n){for(const r in t){const s=t[r],i=n[r];if(sn(s))e.addValue(r,s);else if(sn(i))e.addValue(r,ha(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,ha(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const l1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let nf={};function Sk(e){nf=e}function i6(){return nf}class a6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=dn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ze.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Af(n),this.isVariantNode=wk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const v=g[x];f[x]!==void 0&&sn(v)&&v.set(f[x])}}mount(t){var n;this.current=t,s6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(bk.current||r6(),this.shouldReduceMotion=Eg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_a.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nf){const n=nf[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<l1.length;r++){const s=l1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=o6(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ha(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(CS(r)||ES(r))?r=parseFloat(r):!t6(r)&&oo.test(n)&&(r=hk(t,n)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=B0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!sn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new E0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){U0.render(this.render)}}class kk extends a6{constructor(){super(...arguments),this.KeyframeResolver=UP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class fo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jk({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function l6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ym(e){return e===void 0||e===1}function Tg({scale:e,scaleX:t,scaleY:n}){return!ym(e)||!ym(t)||!ym(n)}function $o(e){return Tg(e)||Ck(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ck(e){return c1(e.x)||c1(e.y)}function c1(e){return e&&e!=="0%"}function rf(e,t,n){const r=e-n,s=t*r;return n+s}function u1(e,t,n,r,s){return s!==void 0&&(e=rf(e,s,r)),rf(e,n,r)+t}function Ng(e,t=0,n=1,r,s){e.min=u1(e.min,t,n,r,s),e.max=u1(e.max,t,n,r,s)}function _k(e,{x:t,y:n}){Ng(e.x,t.translate,t.scale,t.originPoint),Ng(e.y,n.translate,n.scale,n.originPoint)}const d1=.999999999999,f1=1.0000000000001;function u6(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let u=0;u<s;u++){i=n[u],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ra(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,_k(e,a)),r&&$o(i.latestValues)&&ra(e,i.latestValues))}t.x<f1&&t.x>d1&&(t.x=1),t.y<f1&&t.y>d1&&(t.y=1)}function na(e,t){e.min=e.min+t,e.max=e.max+t}function h1(e,t,n,r,s=.5){const i=ft(e.min,e.max,s);Ng(e,t,n,i,r)}function ra(e,t){h1(e.x,t.x,t.scaleX,t.scale,t.originX),h1(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ek(e,t){return jk(c6(e.getBoundingClientRect(),t))}function d6(e,t,n){const r=Ek(e,n),{scroll:s}=t;return s&&(na(r.x,s.offset.x),na(r.y,s.offset.y)),r}const f6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h6=Ca.length;function p6(e,t,n){let r="",s=!0;for(let i=0;i<h6;i++){const a=Ca[i],u=e[a];if(u===void 0)continue;let d=!0;if(typeof u=="number")d=u===(a.startsWith("scale")?1:0);else{const f=parseFloat(u);d=a.startsWith("scale")?f===1:f===0}if(!d||n){const f=mk(u,W0[a]);if(!d){s=!1;const m=f6[a]||a;r+=`${m}(${f}) `}n&&(t[a]=f)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function K0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,u=!1;for(const d in t){const f=t[d];if(_a.has(d)){a=!0;continue}else if(BS(d)){s[d]=f;continue}else{const m=mk(f,W0[d]);d.startsWith("origin")?(u=!0,i[d]=m):r[d]=m}}if(t.transform||(a||n?r.transform=p6(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=i;r.transformOrigin=`${d} ${f} ${m}`}}function Tk(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function p1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=p1(e,t.target.x),r=p1(e,t.target.y);return`${n}% ${r}%`}},m6={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=oo.parse(e);if(s.length>5)return r;const i=oo.createTransformer(e),a=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;s[0+a]/=u,s[1+a]/=d;const f=ft(u,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}},Rg={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:m6};function Nk(e,{layout:t,layoutId:n}){return _a.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Rg[e]||e==="opacity")}function X0(e,t,n){var a;const r=e.style,s=t==null?void 0:t.style,i={};if(!r)return i;for(const u in r)(sn(r[u])||s&&sn(s[u])||Nk(u,e)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(i[u]=r[u]);return i}function g6(e){return window.getComputedStyle(e)}class y6 extends kk{constructor(){super(...arguments),this.type="html",this.renderInstance=Tk}readValueFromInstance(t,n){var r;if(_a.has(n))return(r=this.projection)!=null&&r.isProjecting?gg(n):HR(t,n);{const s=g6(t),i=(BS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ek(t,n)}build(t,n,r){K0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return X0(t,n,r)}}const x6={offset:"stroke-dashoffset",array:"stroke-dasharray"},v6={offset:"strokeDashoffset",array:"strokeDasharray"};function b6(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?x6:v6;e[i.offset]=`${-r}`,e[i.array]=`${t} ${n}`}const w6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Rk(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...u},d,f,m){if(K0(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g}=e;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete h.transformBox);for(const x of w6)h[x]!==void 0&&(g[x]=h[x],delete h[x]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&b6(h,s,i,a,!1)}const Pk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ik=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S6(e,t,n,r){Tk(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Pk.has(s)?s:V0(s),t.attrs[s])}function Ak(e,t,n){const r=X0(e,t,n);for(const s in e)if(sn(e[s])||sn(t[s])){const i=Ca.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class k6 extends kk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_a.has(n)){const r=fk(n);return r&&r.default||0}return n=Pk.has(n)?n:V0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ak(t,n,r)}build(t,n,r){Rk(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){S6(t,n,r,s)}mount(t){this.isSVGTag=Ik(t.tagName),super.mount(t)}}const j6=q0.length;function Mk(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Mk(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<j6;n++){const r=q0[n],s=e.props[r];(Ql(s)||s===!1)&&(t[r]=s)}return t}function Fk(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const C6=[...G0].reverse(),_6=G0.length;function E6(e){return t=>Promise.all(t.map(({animation:n,options:r})=>MP(e,n,r)))}function T6(e){let t=E6(e),n=m1(),r=!0;const s=d=>(f,m)=>{var g;const h=aa(e,m,d==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(h){const{transition:x,transitionEnd:v,...b}=h;f={...f,...b,...v}}return f};function i(d){t=d(e)}function a(d){const{props:f}=e,m=Mk(e.parent)||{},h=[],g=new Set;let x={},v=1/0;for(let S=0;S<_6;S++){const _=C6[S],E=n[_],w=f[_]!==void 0?f[_]:m[_],T=Ql(w),P=_===d?E.isActive:null;P===!1&&(v=S);let C=w===m[_]&&w!==f[_]&&T;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...x},!E.isActive&&P===null||!w&&!E.prevProp||If(w)||typeof w=="boolean")continue;const R=N6(E.prevProp,w);let I=R||_===d&&E.isActive&&!C&&T||S>v&&T,A=!1;const U=Array.isArray(w)?w:[w];let $=U.reduce(s(_),{});P===!1&&($={});const{prevResolvedValues:H={}}=E,Y={...H,...$},V=W=>{I=!0,g.has(W)&&(A=!0,g.delete(W)),E.needsAnimating[W]=!0;const M=e.getValue(W);M&&(M.liveStyle=!1)};for(const W in Y){const M=$[W],B=H[W];if(x.hasOwnProperty(W))continue;let O=!1;Sg(M)&&Sg(B)?O=!Fk(M,B):O=M!==B,O?M!=null?V(W):g.add(W):M!==void 0&&g.has(W)?V(W):E.protectedKeys[W]=!0}E.prevProp=w,E.prevResolvedValues=$,E.isActive&&(x={...x,...$}),r&&e.blockInitialAnimation&&(I=!1);const X=C&&R;I&&(!X||A)&&h.push(...U.map(W=>{const M={type:_};if(typeof W=="string"&&r&&!X&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,O=aa(B,W);if(B.enteringChildren&&O){const{delayChildren:D}=O.transition||{};M.delay=sk(B.enteringChildren,e,D)}}return{animation:W,options:M}}))}if(g.size){const S={};if(typeof f.initial!="boolean"){const _=aa(e,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(S.transition=_.transition)}g.forEach(_=>{const E=e.getBaseTarget(_),w=e.getValue(_);w&&(w.liveStyle=!0),S[_]=E??null}),h.push({animation:S})}let b=!!h.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function u(d,f){var h;if(n[d].isActive===f)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,f)}),n[d].isActive=f;const m=a(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:a,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=m1()}}}function N6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fk(t,e):!1}function Mo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m1(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}function g1(e,t){e.min=t.min,e.max=t.max}function lr(e,t){g1(e.x,t.x),g1(e.y,t.y)}function y1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Dk=1e-4,R6=1-Dk,P6=1+Dk,Ok=.01,I6=0-Ok,A6=0+Ok;function fn(e){return e.max-e.min}function M6(e,t,n){return Math.abs(e-t)<=n}function x1(e,t,n,r=.5){e.origin=r,e.originPoint=ft(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),e.translate=ft(n.min,n.max,e.origin)-e.originPoint,(e.scale>=R6&&e.scale<=P6||isNaN(e.scale))&&(e.scale=1),(e.translate>=I6&&e.translate<=A6||isNaN(e.translate))&&(e.translate=0)}function Wl(e,t,n,r){x1(e.x,t.x,n.x,r?r.originX:void 0),x1(e.y,t.y,n.y,r?r.originY:void 0)}function v1(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function F6(e,t,n){v1(e.x,t.x,n.x),v1(e.y,t.y,n.y)}function b1(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function sf(e,t,n){b1(e.x,t.x,n.x),b1(e.y,t.y,n.y)}function w1(e,t,n,r,s){return e-=t,e=rf(e,1/n,r),s!==void 0&&(e=rf(e,1/s,r)),e}function D6(e,t=0,n=1,r=.5,s,i=e,a=e){if($r.test(t)&&(t=parseFloat(t),t=ft(a.min,a.max,t/100)-a.min),typeof t!="number")return;let u=ft(i.min,i.max,r);e===i&&(u-=t),e.min=w1(e.min,t,n,u,s),e.max=w1(e.max,t,n,u,s)}function S1(e,t,[n,r,s],i,a){D6(e,t[n],t[r],t[s],t.scale,i,a)}const O6=["x","scaleX","originX"],z6=["y","scaleY","originY"];function k1(e,t,n,r){S1(e.x,t,O6,n?n.x:void 0,r?r.x:void 0),S1(e.y,t,z6,n?n.y:void 0,r?r.y:void 0)}function j1(e){return e.translate===0&&e.scale===1}function zk(e){return j1(e.x)&&j1(e.y)}function C1(e,t){return e.min===t.min&&e.max===t.max}function L6(e,t){return C1(e.x,t.x)&&C1(e.y,t.y)}function _1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lk(e,t){return _1(e.x,t.x)&&_1(e.y,t.y)}function E1(e){return fn(e.x)/fn(e.y)}function T1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Kn(e){return[e("x"),e("y")]}function $6(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:h,rotateY:g,skewX:x,skewY:v}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),h&&(r+=`rotateX(${h}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),v&&(r+=`skewY(${v}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const $k=["TopLeft","TopRight","BottomLeft","BottomRight"],B6=$k.length,N1=e=>typeof e=="string"?parseFloat(e):e,R1=e=>typeof e=="number"||Ce.test(e);function V6(e,t,n,r,s,i){s?(e.opacity=ft(0,n.opacity??1,W6(r)),e.opacityExit=ft(t.opacity??1,0,U6(r))):i&&(e.opacity=ft(t.opacity??1,n.opacity??1,r));for(let a=0;a<B6;a++){const u=`border${$k[a]}Radius`;let d=P1(t,u),f=P1(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||R1(d)===R1(f)?(e[u]=Math.max(ft(N1(d),N1(f),r),0),($r.test(f)||$r.test(d))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=ft(t.rotate||0,n.rotate||0,r))}function P1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const W6=Bk(0,.5,FS),U6=Bk(.5,.95,Jn);function Bk(e,t,n){return r=>r<e?0:r>t?1:n(Xl(e,t,r))}function H6(e,t,n){const r=sn(e)?e:ha(e);return r.start($0("",r,t,n)),r.animation}function Zl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const G6=(e,t)=>e.depth-t.depth;class q6{constructor(){this.children=[],this.isDirty=!1}add(t){k0(this.children,t),this.isDirty=!0}remove(t){j0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(G6),this.isDirty=!1,this.children.forEach(t)}}function K6(e,t){const n=dn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(so(r),e(i-t))};return Ze.setup(r,!0),()=>so(r)}function Ld(e){return sn(e)?e.get():e}class X6{constructor(){this.members=[]}add(t){k0(this.members,t),t.scheduleRender()}remove(t){if(j0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const s=r.options.layoutDependency,i=t.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:u}=t.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $d={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xm=["","X","Y","Z"],Y6=1e3;let J6=0;function vm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Vk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lk(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Vk(r)}function Wk({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},u=t==null?void 0:t()){this.id=J6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eI),this.nodes.forEach(sI),this.nodes.forEach(oI),this.nodes.forEach(tI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new q6)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new E0),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const d=this.eventHandlers.get(a);d&&d.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=vk(a)&&!ZP(a),this.instance=a;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),e){let m,h=0;const g=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{h=window.innerWidth}),e(a,()=>{const x=window.innerWidth;x!==h&&(h=x,this.root.updateBlockedByResize=!0,m&&m(),m=K6(g,250),$d.hasAnimatedSinceResize&&($d.hasAnimatedSinceResize=!1,this.nodes.forEach(M1)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||uI,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=f.getProps(),_=!this.targetLayout||!Lk(this.targetLayout,x),E=!h&&g;if(this.options.layoutRoot||this.resumeFrom||E||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...L0(v,"layout"),onPlay:b,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(m,E)}else h||M1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iI),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rI),this.nodes.forEach(Q6),this.nodes.forEach(Z6)):this.nodes.forEach(A1),this.clearAllSnapshots();const u=dn.now();Xt.delta=Wr(0,1e3/60,u-Xt.timestamp),Xt.timestamp=u,Xt.isProcessing=!0,um.update.process(Xt),um.preRender.process(Xt),um.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,U0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nI),this.sharedNodes.forEach(aI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!zk(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&this.instance&&(u||$o(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return a&&(d=this.removeTransform(d)),dI(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Ft();const u=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(fI))){const{scroll:m}=this.root;m&&(na(u.x,m.offset.x),na(u.y,m.offset.y))}return u}removeElementScroll(a){var d;const u=Ft();if(lr(u,a),(d=this.scroll)!=null&&d.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:h,options:g}=m;m!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&lr(u,a),na(u.x,h.offset.x),na(u.y,h.offset.y))}return u}applyTransform(a,u=!1){const d=Ft();lr(d,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ra(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),$o(m.latestValues)&&ra(d,m.latestValues)}return $o(this.latestValues)&&ra(d,this.latestValues),d}removeTransform(a){const u=Ft();lr(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!$o(f.latestValues))continue;Tg(f.latestValues)&&f.updateSnapshot();const m=Ft(),h=f.measurePageBox();lr(m,h),k1(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return $o(this.latestValues)&&k1(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!this.layout||!(m||h))return;this.resolvedRelativeTargetAt=Xt.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),_k(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Tg(this.parent.latestValues)||Ck(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,u,d){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),sf(this.relativeTargetOrigin,u,d),lr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;lr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;u6(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ft());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(y1(this.prevProjectionDelta.x,this.projectionDelta.x),y1(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!T1(this.projectionDelta.x,this.prevProjectionDelta.x)||!T1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ta(),this.projectionDelta=ta(),this.projectionDeltaWithTransform=ta()}setAnimationOrigin(a,u=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},h=ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=Ft(),x=d?d.source:void 0,v=this.layout?this.layout.source:void 0,b=x!==v,S=this.getStack(),_=!S||S.members.length<=1,E=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(cI));this.animationProgress=0;let w;this.mixTargetDelta=T=>{const P=T/1e3;F1(h.x,a.x,P),F1(h.y,a.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sf(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lI(this.relativeTarget,this.relativeTargetOrigin,g,P),w&&L6(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ft()),lr(w,this.relativeTarget)),b&&(this.animationValues=m,V6(m,f,this.latestValues,P,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,d,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{$d.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ha(0)),this.currentAnimation=H6(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:m}=a;if(!(!u||!d||!f)){if(this!==a&&this.layout&&f&&Uk(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ft();const h=fn(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+h;const g=fn(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+g}lr(u,d),ra(u,m),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new X6),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&vm("z",a,f,this.animationValues);for(let m=0;m<xm.length;m++)vm(`rotate${xm[m]}`,a,f,this.animationValues),vm(`skew${xm[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}applyProjectionStyles(a,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Ld(u==null?void 0:u.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Ld(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let h=$6(this.projectionDeltaWithTransform,this.treeScale,m);d&&(h=d(m,h)),a.transform=h;const{x:g,y:x}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,f.animationValues?a.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:a.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Rg){if(m[v]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:_}=Rg[v],E=h==="none"?m[v]:b(m[v],f);if(S){const w=S.length;for(let T=0;T<w;T++)a[S[T]]=E}else _?this.options.visualElement.renderState.vars[v]=E:a[v]=E}this.options.layoutId&&(a.pointerEvents=f===this?Ld(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(I1),this.root.sharedNodes.clear()}}}function Q6(e){e.updateLayout()}function Z6(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Kn(h=>{const g=a?t.measuredBox[h]:t.layoutBox[h],x=fn(g);g.min=r[h].min,g.max=g.min+x}):Uk(i,t.layoutBox,r)&&Kn(h=>{const g=a?t.measuredBox[h]:t.layoutBox[h],x=fn(r[h]);g.max=g.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+x)});const u=ta();Wl(u,r,t.layoutBox);const d=ta();a?Wl(d,e.applyTransform(s,!0),t.measuredBox):Wl(d,r,t.layoutBox);const f=!zk(u);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:x}=h;if(g&&x){const v=Ft();sf(v,t.layoutBox,g.layoutBox);const b=Ft();sf(b,r,x.layoutBox),Lk(v,b)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function eI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nI(e){e.clearSnapshot()}function I1(e){e.clearMeasurements()}function A1(e){e.isLayoutDirty=!1}function rI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function M1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sI(e){e.resolveTargetDelta()}function oI(e){e.calcProjection()}function iI(e){e.resetSkewAndRotation()}function aI(e){e.removeLeadSnapshot()}function F1(e,t,n){e.translate=ft(t.translate,0,n),e.scale=ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function D1(e,t,n,r){e.min=ft(t.min,n.min,r),e.max=ft(t.max,n.max,r)}function lI(e,t,n,r){D1(e.x,t.x,n.x,r),D1(e.y,t.y,n.y,r)}function cI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uI={duration:.45,ease:[.4,0,.1,1]},O1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),z1=O1("applewebkit/")&&!O1("chrome/")?Math.round:Jn;function L1(e){e.min=z1(e.min),e.max=z1(e.max)}function dI(e){L1(e.x),L1(e.y)}function Uk(e,t,n){return e==="position"||e==="preserve-aspect"&&!M6(E1(t),E1(n),.2)}function fI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hI=Wk({attachResizeListener:(e,t)=>Zl(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),bm={current:void 0},Hk=Wk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bm.current){const e=new hI({});e.mount(window),e.setOptions({layoutScroll:!0}),bm.current=e}return bm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Y0=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pI(...e){return t=>{let n=!1;const r=e.map(s=>{const i=$1(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$1(e[s],null)}}}}function mI(...e){return k.useCallback(pI(...e),e)}class gI extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=_g(r)&&r.offsetWidth||0,i=_g(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left,a.bottom=i-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function yI({children:e,isPresent:t,anchorX:n,anchorY:r,root:s}){var h;const i=k.useId(),a=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=k.useContext(Y0),f=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),m=mI(a,f);return k.useInsertionEffect(()=>{const{width:g,height:x,top:v,left:b,right:S,bottom:_}=u.current;if(t||!a.current||!g||!x)return;const E=n==="left"?`left: ${b}`:`right: ${S}`,w=r==="bottom"?`bottom: ${_}`:`top: ${v}`;a.current.dataset.motionPopId=i;const T=document.createElement("style");d&&(T.nonce=d);const P=s??document.head;return P.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${x}px !important;
            ${E}px !important;
            ${w}px !important;
          }
        `),()=>{P.contains(T)&&P.removeChild(T)}},[t]),l.jsx(gI,{isPresent:t,childRef:a,sizeRef:u,children:k.cloneElement(e,{ref:m})})}const xI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:u,anchorY:d,root:f})=>{const m=S0(vI),h=k.useId();let g=!0,x=k.useMemo(()=>(g=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:v=>{m.set(v,!0);for(const b of m.values())if(!b)return;r&&r()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[n,m,r]);return i&&g&&(x={...x}),k.useMemo(()=>{m.forEach((v,b)=>m.set(b,!1))},[n]),k.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),a==="popLayout"&&(e=l.jsx(yI,{isPresent:n,anchorX:u,anchorY:d,root:f,children:e})),l.jsx(Pf.Provider,{value:x,children:e})};function vI(){return new Map}function Gk(e=!0){const t=k.useContext(Pf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=k.useId();k.useEffect(()=>{if(e)return s(i)},[e]);const a=k.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const td=e=>e.key||"";function B1(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const io=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:u="left",anchorY:d="top",root:f})=>{const[m,h]=Gk(a),g=k.useMemo(()=>B1(e),[e]),x=a&&!m?[]:g.map(td),v=k.useRef(!0),b=k.useRef(g),S=S0(()=>new Map),_=k.useRef(new Set),[E,w]=k.useState(g),[T,P]=k.useState(g);jS(()=>{v.current=!1,b.current=g;for(let I=0;I<T.length;I++){const A=td(T[I]);x.includes(A)?(S.delete(A),_.current.delete(A)):S.get(A)!==!0&&S.set(A,!1)}},[T,x.length,x.join("-")]);const C=[];if(g!==E){let I=[...g];for(let A=0;A<T.length;A++){const U=T[A],$=td(U);x.includes($)||(I.splice(A,0,U),C.push(U))}return i==="wait"&&C.length&&(I=C),P(B1(I)),w(g),null}const{forceRender:R}=k.useContext(w0);return l.jsx(l.Fragment,{children:T.map(I=>{const A=td(I),U=a&&!m?!1:g===T||x.includes(A),$=()=>{if(_.current.has(A))return;if(_.current.add(A),S.has(A))S.set(A,!0);else return;let H=!0;S.forEach(Y=>{Y||(H=!1)}),H&&(R==null||R(),P(b.current),a&&(h==null||h()),r&&r())};return l.jsx(xI,{isPresent:U,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:f,onExitComplete:U?void 0:$,anchorX:u,anchorY:d,children:I},A)})})},qk=k.createContext({strict:!1}),V1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let W1=!1;function bI(){if(W1)return;const e={};for(const t in V1)e[t]={isEnabled:n=>V1[t].some(r=>!!n[r])};Sk(e),W1=!0}function Kk(){return bI(),i6()}function wI(e){const t=Kk();for(const n in e)t[n]={...t[n],...e[n]};Sk(t)}const SI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function of(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SI.has(e)}let Xk=e=>!of(e);function kI(e){typeof e=="function"&&(Xk=t=>t.startsWith("on")?!of(t):e(t))}try{kI(require("@emotion/is-prop-valid").default)}catch{}function jI(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Xk(s)||n===!0&&of(s)||!t&&!of(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Mf=k.createContext({});function CI(e,t){if(Af(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ql(n)?n:void 0,animate:Ql(r)?r:void 0}}return e.inherit!==!1?t:{}}function _I(e){const{initial:t,animate:n}=CI(e,k.useContext(Mf));return k.useMemo(()=>({initial:t,animate:n}),[U1(t),U1(n)])}function U1(e){return Array.isArray(e)?e.join(" "):e}const J0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yk(e,t,n){for(const r in t)!sn(t[r])&&!Nk(r,n)&&(e[r]=t[r])}function EI({transformTemplate:e},t){return k.useMemo(()=>{const n=J0();return K0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function TI(e,t){const n=e.style||{},r={};return Yk(r,n,e),Object.assign(r,EI(e,t)),r}function NI(e,t){const n={},r=TI(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Jk=()=>({...J0(),attrs:{}});function RI(e,t,n,r){const s=k.useMemo(()=>{const i=Jk();return Rk(i,t,Ik(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Yk(i,e.style,e),s.style={...i,...s.style}}return s}const PI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Q0(e){return typeof e!="string"||e.includes("-")?!1:!!(PI.indexOf(e)>-1||/[A-Z]/u.test(e))}function II(e,t,n,{latestValues:r},s,i=!1,a){const d=(a??Q0(e)?RI:NI)(t,r,s,e),f=jI(t,typeof e=="string",i),m=e!==k.Fragment?{...f,...d,ref:n}:{},{children:h}=t,g=k.useMemo(()=>sn(h)?h.get():h,[h]);return k.createElement(e,{...m,children:g})}function AI({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:MI(n,r,s,e),renderState:t()}}function MI(e,t,n,r){const s={},i=r(e,{});for(const g in i)s[g]=Ld(i[g]);let{initial:a,animate:u}=e;const d=Af(e),f=wk(e);t&&f&&!d&&e.inherit!==!1&&(a===void 0&&(a=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const h=m?u:a;if(h&&typeof h!="boolean"&&!If(h)){const g=Array.isArray(h)?h:[h];for(let x=0;x<g.length;x++){const v=B0(e,g[x]);if(v){const{transitionEnd:b,transition:S,..._}=v;for(const E in _){let w=_[E];if(Array.isArray(w)){const T=m?w.length-1:0;w=w[T]}w!==null&&(s[E]=w)}for(const E in b)s[E]=b[E]}}}return s}const Qk=e=>(t,n)=>{const r=k.useContext(Mf),s=k.useContext(Pf),i=()=>AI(e,t,r,s);return n?i():S0(i)},FI=Qk({scrapeMotionValuesFromProps:X0,createRenderState:J0}),DI=Qk({scrapeMotionValuesFromProps:Ak,createRenderState:Jk}),OI=Symbol.for("motionComponentSymbol");function zI(e,t,n){const r=k.useRef(n);k.useInsertionEffect(()=>{r.current=n});const s=k.useRef(null);return k.useCallback(i=>{var u;i&&((u=e.onMount)==null||u.call(e,i)),t&&(i?t.mount(i):t.unmount());const a=r.current;if(typeof a=="function")if(i){const d=a(i);typeof d=="function"&&(s.current=d)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[t])}const Zk=k.createContext({});function Dl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function LI(e,t,n,r,s,i){var w,T;const{visualElement:a}=k.useContext(Mf),u=k.useContext(qk),d=k.useContext(Pf),f=k.useContext(Y0),m=f.reducedMotion,h=f.skipAnimations,g=k.useRef(null),x=k.useRef(!1);r=r||u.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:h,isSVG:i}),x.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const v=g.current,b=k.useContext(Zk);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&$I(g.current,n,s,b);const S=k.useRef(!1);k.useInsertionEffect(()=>{v&&S.current&&v.update(n,d)});const _=n[ak],E=k.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,_)));return jS(()=>{x.current=!0,v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),E.current&&v.animationState&&v.animationState.animateChanges())}),k.useEffect(()=>{v&&(!E.current&&v.animationState&&v.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,_)}),E.current=!1),v.enteringChildren=void 0)}),v}function $I(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ej(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||u&&Dl(u),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function ej(e){if(e)return e.options.allowProjection!==!1?e.projection:ej(e.parent)}function wm(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&wI(r);const i=n?n==="svg":Q0(e),a=i?DI:FI;function u(f,m){let h;const g={...k.useContext(Y0),...f,layoutId:BI(f)},{isStatic:x}=g,v=_I(f),b=a(f,x);if(!x&&kS){VI();const S=WI(g);h=S.MeasureLayout,v.visualElement=LI(e,b,g,s,S.ProjectionNode,i)}return l.jsxs(Mf.Provider,{value:v,children:[h&&v.visualElement?l.jsx(h,{visualElement:v.visualElement,...g}):null,II(e,f,zI(b,v.visualElement,m),b,x,t,i)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=k.forwardRef(u);return d[OI]=e,d}function BI({layoutId:e}){const t=k.useContext(w0).id;return t&&e!==void 0?t+"-"+e:e}function VI(e,t){k.useContext(qk).strict}function WI(e){const t=Kk(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function UI(e,t){if(typeof Proxy>"u")return wm;const n=new Map,r=(i,a)=>wm(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,wm(a,void 0,e,t)),n.get(a))})}const HI=(e,t)=>t.isSVG??Q0(e)?new k6(t):new y6(t,{allowProjection:e!==k.Fragment});class GI extends fo{constructor(t){super(t),t.animationState||(t.animationState=T6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();If(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let qI=0;class KI extends fo{constructor(){super(...arguments),this.id=qI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XI={animation:{Feature:GI},exit:{Feature:KI}};function _c(e){return{point:{x:e.pageX,y:e.pageY}}}const YI=e=>t=>H0(t)&&e(t,_c(t));function Ul(e,t,n,r){return Zl(e,t,YI(n),r)}const tj=({current:e})=>e?e.ownerDocument.defaultView:null,H1=(e,t)=>Math.abs(e-t);function JI(e,t){const n=H1(e.x,t.x),r=H1(e.y,t.y);return Math.sqrt(n**2+r**2)}const G1=new Set(["auto","scroll"]);class nj{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=km(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=JI(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:S}=x,{timestamp:_}=Xt;this.history.push({...S,timestamp:_});const{onStart:E,onMove:w}=this.handlers;v||(E&&E(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Sm(v,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=km(x.type==="pointercancel"?this.lastMoveEventInfo:Sm(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(x,E),S&&S(x,E)},!H0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const d=_c(t),f=Sm(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=Xt;this.history=[{...m,timestamp:h}];const{onSessionStart:g}=n;g&&g(t,km(f,this.history)),this.removeListeners=kc(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(G1.has(r.overflowX)||G1.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Ze.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),so(this.updatePoint)}}function Sm(e,t){return t?{point:t(e.point)}:e}function q1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function km({point:e},t){return{point:e,delta:q1(e,rj(t)),offset:q1(e,QI(t)),velocity:ZI(t,.1)}}function QI(e){return e[0]}function rj(e){return e[e.length-1]}function ZI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=rj(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>fs(t)));)n--;if(!r)return{x:0,y:0};const i=Xn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function eA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ft(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ft(n,e,r.max):Math.min(e,n)),e}function K1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function tA(e,{top:t,left:n,bottom:r,right:s}){return{x:K1(e.x,n,s),y:K1(e.y,t,r)}}function X1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function nA(e,t){return{x:X1(e.x,t.x),y:X1(e.y,t.y)}}function rA(e,t){let n=.5;const r=fn(e),s=fn(t);return s>r?n=Xl(t.min,t.max-r,e.min):r>s&&(n=Xl(e.min,e.max-s,t.min)),Wr(0,1,n)}function sA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pg=.35;function oA(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:Y1(e,"left","right"),y:Y1(e,"top","bottom")}}function Y1(e,t,n){return{min:J1(e,t),max:J1(e,n)}}function J1(e,t){return typeof e=="number"?e:e[t]||0}const iA=new WeakMap;class aA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(_c(h).point)):this.pauseAnimation()},a=(h,g)=>{this.stopAnimation();const{drag:x,dragPropagation:v,onDragStart:b}=this.getProps();if(x&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HP(x),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(_=>{let E=this.getAxisMotionValue(_).get()||0;if($r.test(E)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[_];T&&(E=fn(T)*(parseFloat(E)/100))}}this.originPoint[_]=E}),b&&Ze.update(()=>b(h,g),!1,!0),kg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:v,onDirectionLock:b,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:_}=g;if(v&&this.currentDirection===null){this.currentDirection=lA(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),S&&Ze.update(()=>S(h,g),!1,!0)},d=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Kn(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nj(t,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:tj(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Ze.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!nd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=eA(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Dl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=tA(r.layoutBox,t):this.constraints=!1,this.elastic=oA(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=sA(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Dl(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=d6(r,s.root,this.visualElement.getTransformPagePoint());let a=nA(s.layout.layoutBox,i);if(n){const u=n(l6(a));this.hasMutatedConstraints=!!u,u&&(a=jk(u))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Kn(m=>{if(!nd(m,n,this.currentDirection))return;let h=d&&d[m]||{};a&&(h={min:0,max:0});const g=s?200:1e6,x=s?40:1e7,v={type:"inertia",velocity:r?t[m]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(m,v)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return kg(this.visualElement,t),r.start($0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(n=>{const{drag:r}=this.getProps();if(!nd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n],d=i.get()||0;i.set(t[n]-ft(a,u,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kn(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const d=u.get();s[a]=rA({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(a=>{if(!nd(a,t,null))return;const u=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];u.set(ft(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;iA.set(this.visualElement,this);const t=this.visualElement.current,n=Ul(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),h=d.target,g=h!==t&&YP(h);f&&m&&!g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Dl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ze.read(r);const a=Zl(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Kn(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=d[m].translate,h.set(h.get()+d[m].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Pg,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:u}}}function nd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function lA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cA extends fo{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new aA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const jm=e=>(t,n)=>{e&&Ze.update(()=>e(t,n),!1,!0)};class uA extends fo{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new nj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jm(t),onStart:jm(n),onMove:jm(r),onEnd:(i,a)=>{delete this.session,s&&Ze.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Cm=!1;class dA extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Cm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),$d.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),Cm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ze.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),U0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Cm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sj(e){const[t,n]=Gk(),r=k.useContext(w0);return l.jsx(dA,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(Zk),isPresent:t,safeToRemove:n})}const fA={pan:{Feature:uA},drag:{Feature:cA,ProjectionNode:Hk,MeasureLayout:sj}};function Q1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ze.postRender(()=>i(t,_c(t)))}class hA extends fo{mount(){const{current:t}=this.node;t&&(this.unmount=GP(t,(n,r)=>(Q1(this.node,r,"Start"),s=>Q1(this.node,s,"End"))))}unmount(){}}class pA extends fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kc(Zl(this.node.current,"focus",()=>this.onFocus()),Zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Z1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ze.postRender(()=>i(t,_c(t)))}class mA extends fo{mount(){const{current:t}=this.node;t&&(this.unmount=QP(t,(n,r)=>(Z1(this.node,r,"Start"),(s,{success:i})=>Z1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ig=new WeakMap,_m=new WeakMap,gA=e=>{const t=Ig.get(e.target);t&&t(e)},yA=e=>{e.forEach(gA)};function xA({root:e,...t}){const n=e||document;_m.has(n)||_m.set(n,{});const r=_m.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(yA,{root:e,...t})),r[s]}function vA(e,t,n){const r=xA(t);return Ig.set(e,n),r.observe(e),()=>{Ig.delete(e),r.unobserve(e)}}const bA={some:0,all:1};class wA extends fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bA[s]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),g=f?m:h;g&&g(d)};return vA(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(SA(t,n))&&this.startObserver()}unmount(){}}function SA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kA={inView:{Feature:wA},tap:{Feature:mA},focus:{Feature:pA},hover:{Feature:hA}},jA={layout:{ProjectionNode:Hk,MeasureLayout:sj}},CA={...XI,...kA,...fA,...jA},ae=UI(CA,HI),_A={some:0,all:1};function EA(e,t,{root:n,margin:r,amount:s="some"}={}){const i=pk(e),a=new WeakMap,u=f=>{f.forEach(m=>{const h=a.get(m.target);if(m.isIntersecting!==!!h)if(m.isIntersecting){const g=t(m.target,m);typeof g=="function"?a.set(m.target,g):d.unobserve(m.target)}else typeof h=="function"&&(h(m),a.delete(m.target))})},d=new IntersectionObserver(u,{root:n,rootMargin:r,threshold:typeof s=="number"?s:_A[s]});return i.forEach(f=>d.observe(f)),()=>d.disconnect()}function ec(e,{root:t,margin:n,amount:r,once:s=!1,initial:i=!1}={}){const[a,u]=k.useState(i);return k.useEffect(()=>{if(!e.current||s&&a)return;const d=()=>(u(!0),s?void 0:()=>u(!1)),f={root:t&&t.current||void 0,margin:n,amount:r};return EA(e.current,d,f)},[t,e,n,s,r]),a}/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ew="popstate";function TA(e={}){function t(r,s){let{pathname:i,search:a,hash:u}=r.location;return Ag("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tc(s)}return RA(t,n,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NA(){return Math.random().toString(36).substring(2,10)}function tw(e,t){return{usr:e.state,key:e.key,idx:t}}function Ag(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ea(t):t,state:n,key:t&&t.key||r||NA()}}function tc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ea(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function RA(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u="POP",d=null,f=m();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function m(){return(a.state||{idx:null}).idx}function h(){u="POP";let S=m(),_=S==null?null:S-f;f=S,d&&d({action:u,location:b.location,delta:_})}function g(S,_){u="PUSH";let E=Ag(b.location,S,_);f=m()+1;let w=tw(E,f),T=b.createHref(E);try{a.pushState(w,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(T)}i&&d&&d({action:u,location:b.location,delta:1})}function x(S,_){u="REPLACE";let E=Ag(b.location,S,_);f=m();let w=tw(E,f),T=b.createHref(E);a.replaceState(w,"",T),i&&d&&d({action:u,location:b.location,delta:0})}function v(S){return PA(S)}let b={get action(){return u},get location(){return e(s,a)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(ew,h),d=S,()=>{s.removeEventListener(ew,h),d=null}},createHref(S){return t(s,S)},createURL:v,encodeLocation(S){let _=v(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(S){return a.go(S)}};return b}function PA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:tc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function oj(e,t,n="/"){return IA(e,t,n,!1)}function IA(e,t,n,r){let s=typeof t=="string"?Ea(t):t,i=gs(s.pathname||"/",n);if(i==null)return null;let a=ij(e);AA(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let f=UA(i);u=VA(a[d],f,r)}return u}function ij(e,t=[],n=[],r="",s=!1){let i=(a,u,d=s,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;st(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let h=hs([r,m.relativePath]),g=n.concat(m);a.children&&a.children.length>0&&(st(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ij(a.children,t,g,h,d)),!(a.path==null&&!a.index)&&t.push({path:h,score:$A(h,a.index),routesMeta:g})};return e.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let f of aj(a.path))i(a,u,!0,f)}),t}function aj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=aj(r.join("/")),u=[];return u.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...a),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function AA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MA=/^:[\w-]+$/,FA=3,DA=2,OA=1,zA=10,LA=-2,nw=e=>e==="*";function $A(e,t){let n=e.split("/"),r=n.length;return n.some(nw)&&(r+=LA),t&&(r+=DA),n.filter(s=>!nw(s)).reduce((s,i)=>s+(MA.test(i)?FA:i===""?OA:zA),r)}function BA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function VA(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",a=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",h=af({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),g=d.route;if(!h&&f&&n&&!r[r.length-1].route.index&&(h=af({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:hs([i,h.pathname]),pathnameBase:KA(hs([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=hs([i,h.pathnameBase]))}return a}function af(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WA(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:h},g)=>{if(m==="*"){let v=u[g]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=u[g];return h&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:e}}function WA(e,t=!1,n=!0){vr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function UA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var HA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function GA(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ea(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=rw(n.substring(1),"/"):i=rw(n,t)):i=t,{pathname:i,search:XA(r),hash:YA(s)}}function rw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Em(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Z0(e){let t=qA(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ey(e,t,n,r=!1){let s;typeof e=="string"?s=Ea(e):(s={...e},st(!s.pathname||!s.pathname.includes("?"),Em("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),Em("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),Em("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}u=h>=0?t[h]:"/"}let d=GA(s,u),f=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var hs=e=>e.join("/").replace(/\/\/+/g,"/"),KA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,JA=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function QA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ZA(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cj(e,t){let n=e;if(typeof n!="string"||!HA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(lj)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),u=gs(a.pathname,t);a.origin===i.origin&&u!=null?n=u+a.search+a.hash:s=!0}catch{vr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uj=["POST","PUT","PATCH","DELETE"];new Set(uj);var eM=["GET",...uj];new Set(eM);var Ta=k.createContext(null);Ta.displayName="DataRouter";var Ff=k.createContext(null);Ff.displayName="DataRouterState";var tM=k.createContext(!1),dj=k.createContext({isTransitioning:!1});dj.displayName="ViewTransition";var nM=k.createContext(new Map);nM.displayName="Fetchers";var rM=k.createContext(null);rM.displayName="Await";var zn=k.createContext(null);zn.displayName="Navigation";var Ec=k.createContext(null);Ec.displayName="Location";var Sr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var ty=k.createContext(null);ty.displayName="RouteError";var fj="REACT_ROUTER_ERROR",sM="REDIRECT",oM="ROUTE_ERROR_RESPONSE";function iM(e){if(e.startsWith(`${fj}:${sM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function aM(e){if(e.startsWith(`${fj}:${oM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new JA(t.status,t.statusText,t.data)}catch{}}function lM(e,{relative:t}={}){st(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(zn),{hash:s,pathname:i,search:a}=Tc(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:hs([n,i])),r.createHref({pathname:u,search:a,hash:s})}function Na(){return k.useContext(Ec)!=null}function qr(){return st(Na(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ec).location}var hj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pj(e){k.useContext(zn).static||k.useLayoutEffect(e)}function Ot(){let{isDataRoute:e}=k.useContext(Sr);return e?wM():cM()}function cM(){st(Na(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Ta),{basename:t,navigator:n}=k.useContext(zn),{matches:r}=k.useContext(Sr),{pathname:s}=qr(),i=JSON.stringify(Z0(r)),a=k.useRef(!1);return pj(()=>{a.current=!0}),k.useCallback((d,f={})=>{if(vr(a.current,hj),!a.current)return;if(typeof d=="number"){n.go(d);return}let m=ey(d,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:hs([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,i,s,e])}k.createContext(null);function mj(){let{matches:e}=k.useContext(Sr),t=e[e.length-1];return t?t.params:{}}function Tc(e,{relative:t}={}){let{matches:n}=k.useContext(Sr),{pathname:r}=qr(),s=JSON.stringify(Z0(n));return k.useMemo(()=>ey(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function uM(e,t){return gj(e,t)}function gj(e,t,n,r,s){var E;st(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(zn),{matches:a}=k.useContext(Sr),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",h=u&&u.route;{let w=h&&h.path||"";xj(f,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=qr(),x;if(t){let w=typeof t=="string"?Ea(t):t;st(m==="/"||((E=w.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${w.pathname}" was given in the \`location\` prop.`),x=w}else x=g;let v=x.pathname||"/",b=v;if(m!=="/"){let w=m.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=oj(e,{pathname:b});vr(h||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),vr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=mM(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:hs([m,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:hs([m,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,r,s);return t&&_?k.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function dM(){let e=bM(),t=QA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,a)}var fM=k.createElement(dM,null),yj=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=aM(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(Sr.Provider,{value:this.props.routeContext},k.createElement(ty.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(hM,{error:e},t):t}};yj.contextType=tM;var Tm=new WeakMap;function hM({children:e,error:t}){let{basename:n}=k.useContext(zn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=iM(t.digest);if(r){let s=Tm.get(t);if(s)throw s;let i=cj(r.location,n);if(lj&&!Tm.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Tm.set(t,a),a}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function pM({routeContext:e,match:t,children:n}){let r=k.useContext(Ta);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Sr.Provider,{value:e},n)}function mM(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let m=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);st(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:g,errors:x}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||v){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let f=n&&r?(m,h)=>{var g,x;r(m,{location:n.location,params:((x=(g=n.matches)==null?void 0:g[0])==null?void 0:x.params)??{},unstable_pattern:ZA(n.matches),errorInfo:h})}:void 0;return i.reduceRight((m,h,g)=>{let x,v=!1,b=null,S=null;n&&(x=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||fM,u&&(d<0&&g===0?(xj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):d===g&&(v=!0,S=h.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,g+1)),E=()=>{let w;return x?w=b:v?w=S:h.route.Component?w=k.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=m,k.createElement(pM,{match:h,routeContext:{outlet:m,matches:_,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?k.createElement(yj,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:f}):E()},null)}function ny(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gM(e){let t=k.useContext(Ta);return st(t,ny(e)),t}function yM(e){let t=k.useContext(Ff);return st(t,ny(e)),t}function xM(e){let t=k.useContext(Sr);return st(t,ny(e)),t}function ry(e){let t=xM(e),n=t.matches[t.matches.length-1];return st(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function vM(){return ry("useRouteId")}function bM(){var r;let e=k.useContext(ty),t=yM("useRouteError"),n=ry("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function wM(){let{router:e}=gM("useNavigate"),t=ry("useNavigate"),n=k.useRef(!1);return pj(()=>{n.current=!0}),k.useCallback(async(s,i={})=>{vr(n.current,hj),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var sw={};function xj(e,t,n){!t&&!sw[e]&&(sw[e]=!0,vr(!1,n))}k.memo(SM);function SM({routes:e,future:t,state:n,onError:r}){return gj(e,void 0,n,r,t)}function vj({to:e,replace:t,state:n,relative:r}){st(Na(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(zn);vr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Sr),{pathname:a}=qr(),u=Ot(),d=ey(e,Z0(i),a,r==="path"),f=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function bt(e){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kM({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){st(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:u,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[u,s,i,a]);typeof n=="string"&&(n=Ea(n));let{pathname:f="/",search:m="",hash:h="",state:g=null,key:x="default"}=n,v=k.useMemo(()=>{let b=gs(f,u);return b==null?null:{location:{pathname:b,search:m,hash:h,state:g,key:x},navigationType:r}},[u,f,m,h,g,x,r]);return vr(v!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(zn.Provider,{value:d},k.createElement(Ec.Provider,{children:t,value:v}))}function bj({children:e,location:t}){return uM(Mg(e),t)}function Mg(e,t=[]){let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let i=[...t,s];if(r.type===k.Fragment){n.push.apply(n,Mg(r.props.children,i));return}st(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mg(r.props.children,i)),n.push(a)}),n}var Bd="get",Vd="application/x-www-form-urlencoded";function Df(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function jM(e){return Df(e)&&e.tagName.toLowerCase()==="button"}function CM(e){return Df(e)&&e.tagName.toLowerCase()==="form"}function _M(e){return Df(e)&&e.tagName.toLowerCase()==="input"}function EM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TM(e,t){return e.button===0&&(!t||t==="_self")&&!EM(e)}var rd=null;function NM(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var RM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(e){return e!=null&&!RM.has(e)?(vr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vd}"`),null):e}function PM(e,t){let n,r,s,i,a;if(CM(e)){let u=e.getAttribute("action");r=u?gs(u,t):null,n=e.getAttribute("method")||Bd,s=Nm(e.getAttribute("enctype"))||Vd,i=new FormData(e)}else if(jM(e)||_M(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?gs(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Bd,s=Nm(e.getAttribute("formenctype"))||Nm(u.getAttribute("enctype"))||Vd,i=new FormData(u,e),!NM()){let{name:f,type:m,value:h}=e;if(m==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,h)}}else{if(Df(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bd,r=null,s=Vd,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IM(e,t,n,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:t&&gs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function AM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FM(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await AM(i,n);return a.links?a.links():[]}return[]}));return LM(r.flat(1).filter(MM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ow(e,t,n,r,s,i){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var m;return n[f].pathname!==d.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,f)=>a(d,f)||u(d,f)):i==="data"?t.filter((d,f)=>{var h;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(a(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function DM(e,t,{includeHydrateFallback:n}={}){return OM(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function OM(e){return[...new Set(e)]}function zM(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function LM(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(zM(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function wj(){let e=k.useContext(Ta);return sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $M(){let e=k.useContext(Ff);return sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oy=k.createContext(void 0);oy.displayName="FrameworkContext";function Sj(){let e=k.useContext(oy);return sy(e,"You must render this element inside a <HydratedRouter> element"),e}function BM(e,t){let n=k.useContext(oy),[r,s]=k.useState(!1),[i,a]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:h}=t,g=k.useRef(null);k.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let b=_=>{_.forEach(E=>{a(E.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),k.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let x=()=>{s(!0)},v=()=>{s(!1),a(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:_l(u,x),onBlur:_l(d,v),onMouseEnter:_l(f,x),onMouseLeave:_l(m,v),onTouchStart:_l(h,x)}]:[!1,g,{}]}function _l(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function VM({page:e,...t}){let{router:n}=wj(),r=k.useMemo(()=>oj(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(UM,{page:e,matches:r,...t}):null}function WM(e){let{manifest:t,routeModules:n}=Sj(),[r,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return FM(e,t,n).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,n]),r}function UM({page:e,matches:t,...n}){let r=qr(),{future:s,manifest:i,routeModules:a}=Sj(),{basename:u}=wj(),{loaderData:d,matches:f}=$M(),m=k.useMemo(()=>ow(e,t,f,i,r,"data"),[e,t,f,i,r]),h=k.useMemo(()=>ow(e,t,f,i,r,"assets"),[e,t,f,i,r]),g=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(t.forEach(E=>{var T;let w=i.routes[E.route.id];!w||!w.hasLoader||(!m.some(P=>P.route.id===E.route.id)&&E.route.id in d&&((T=a[E.route.id])!=null&&T.shouldRevalidate)||w.hasClientLoader?S=!0:b.add(E.route.id))}),b.size===0)return[];let _=IM(e,u,s.unstable_trailingSlashAwareDataRequests,"data");return S&&b.size>0&&_.searchParams.set("_routes",t.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[u,s.unstable_trailingSlashAwareDataRequests,d,r,i,m,t,e,a]),x=k.useMemo(()=>DM(h,i),[h,i]),v=WM(h);return k.createElement(k.Fragment,null,g.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),x.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:S})=>k.createElement("link",{key:b,nonce:n.nonce,...S,crossOrigin:S.crossOrigin??n.crossOrigin})))}function HM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var GM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GM&&(window.__reactRouterVersion="7.13.0")}catch{}function qM({basename:e,children:t,unstable_useTransitions:n,window:r}){let s=k.useRef();s.current==null&&(s.current=TA({window:r,v5Compat:!0}));let i=s.current,[a,u]=k.useState({action:i.action,location:i.location}),d=k.useCallback(f=>{n===!1?u(f):k.startTransition(()=>u(f))},[n]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.createElement(kM,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var kj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jj=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:u,target:d,to:f,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:g,...x},v){let{basename:b,unstable_useTransitions:S}=k.useContext(zn),_=typeof f=="string"&&kj.test(f),E=cj(f,b);f=E.to;let w=lM(f,{relative:s}),[T,P,C]=BM(r,x),R=JM(f,{replace:a,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:S});function I(U){t&&t(U),U.defaultPrevented||R(U)}let A=k.createElement("a",{...x,...C,href:E.absoluteURL||w,onClick:E.isExternal||i?t:I,ref:HM(v,P),target:d,"data-discover":!_&&n==="render"?"true":void 0});return T&&!_?k.createElement(k.Fragment,null,A,k.createElement(VM,{page:w})):A});jj.displayName="Link";var KM=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:u,children:d,...f},m){let h=Tc(a,{relative:f.relative}),g=qr(),x=k.useContext(Ff),{navigator:v,basename:b}=k.useContext(zn),S=x!=null&&n3(h)&&u===!0,_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,E=g.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(E=E.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&b&&(w=gs(w,b)||w);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=E===_||!s&&E.startsWith(_)&&E.charAt(T)==="/",C=w!=null&&(w===_||!s&&w.startsWith(_)&&w.charAt(_.length)==="/"),R={isActive:P,isPending:C,isTransitioning:S},I=P?t:void 0,A;typeof r=="function"?A=r(R):A=[r,P?"active":null,C?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(R):i;return k.createElement(jj,{...f,"aria-current":I,className:A,ref:m,style:U,to:a,viewTransition:u},typeof d=="function"?d(R):d)});KM.displayName="NavLink";var XM=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Bd,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:g,...x},v)=>{let{unstable_useTransitions:b}=k.useContext(zn),S=e3(),_=t3(u,{relative:f}),E=a.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&kj.test(u),T=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let C=P.nativeEvent.submitter,R=(C==null?void 0:C.getAttribute("formmethod"))||a,I=()=>S(C||P.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:s,state:i,relative:f,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:g});b&&n!==!1?k.startTransition(()=>I()):I()};return k.createElement("form",{ref:v,method:E,action:_,onSubmit:r?d:T,...x,"data-discover":!w&&e==="render"?"true":void 0})});XM.displayName="Form";function YM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cj(e){let t=k.useContext(Ta);return st(t,YM(e)),t}function JM(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Ot(),m=qr(),h=Tc(e,{relative:i});return k.useCallback(g=>{if(TM(g,t)){g.preventDefault();let x=n!==void 0?n:tc(m)===tc(h),v=()=>f(e,{replace:x,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:u});d?k.startTransition(()=>v()):v()}},[m,f,h,n,r,t,e,s,i,a,u,d])}var QM=0,ZM=()=>`__${String(++QM)}__`;function e3(){let{router:e}=Cj("useSubmit"),{basename:t}=k.useContext(zn),n=vM(),r=e.fetch,s=e.navigate;return k.useCallback(async(i,a={})=>{let{action:u,method:d,encType:f,formData:m,body:h}=PM(i,t);if(a.navigate===!1){let g=a.fetcherKey||ZM();await r(g,n,a.action||u,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:m,body:h,formMethod:a.method||d,formEncType:a.encType||f,flushSync:a.flushSync})}else await s(a.action||u,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:m,body:h,formMethod:a.method||d,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,s,t,n])}function t3(e,{relative:t}={}){let{basename:n}=k.useContext(zn),r=k.useContext(Sr);st(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Tc(e||".",{relative:t})},a=qr();if(e==null){i.search=a.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(h=>h).forEach(h=>u.append("index",h));let m=u.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:hs([n,i.pathname])),tc(i)}function n3(e,{relative:t}={}){let n=k.useContext(dj);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cj("useViewTransitionState"),s=Tc(e,{relative:t});if(!n.isTransitioning)return!1;let i=gs(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=gs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return af(s.pathname,a)!=null||af(s.pathname,i)!=null}var Ra=SS();const _j=Rf(Ra);function r3(){const[e,t]=k.useState(!1),n=Ot();return k.useEffect(()=>{const r=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),l.jsx(ae.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${e?"bg-white/80 backdrop-blur-xl border-b border-black/5":"bg-transparent"}`,children:l.jsx("nav",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("a",{href:"/",className:"transition-opacity duration-300 hover:opacity-60",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,letterSpacing:"-0.01em",color:"#1a1a1a"},children:"balemoo.com"}),l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsx("div",{className:"hidden md:flex items-center gap-8",children:["About","Product","Solution"].map(r=>l.jsx("a",{href:`#${r.toLowerCase()}`,className:"transition-opacity duration-300 hover:opacity-50",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,letterSpacing:"-0.01em",color:"#2d2d2d"},children:r},r))}),l.jsx("button",{onClick:()=>n("/login"),className:"group relative px-6 py-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,letterSpacing:"-0.01em",color:"#1a1a1a"},onMouseEnter:r=>{r.currentTarget.style.backdropFilter="blur(20px)",r.currentTarget.style.WebkitBackdropFilter="blur(20px)",r.currentTarget.style.background="rgba(0, 0, 0, 0.06)"},onMouseLeave:r=>{r.currentTarget.style.backdropFilter="blur(10px)",r.currentTarget.style.WebkitBackdropFilter="blur(10px)",r.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:"Log In"})]})]})})})}const lf="/assets/balemoo-logo-37_HSVzk.png";function s3(){const e=Ot();return l.jsxs("section",{className:"min-h-screen w-full relative flex items-center justify-center px-6 py-32 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`
            radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
            radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
            radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
            linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
          `}}),l.jsxs("div",{className:"max-w-6xl mx-auto w-full",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(ae.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},className:"mb-6 flex justify-center",children:l.jsx("img",{src:lf,alt:"Balemoo",style:{height:"clamp(8rem, 15vw, 14rem)",width:"auto"}})}),l.jsx(ae.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.75,delay:.5,ease:[.25,.1,.25,1]},className:"mb-5",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1.5rem, 2.5vw, 2.25rem)",fontWeight:500,letterSpacing:"-0.02em",color:"#2d2d2d",lineHeight:1.3},children:"Smart Smiles for Your Event"}),l.jsx(ae.p,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.7,delay:.8,ease:[.25,.1,.25,1]},className:"max-w-2xl mx-auto",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1rem, 1.25vw, 1.125rem)",fontWeight:400,letterSpacing:"-0.01em",color:"#6b6b6b",lineHeight:1.6},children:"Technology-powered solutions that create seamless and welcoming event experiences."}),l.jsx(ae.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.7,delay:1,ease:[.25,.1,.25,1]},className:"mt-8",children:l.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full transition-all duration-700",style:{background:"rgba(0, 0, 0, 0.85)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,letterSpacing:"-0.01em",color:"#ffffff",border:"none",cursor:"pointer",transform:"scale(1)"},onMouseEnter:t=>{t.currentTarget.style.transform="scale(1.03)",t.currentTarget.style.boxShadow="0 12px 32px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="scale(1)",t.currentTarget.style.boxShadow="none"},children:"Get Started"})})]}),l.jsx(ae.div,{initial:{opacity:0,y:40,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.9,delay:1.1,ease:[.25,.1,.25,1]},className:"relative max-w-2xl mx-auto",children:l.jsx("img",{src:lf,alt:"Balemoo 3D Product Illustration",className:"w-full h-auto",style:{filter:"drop-shadow(0 20px 40px rgba(0, 0, 0, 0.08))"}})})]})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),iw=e=>{const t=i3(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ej=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...u},d)=>k.createElement("svg",{ref:d,...a3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ej("lucide",s),...u},[...a.map(([f,m])=>k.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(l3,{ref:i,iconNode:t,className:Ej(`lucide-${o3(iw(e))}`,`lucide-${e}`,r),...s}));return n.displayName=iw(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],aw=we("activity",c3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ci=we("arrow-left",u3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],iy=we("ban",d3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Tj=we("briefcase",f3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zo=we("calendar",h3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ay=we("chart-column",p3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nc=we("check",m3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pa=we("chevron-down",g3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ly=we("chevron-left",y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nj=we("chevron-right",x3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cy=we("chevron-up",v3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],w3=we("circle-alert",b3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Of=we("circle-check-big",S3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ao=we("circle-check",k3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rj=we("circle-help",j3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],_3=we("circle-user",C3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lo=we("circle-x",E3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Pj=we("clipboard-list",T3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ur=we("clock",N3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],P3=we("download",R3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uy=we("eye",I3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zf=we("file-text",A3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],Ij=we("flag",M3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],D3=we("gift",F3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],dy=we("git-branch",O3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],L3=we("grip-vertical",z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],B3=we("heart",$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],W3=we("hourglass",V3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],H3=we("layout-dashboard",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ct=we("loader-circle",G3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Aj=we("lock-open",q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gr=we("lock",K3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Mj=we("log-out",X3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],fy=we("mail",Y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Fj=we("message-circle",J3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ei=we("message-square",Q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],hy=we("pause",Z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],py=we("pen",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],n4=we("phone",t4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],nc=we("play",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fn=we("plus",s4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],pa=we("qr-code",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],a4=we("radio",i4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],c4=we("refresh-cw",l4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],my=we("rotate-ccw",u4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],f4=we("save",d4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ti=we("search",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Rc=we("send",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pc=we("settings",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lw=we("shield-check",g4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],x4=we("sliders-horizontal",y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],b4=we("sparkles",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gy=we("square-pen",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],k4=we("tag",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Dj=we("timer",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ln=we("trash-2",C4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Lf=we("trending-up",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cf=we("triangle-alert",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],N4=we("upload",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Oj=we("user-check",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],yy=we("user-cog",P4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],no=we("user",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Jt=we("users",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],$f=we("workflow",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hn=we("x",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fg=we("zap",D4);function O4(){const e=k.useRef(null),t=k.useRef(null),n=ec(e,{once:!0,margin:"-100px"}),r=ec(t,{once:!0,margin:"-100px"});return l.jsxs("div",{className:"relative w-full overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 -z-10",children:[l.jsx(ae.div,{className:"absolute inset-0",animate:{background:["radial-gradient(ellipse 100% 80% at 20% 30%, rgba(255, 200, 180, 0.2) 0%, transparent 50%), radial-gradient(ellipse 80% 60% at 80% 60%, rgba(200, 180, 255, 0.18) 0%, transparent 50%), radial-gradient(ellipse 70% 70% at 50% 80%, rgba(180, 220, 255, 0.15) 0%, transparent 50%), linear-gradient(to bottom, #fafafa 0%, #ffffff 100%)","radial-gradient(ellipse 100% 80% at 80% 40%, rgba(255, 200, 180, 0.2) 0%, transparent 50%), radial-gradient(ellipse 80% 60% at 20% 70%, rgba(200, 180, 255, 0.18) 0%, transparent 50%), radial-gradient(ellipse 70% 70% at 60% 20%, rgba(180, 220, 255, 0.15) 0%, transparent 50%), linear-gradient(to bottom, #fafafa 0%, #ffffff 100%)","radial-gradient(ellipse 100% 80% at 20% 30%, rgba(255, 200, 180, 0.2) 0%, transparent 50%), radial-gradient(ellipse 80% 60% at 80% 60%, rgba(200, 180, 255, 0.18) 0%, transparent 50%), radial-gradient(ellipse 70% 70% at 50% 80%, rgba(180, 220, 255, 0.15) 0%, transparent 50%), linear-gradient(to bottom, #fafafa 0%, #ffffff 100%)"]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),l.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]}),l.jsx("section",{ref:e,className:"py-32 px-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs(ae.div,{initial:{opacity:0,y:40},animate:n?{opacity:1,y:0}:{},transition:{duration:.8,ease:[.25,.1,.25,1]},children:[l.jsx(ae.p,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{duration:.7,delay:.1,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,letterSpacing:"0.05em",color:"#8b5cf6",textTransform:"uppercase"},className:"mb-4",children:"About BALEMOO"}),l.jsx(ae.h2,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(2rem, 4vw, 3.5rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",lineHeight:1.15},className:"mb-6",children:"A Digital Bale for Modern Events"}),l.jsxs(ae.p,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{duration:.7,delay:.4,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1rem, 1.25vw, 1.125rem)",fontWeight:400,letterSpacing:"-0.01em",color:"#4a4a4a",lineHeight:1.7},children:["BALEMOO is a technology platform built to welcome guests the way people should be welcomed  smoothly, respectfully, and with a smile.",l.jsx("br",{}),l.jsx("br",{}),"Inspired by the Balinese tradition of receiving guests in the bale, we translate that philosophy into modern event technology."]})]}),l.jsx(ae.div,{initial:{opacity:0,y:40,scale:.95},animate:n?{opacity:1,y:0,scale:1}:{},transition:{duration:.9,delay:.5,ease:[.25,.1,.25,1]},className:"relative",children:l.jsx(ae.div,{animate:{y:[0,-15,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:l.jsx("img",{src:lf,alt:"BALEMOO Platform Visualization",className:"w-full h-auto",style:{filter:"drop-shadow(0 25px 50px rgba(0, 0, 0, 0.1))"}})})})]})})}),l.jsx("section",{ref:t,className:"py-32 px-6",children:l.jsx("div",{className:"max-w-5xl mx-auto",children:l.jsxs(ae.div,{initial:{opacity:0,y:60,scale:.95},animate:r?{opacity:1,y:0,scale:1}:{},transition:{duration:.9,ease:[.25,.1,.25,1]},className:"relative rounded-3xl p-12 lg:p-16",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:"0 25px 60px -15px rgba(0, 0, 0, 0.08), 0 10px 25px -10px rgba(0, 0, 0, 0.04)"},children:[l.jsx(ae.h2,{initial:{opacity:0,y:30},animate:r?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1.75rem, 3.5vw, 2.75rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",lineHeight:1.2},className:"mb-8",children:"The Philosophy Behind BALEMOO"}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:r?{opacity:1,y:0}:{},transition:{duration:.7,delay:.4,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1rem, 1.2vw, 1.125rem)",fontWeight:400,letterSpacing:"-0.01em",color:"#3a3a3a",lineHeight:1.8},className:"mb-12",children:[l.jsx("p",{className:"mb-6",children:"In Balinese culture, a bale is more than a structure. It is a space of connection  where guests are welcomed, stories begin, and respect is shown through small details."}),l.jsx("p",{className:"mb-6",children:"BALEMOO brings this philosophy into technology. We believe great events start not at the stage, but at the first interaction. That first smile. That smooth check-in. That feeling of being expected."})]}),l.jsx("div",{className:"space-y-6 mb-12",children:[{icon:B3,text:"Technology that stays human"},{icon:Fg,text:"Speed without pressure"},{icon:_3,text:"Systems that support, not replace, hospitality"}].map((s,i)=>l.jsxs(ae.div,{initial:{opacity:0,x:-20},animate:r?{opacity:1,x:0}:{},transition:{duration:.6,delay:.6+i*.1,ease:[.25,.1,.25,1]},className:"flex items-center gap-4",children:[l.jsx(ae.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,delay:1+i*.2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",style:{background:"rgba(139, 92, 246, 0.1)"},children:l.jsx(s.icon,{className:"w-5 h-5",style:{color:"#8b5cf6"}})}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.0625rem",fontWeight:500,letterSpacing:"-0.01em",color:"#2d2d2d"},children:s.text})]},i))}),l.jsx(ae.p,{initial:{opacity:0,y:20},animate:r?{opacity:1,y:0}:{},transition:{duration:.7,delay:1,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1.125rem, 1.5vw, 1.375rem)",fontWeight:500,letterSpacing:"-0.015em",color:"#1a1a1a",lineHeight:1.5},className:"italic",children:"BALEMOO is where technology becomes the host."})]})})})]})}function z4(){const e=k.useRef(null),t=k.useRef(null),n=ec(e,{once:!0,margin:"-100px"}),r=ec(t,{once:!0,margin:"-100px"}),s=[{id:"kabar",title:"kabar.in",tagline:"Smart Invitations, Made Effortless",description:"Send personalized event invitations through WhatsApp Official Business, complete with RSVP and unique QR codes for every guest.",features:[{icon:Fj,text:"WhatsApp Official Business integration"},{icon:Rc,text:"Personalized invitations"},{icon:aw,text:"RSVP tracking"},{icon:pa,text:"Auto-generated QR per guest"}],emphasized:!1},{id:"checkin",title:"check.in",tagline:"Check In Less Than 10 Seconds.",description:"A lightning-fast QR-based check-in system designed for high-scale events. From access control to guest identification, check.in turns arrival into a smooth experience.",features:[{icon:pa,text:"QR scan check-in under 10 seconds"},{icon:Oj,text:"Optional badge printing & guest identification"},{icon:D3,text:"Gift / angpao / access tagging"},{icon:lw,text:"Custom guest data stored securely per event"}],emphasized:!0},{id:"monitor",title:"monitor.in",tagline:"Real-Time Guest Visibility.",description:"Monitor attendance, arrivals, and guest flow in real time through a simple web dashboard.",features:[{icon:aw,text:"Live attendance updates"},{icon:Lf,text:"Guest arrival analytics"},{icon:P3,text:"Exportable reports"},{icon:lw,text:"Accessible anywhere"}],emphasized:!1}];return l.jsxs("div",{className:"relative w-full overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 -z-10",children:[l.jsx(ae.div,{className:"absolute inset-0",animate:{background:["radial-gradient(ellipse 100% 80% at 30% 20%, rgba(200, 180, 255, 0.22) 0%, transparent 50%), radial-gradient(ellipse 80% 70% at 70% 60%, rgba(180, 220, 255, 0.2) 0%, transparent 50%), radial-gradient(ellipse 70% 60% at 50% 90%, rgba(150, 230, 255, 0.18) 0%, transparent 50%), linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)","radial-gradient(ellipse 100% 80% at 70% 30%, rgba(200, 180, 255, 0.22) 0%, transparent 50%), radial-gradient(ellipse 80% 70% at 30% 70%, rgba(180, 220, 255, 0.2) 0%, transparent 50%), radial-gradient(ellipse 70% 60% at 60% 10%, rgba(150, 230, 255, 0.18) 0%, transparent 50%), linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)","radial-gradient(ellipse 100% 80% at 30% 20%, rgba(200, 180, 255, 0.22) 0%, transparent 50%), radial-gradient(ellipse 80% 70% at 70% 60%, rgba(180, 220, 255, 0.2) 0%, transparent 50%), radial-gradient(ellipse 70% 60% at 50% 90%, rgba(150, 230, 255, 0.18) 0%, transparent 50%), linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)"]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}}),l.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]}),l.jsx("section",{ref:e,className:"pt-32 pb-16 px-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsx(ae.p,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{duration:.7,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,letterSpacing:"0.05em",color:"#6366f1",textTransform:"uppercase"},className:"mb-4",children:"Our Product"}),l.jsx(ae.h2,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8,delay:.1,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(2rem, 4vw, 3.5rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",lineHeight:1.15},className:"mb-6",children:"One Platform. Three Connected Experiences."}),l.jsx(ae.p,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{duration:.7,delay:.3,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(1rem, 1.25vw, 1.125rem)",fontWeight:400,letterSpacing:"-0.01em",color:"#4a4a4a",lineHeight:1.6},className:"max-w-3xl mx-auto mb-12",children:"From invitation to check-in to real-time insights  BALEMOO powers every guest interaction with technology."}),l.jsx(ae.div,{initial:{opacity:0,scaleX:0},animate:n?{opacity:1,scaleX:1}:{},transition:{duration:.8,delay:.5,ease:[.25,.1,.25,1]},className:"h-px max-w-xs mx-auto",style:{background:"linear-gradient(to right, transparent, rgba(99, 102, 241, 0.3), transparent)"}})]})}),l.jsx("section",{className:"py-16 px-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:s.map((i,a)=>l.jsx(L4,{product:i,index:a,illustration:lf},i.id))})})}),l.jsx("section",{ref:t,className:"py-16 px-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:r?{opacity:1,y:0}:{},transition:{duration:.8,ease:[.25,.1,.25,1]},className:"relative",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[l.jsx(ae.div,{initial:{opacity:0,scale:.8},animate:r?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.2,ease:[.25,.1,.25,1]},className:"flex-1 text-center",children:l.jsx("div",{className:"inline-block px-6 py-3 rounded-full",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(99, 102, 241, 0.2)",boxShadow:"0 8px 20px -5px rgba(0, 0, 0, 0.06)"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,letterSpacing:"-0.01em",color:"#1a1a1a"},children:"kabar.in"})})}),l.jsxs("div",{className:"flex-1 relative h-0.5 mx-2",children:[l.jsx(ae.div,{className:"absolute inset-0",style:{background:"rgba(99, 102, 241, 0.15)"}}),l.jsx(ae.div,{initial:{scaleX:0,originX:0},animate:r?{scaleX:1}:{},transition:{duration:1.2,delay:.5,ease:[.25,.1,.25,1]},className:"absolute inset-0",style:{background:"linear-gradient(to right, #6366f1, #8b5cf6)"}}),l.jsx(ae.div,{initial:{left:"0%"},animate:r?{left:["0%","100%"]}:{},transition:{duration:2,delay:1.5,repeat:1/0,repeatDelay:1,ease:"easeInOut"},className:"absolute top-1/2 -translate-y-1/2 w-2 h-2 rounded-full",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",boxShadow:"0 0 8px rgba(99, 102, 241, 0.6)"}}),l.jsx(ae.div,{initial:{opacity:0,scale:0},animate:r?{opacity:1,scale:1}:{},transition:{duration:.3,delay:1.7,ease:[.25,.1,.25,1]},className:"absolute right-0 top-1/2 -translate-y-1/2",style:{width:0,height:0,borderLeft:"6px solid #8b5cf6",borderTop:"4px solid transparent",borderBottom:"4px solid transparent"}})]}),l.jsx(ae.div,{initial:{opacity:0,scale:.8},animate:r?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.4,ease:[.25,.1,.25,1]},className:"flex-1 text-center",children:l.jsx("div",{className:"inline-block px-6 py-3 rounded-full",style:{background:"rgba(99, 102, 241, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1.5px solid rgba(99, 102, 241, 0.4)",boxShadow:"0 10px 30px -8px rgba(99, 102, 241, 0.3)"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,letterSpacing:"-0.01em",color:"#6366f1"},children:"check.in"})})}),l.jsxs("div",{className:"flex-1 relative h-0.5 mx-2",children:[l.jsx(ae.div,{className:"absolute inset-0",style:{background:"rgba(99, 102, 241, 0.15)"}}),l.jsx(ae.div,{initial:{scaleX:0,originX:0},animate:r?{scaleX:1}:{},transition:{duration:1.2,delay:.7,ease:[.25,.1,.25,1]},className:"absolute inset-0",style:{background:"linear-gradient(to right, #8b5cf6, #6366f1)"}}),l.jsx(ae.div,{initial:{left:"0%"},animate:r?{left:["0%","100%"]}:{},transition:{duration:2,delay:1.7,repeat:1/0,repeatDelay:1,ease:"easeInOut"},className:"absolute top-1/2 -translate-y-1/2 w-2 h-2 rounded-full",style:{background:"linear-gradient(135deg, #8b5cf6, #6366f1)",boxShadow:"0 0 8px rgba(139, 92, 246, 0.6)"}}),l.jsx(ae.div,{initial:{opacity:0,scale:0},animate:r?{opacity:1,scale:1}:{},transition:{duration:.3,delay:1.9,ease:[.25,.1,.25,1]},className:"absolute right-0 top-1/2 -translate-y-1/2",style:{width:0,height:0,borderLeft:"6px solid #6366f1",borderTop:"4px solid transparent",borderBottom:"4px solid transparent"}})]}),l.jsx(ae.div,{initial:{opacity:0,scale:.8},animate:r?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.6,ease:[.25,.1,.25,1]},className:"flex-1 text-center",children:l.jsx("div",{className:"inline-block px-6 py-3 rounded-full",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(99, 102, 241, 0.2)",boxShadow:"0 8px 20px -5px rgba(0, 0, 0, 0.06)"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,letterSpacing:"-0.01em",color:"#1a1a1a"},children:"monitor.in"})})})]}),l.jsx(ae.p,{initial:{opacity:0,y:10},animate:r?{opacity:1,y:0}:{},transition:{duration:.7,delay:1.2,ease:[.25,.1,.25,1]},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:500,letterSpacing:"-0.01em",color:"#6b6b6b",textAlign:"center"},children:"A single connected system, built to work seamlessly."})]})})})]})}function L4({product:e,index:t,illustration:n}){const r=k.useRef(null),[s,i]=k.useState(!1),a=ec(r,{once:!0,margin:"-50px"});return l.jsxs(ae.div,{ref:r,initial:{opacity:0,y:60,scale:.95},animate:a?{opacity:1,y:0,scale:1}:{},transition:{duration:.8,delay:t*.15,ease:[.25,.1,.25,1]},whileHover:{y:-8,transition:{duration:.3,ease:[.25,.1,.25,1]}},onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),className:`relative rounded-3xl p-8 ${e.emphasized?"lg:scale-105 lg:-my-4":""}`,style:{background:e.emphasized?"rgba(255, 255, 255, 0.85)":"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",border:e.emphasized?"1.5px solid rgba(99, 102, 241, 0.3)":"1px solid rgba(255, 255, 255, 0.4)",boxShadow:e.emphasized?"0 30px 70px -20px rgba(99, 102, 241, 0.2), 0 15px 35px -15px rgba(0, 0, 0, 0.08)":"0 25px 60px -15px rgba(0, 0, 0, 0.08), 0 10px 25px -10px rgba(0, 0, 0, 0.04)"},children:[e.emphasized&&l.jsx(ae.div,{className:"absolute inset-0 rounded-3xl -z-10",animate:{opacity:s?.6:.3},transition:{duration:.3},style:{background:"radial-gradient(circle at 50% 0%, rgba(99, 102, 241, 0.2), transparent 70%)"}}),l.jsxs(ae.div,{className:"mb-6 relative h-48 flex items-center justify-center",animate:{y:[0,-8,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:t*.5},children:[l.jsx("img",{src:n,alt:e.title,className:"h-full w-auto object-contain",style:{filter:"drop-shadow(0 15px 30px rgba(0, 0, 0, 0.1))"}}),e.id==="checkin"&&l.jsx(ae.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:l.jsx(pa,{className:"w-12 h-12 text-indigo-500 opacity-20"})})]}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:e.emphasized?"1.75rem":"1.5rem",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",lineHeight:1.2},className:"mb-3",children:e.title}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:e.emphasized?"1.125rem":"1rem",fontWeight:500,letterSpacing:"-0.01em",color:e.emphasized?"#6366f1":"#6b6b6b",lineHeight:1.4},className:"mb-4",children:e.tagline}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:400,letterSpacing:"-0.01em",color:"#4a4a4a",lineHeight:1.6},className:"mb-6",children:e.description}),l.jsx("div",{className:"space-y-3",children:e.features.map((u,d)=>l.jsxs(ae.div,{initial:{opacity:0,x:-10},animate:a?{opacity:1,x:0}:{},transition:{duration:.5,delay:.3+t*.15+d*.05,ease:[.25,.1,.25,1]},className:"flex items-start gap-3",children:[l.jsx(ae.div,{animate:s?{scale:[1,1.15,1]}:{},transition:{duration:.4,delay:d*.05},className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mt-0.5",style:{background:e.emphasized?"rgba(99, 102, 241, 0.12)":"rgba(0, 0, 0, 0.04)"},children:l.jsx(u.icon,{className:"w-4 h-4",style:{color:e.emphasized?"#6366f1":"#6b6b6b"}})}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:400,letterSpacing:"-0.01em",color:"#3a3a3a",lineHeight:1.5},children:u.text})]},d))})]})}var zr=function(){return zr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zr.apply(this,arguments)};function Ia(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function $4(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function u(m){try{f(r.next(m))}catch(h){a(h)}}function d(m){try{f(r.throw(m))}catch(h){a(h)}}function f(m){m.done?i(m.value):s(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}function B4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const V4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class xy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class W4 extends xy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cw extends xy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uw extends xy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dg||(Dg={}));class U4{constructor(t,{headers:n={},customFetch:r,region:s=Dg.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=V4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $4(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:u,method:d,body:f,signal:m,timeout:h}=r;let g={},{region:x}=r;x||(x=this.region);const v=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,v.searchParams.set("forceFunctionRegion",x));let b;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(g["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(g["Content-Type"]="application/json",b=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?b=JSON.stringify(f):b=f;let S=m;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),m?(S=a.signal,m.addEventListener("abort",()=>a.abort())):S=a.signal);const _=yield this.fetch(v.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:b,signal:S}).catch(P=>{throw new W4(P)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new cw(_);if(!_.ok)throw new uw(_);let w=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return w==="application/json"?T=yield _.json():w==="application/octet-stream"||w==="application/pdf"?T=yield _.blob():w==="text/event-stream"?T=_:w==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(u){return{data:null,error:u,response:u instanceof uw||u instanceof cw?u.context:void 0}}finally{i&&clearTimeout(i)}})}}var H4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},G4=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,u=null,d=null,f=i.status,m=i.statusText;if(i.ok){var h,g;if(n.method!=="HEAD"){var x;const _=await i.text();_===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=_:u=JSON.parse(_))}const b=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");b&&S&&S.length>1&&(d=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(a={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var v;const b=await i.text();try{a=JSON.parse(b),Array.isArray(a)&&i.status===404&&(u=[],a=null,f=200,m="OK")}catch{i.status===404&&b===""?(f=204,m="No Content"):a={message:b}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,f=200,m="OK"),a&&n.shouldThrowOnError)throw new H4(a)}return{error:a,data:u,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let u="",d="",f="";const m=i==null?void 0:i.cause;if(m){var h,g,x,v;const _=(h=m==null?void 0:m.message)!==null&&h!==void 0?h:"",E=(g=m==null?void 0:m.code)!==null&&g!==void 0?g:"";u=`${(x=i==null?void 0:i.name)!==null&&x!==void 0?x:"FetchError"}: ${i==null?void 0:i.message}`,u+=`

Caused by: ${(v=m==null?void 0:m.name)!==null&&v!==void 0?v:"Error"}: ${_}`,E&&(u+=` (${E})`),m!=null&&m.stack&&(u+=`
${m.stack}`)}else{var b;u=(b=i==null?void 0:i.stack)!==null&&b!==void 0?b:""}const S=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(f="",d="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((m==null?void 0:m.name)==="HeadersOverflowError"||(m==null?void 0:m.code)==="UND_ERR_HEADERS_OVERFLOW")&&(f="",d="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(d+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:u,hint:d,code:f},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},q4=class extends G4{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const dw=new RegExp("[,()]");var Ji=class extends q4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&dw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&dw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},K4=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(f=>/\s/.test(f)&&!i?"":(f==='"'&&(i=!i),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",a),r&&d.append("Prefer",`count=${r}`),new Ji({method:s,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);i.searchParams.set("columns",d.join(","))}}return new Ji({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);u.searchParams.set("columns",m.join(","))}}return new Ji({method:a,url:u,headers:d,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ji({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ji({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function X4(e,t){if(rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y4(e){var t=X4(e,"string");return rc(t)=="symbol"?t:t+""}function J4(e,t,n){return(t=Y4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(n),!0).forEach(function(r){J4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Q4=class zj{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const u=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(d,f)=>{const m=new AbortController,h=setTimeout(()=>m.abort(),i),g=f==null?void 0:f.signal;if(g){if(g.aborted)return clearTimeout(h),u(d,f);const x=()=>{clearTimeout(h),m.abort()};return g.addEventListener("abort",x,{once:!0}),u(d,sd(sd({},f),{},{signal:m.signal})).finally(()=>{clearTimeout(h),g.removeEventListener("abort",x)})}return u(d,sd(sd({},f),{},{signal:m.signal})).finally(()=>clearTimeout(h))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new K4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new zj(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;const m=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(m)),h=r&&Object.values(n).some(m);h?(u="POST",f=n):r||s?(u=r?"HEAD":"GET",Object.entries(n).filter(([x,v])=>v!==void 0).map(([x,v])=>[x,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([x,v])=>{d.searchParams.append(x,v)})):(u="POST",f=n);const g=new Headers(this.headers);return h?g.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&g.set("Prefer",`count=${i}`),new Ji({method:u,url:d,headers:g,schema:this.schemaName,body:f,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Z4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const e8="2.94.1",t8=`realtime-js/${e8}`,n8="1.0.0",Lj="2.0.0",hw=Lj,Og=1e4,r8=1e3,s8=100;var Qs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qs||(Qs={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hr||(hr={}));var zg;(function(e){e.websocket="websocket"})(zg||(zg={}));var Wo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wo||(Wo={}));class o8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,u=(s=t.ref)!==null&&s!==void 0?s:"",d=(i=t.join_ref)!==null&&i!==void 0?i:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+a.length+f.length+h.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let v=new DataView(x),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,d.length),v.setUint8(b++,u.length),v.setUint8(b++,a.length),v.setUint8(b++,f.length),v.setUint8(b++,h.length),v.setUint8(b++,n),Array.from(d,_=>v.setUint8(b++,_.charCodeAt(0))),Array.from(u,_=>v.setUint8(b++,_.charCodeAt(0))),Array.from(a,_=>v.setUint8(b++,_.charCodeAt(0))),Array.from(f,_=>v.setUint8(b++,_.charCodeAt(0))),Array.from(h,_=>v.setUint8(b++,_.charCodeAt(0)));var S=new Uint8Array(x.byteLength+r.byteLength);return S.set(new Uint8Array(x),0),S.set(new Uint8Array(r),x.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,u,d]=r;return n({join_ref:s,ref:i,topic:a,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+s));d=d+s;const m=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+a));d=d+a;const g=t.slice(d,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,v={type:this.BROADCAST_EVENT,event:m,payload:x};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}let $j=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qe||(Qe={}));const pw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=i8(a,e,t,s),i),{}):{}},i8=(e,t,n,r)=>{const s=t.find(u=>u.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?Bj(i,a):Lg(a)},Bj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return u8(t,n)}switch(e){case Qe.bool:return a8(t);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return l8(t);case Qe.json:case Qe.jsonb:return c8(t);case Qe.timestamp:return d8(t);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Lg(t);default:return Lg(t)}},Lg=e=>e,a8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},u8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(u=>Bj(t,u))}return e},d8=e=>typeof e=="string"?e.replace(" ","T"):e,Vj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rm{constructor(t,n,r={},s=Og){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mw||(mw={}));class Hl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hl.syncState(this.state,s,i,a),this.pendingDiffs.forEach(d=>{this.state=Hl.syncDiff(this.state,d,i,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hl.syncDiff(this.state,s,i,a),u())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),u={},d={};return this.map(i,(f,m)=>{a[f]||(d[f]=m)}),this.map(a,(f,m)=>{const h=i[f];if(h){const g=m.map(S=>S.presence_ref),x=h.map(S=>S.presence_ref),v=m.filter(S=>x.indexOf(S.presence_ref)<0),b=h.filter(S=>g.indexOf(S.presence_ref)<0);v.length>0&&(u[f]=v),b.length>0&&(d[f]=b)}else u[f]=m}),this.syncDiff(i,{joins:u,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(u,d)=>{var f;const m=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),m.length>0){const h=t[u].map(x=>x.presence_ref),g=m.filter(x=>h.indexOf(x.presence_ref)<0);t[u].unshift(...g)}r(u,m,d)}),this.map(a,(u,d)=>{let f=t[u];if(!f)return;const m=d.map(h=>h.presence_ref);f=f.filter(h=>m.indexOf(h.presence_ref)<0),t[u]=f,s(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gw||(gw={}));var Gl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gl||(Gl={}));var us;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));class sa{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rm(this,hr.join,this.params,this.timeout),this.rejoinTimer=new $j(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Hl(this),this.broadcastEndpointURL=Vj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:a,presence:u,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[Gl.PRESENCE]&&this.bindings[Gl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(us.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(us.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(us.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,_=[];for(let E=0;E<S;E++){const w=b[E],{filter:{event:T,schema:P,table:C,filter:R}}=w,I=x&&x[E];if(I&&I.event===T&&sa.isFilterValueEqual(I.schema,P)&&sa.isFilterValueEqual(I.table,C)&&sa.isFilterValueEqual(I.filter,R))_.push(Object.assign(Object.assign({},w),{id:I.id}));else{this.unsubscribe(),this.state=Mt.errored,t==null||t(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(us.SUBSCRIBED);return}}).receive("error",x=>{this.state=Mt.errored,t==null||t(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mt.joined&&t===Gl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Rm(this,hr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:m}=hr;if(r&&[u,d,f,m].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var v,b,S;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(b=x.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(x=>x.callback(g,r)):(i=this.bindings[a])===null||i===void 0||i.filter(x=>{var v,b,S,_,E,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in x){const T=x.id,P=(v=x.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const T=(E=(_=x==null?void 0:x.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===a}).map(x=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:b,table:S,commit_timestamp:_,type:E,errors:w}=v;g=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:_,eventType:E,new:{},old:{},errors:w}),this._getPayloadRecords(v))}x.callback(g,r)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sa.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hr.close,{},t)}_onError(t){this._on(hr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=pw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=pw(t.columns,t.old_record)),n}}const Pm=()=>{},od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f8=[1e3,2e3,5e3,1e4],h8=1e4,p8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m8{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Og,this.transport=null,this.heartbeatIntervalMs=od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pm,this.ref=0,this.reconnectTimer=null,this.vsn=hw,this.logger=Pm,this.conn=null,this.sendBuffer=[],this.serializer=new o8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${zg.websocket}`,this.httpEndpoint=Vj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Z4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qs.connecting:return Wo.Connecting;case Qs.open:return Wo.Open;case Qs.closing:return Wo.Closing;default:return Wo.Closed}}isConnected(){return this.connectionState()===Wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new sa(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(r8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},od.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,u=a?`(${a})`:"",d=i.status||"";this.log("receive",`${d} ${r} ${s} ${u}`.trim(),i),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Qs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qs.open||this.conn.readyState===Qs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(hr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([p8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:t8};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(hr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $j(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,u,d,f,m,h,g,x;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Og,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:od.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Pm,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:hw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(v=>f8[v-1]||h8),this.vsn){case n8:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((v,b)=>b(JSON.stringify(v))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:((v,b)=>b(JSON.parse(v)));break;case Lj:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var sc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g8(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function y8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function x8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const u=g8(e.baseUrl,r,s),d=await y8(e.auth),f=await t(u,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...d,...a},body:i?JSON.stringify(i):void 0}),m=await f.text(),h=(f.headers.get("content-type")||"").includes("application/json"),g=h&&m?JSON.parse(m):m;if(!f.ok){const x=h?g:void 0,v=x==null?void 0:x.error;throw new sc((v==null?void 0:v.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:x})}return{status:f.status,headers:f.headers,data:g}}}}function id(e){return e.join("")}var v8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:id(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${id(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${id(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${id(e.namespace)}`}),!0}catch(t){if(t instanceof sc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof sc&&n.status===409)return;throw n}}};function zi(e){return e.join("")}var b8=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof sc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof sc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},w8=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=x8({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new v8(this.client,t),this.tableOps=new b8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Bf=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Vf(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ad=class extends Bf{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wj=class extends Bf{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const S8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$g=e=>{if(Array.isArray(e))return e.map(n=>$g(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$g(r)}),t},j8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function C8(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8(e){var t=C8(e,"string");return oc(t)=="symbol"?t:t+""}function E8(e,t,n){return(t=_8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(n),!0).forEach(function(r){E8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const xw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},T8=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new ad(xw(a),i,u,r))}).catch(()=>{if(r==="vectors"){const a=i+"";t(new ad(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";t(new ad(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";t(new ad(s.statusText||`HTTP ${i} error`,i,a,r))}}else t(new Wj(xw(e),e,r))},N8=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Me(Me({},s),n):(k8(r)?(s.headers=Me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Me(Me({},s),n))};async function El(e,t,n,r,s,i,a){return new Promise((u,d)=>{e(n,N8(t,r,s,i)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(a==="vectors"){const m=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!m||!m.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>T8(f,d,r,a))})}function Uj(e="storage"){return{get:async(t,n,r,s)=>El(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>El(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>El(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>El(t,"HEAD",n,Me(Me({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>El(t,"DELETE",n,s,i,r,e)}}const R8=Uj("storage"),{get:ic,post:fr,put:Bg,head:P8,remove:vy}=R8,An=Uj("vectors");var Aa=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=S8(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vf(n))return{data:null,error:n};throw n}}},I8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vf(t))return{data:null,error:t};throw t}}};let Hj;Hj=Symbol.toStringTag;var A8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Hj]="BlobDownloadBuilder",this.promise=null}asStream(){return new I8(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vf(t))return{data:null,error:t};throw t}}};const M8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F8=class extends Aa{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=Me(Me({},vw),r);let u=Me(Me({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),d&&i.append("metadata",s.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),d&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(d))):(i=n,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,d&&(u["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(u=Me(Me({},u),r.headers));const f=s._removeEmptyFolders(t),m=s._getFinalPath(f),h=await(e=="PUT"?Bg:fr)(s.fetch,`${s.url}/object/${m}`,i,Me({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:f,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),u=new URL(s.url+`/object/upload/sign/${a}`);return u.searchParams.set("token",t),s.handleOperation(async()=>{let d;const f=Me({upsert:vw.upsert},r),m=Me(Me({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{path:i,fullPath:(await Bg(s.fetch,u.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=Me({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await fr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),u=a.searchParams.get("token");if(!u)throw new Bf("No token returned by API");return{signedUrl:a.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await fr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await fr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await fr(r.fetch,`${r.url}/object/sign/${s}`,Me({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await fr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>Me(Me({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>ic(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new A8(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>$g(await ic(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await P8(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Vf(r)&&r instanceof Wj){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await vy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=Me(Me(Me({},M8),t),{},{prefix:e||""});return await fr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Me({},e);return await fr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const D8="2.94.1",Ic={"X-Client-Info":`storage-js/${D8}`};var O8=class extends Aa{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=Me(Me({},Ic),t);super(i,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await ic(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ic(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await fr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Bg(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await fr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},z8=class extends Aa{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Me(Me({},Ic),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await fr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await ic(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!j8(e))throw new Bf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new w8({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...u)=>{try{return{data:await a.apply(s,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},L8=class extends Aa{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Me(Me({},Ic),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await An.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await An.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},$8=class extends Aa{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Me(Me({},Ic),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},B8=class extends Aa{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Me(Me({},Ic),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await An.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},V8=class extends B8{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new W8(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},W8=class extends L8{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new U8(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},U8=class extends $8{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},H8=class extends O8{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new F8(this.url,this.headers,e,this.fetch)}get vectors(){return new V8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new z8(this.url+"/iceberg",this.headers,this.fetch)}};const Gj="2.94.1",Qi=30*1e3,Vg=3,Im=Vg*Qi,G8="http://localhost:9999",q8="supabase.auth.token",K8={"X-Client-Info":`gotrue-js/${Gj}`},Wg="X-Supabase-Api-Version",qj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y8=600*1e3;class ac extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class J8 extends ac{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Q8(e){return Ne(e)&&e.name==="AuthApiError"}class Uo extends ac{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ss extends ac{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Pn extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Am(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class Li extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ld extends Ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cd extends Ss{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z8(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class bw extends Ss{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eF extends Ss{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ug extends Ss{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Mm(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class ww extends Ss{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Hg extends Ss{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sw=` 	
\r=`.split(""),tF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sw.length;t+=1)e[Sw[t].charCodeAt(0)]=-2;for(let t=0;t<uf.length;t+=1)e[uf[t].charCodeAt(0)]=t;return e})();function kw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(uf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(uf[r]),t.queuedBits-=6}}function Kj(e,t,n){const r=tF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{sF(a,r,n)};for(let a=0;a<e.length;a+=1)Kj(e.charCodeAt(a),s,i);return t.join("")}function nF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}nF(r,t)}}function sF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function la(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Kj(e.charCodeAt(s),n,r);return new Uint8Array(t)}function oF(e){const t=[];return rF(e,n=>t.push(n)),new Uint8Array(t)}function qo(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>kw(s,n,r)),kw(null,n,r),t.join("")}function iF(e){return Math.round(Date.now()/1e3)+e}function aF(){return Symbol("auth-callback")}const Kt=()=>typeof window<"u"&&typeof document<"u",Fo={tested:!1,writable:!1},Xj=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fo.tested)return Fo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fo.tested=!0,Fo.writable=!0}catch{Fo.tested=!0,Fo.writable=!1}return Fo.writable};function lF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Yj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Do=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qt=async(e,t)=>{await e.removeItem(t)};class Wf{constructor(){this.promise=new Wf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wf.promiseConstructor=Promise;function ud(e){const t=e.split(".");if(t.length!==3)throw new Hg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!X8.test(t[r]))throw new Hg("JWT not in base64url format");return{header:JSON.parse(jw(t[0])),payload:JSON.parse(jw(t[1])),signature:la(t[2]),raw:{header:t[0],payload:t[1]}}}async function uF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dF(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function fF(e){return("0"+e.toString(16)).substr(-2)}function hF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,fF).join("")}async function pF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(e,t,n=!1){const r=hF();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Zi(e,`${t}-code-verifier`,s);const i=await mF(r);return[i,r===i?"plain":"s256"]}const gF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yF(e){const t=e.headers.get(Wg);if(!t||!t.match(gF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(e){if(!bF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wF(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Cw(e){return JSON.parse(JSON.stringify(e))}const Bo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SF=[502,503,504];async function _w(e){var t;if(!cF(e))throw new Ug(Bo(e),0);if(SF.includes(e.status))throw new Ug(Bo(e),e.status);let n;try{n=await e.json()}catch(i){throw new Uo(Bo(i),i)}let r;const s=yF(e);if(s&&s.getTime()>=qj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ww(Bo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ww(Bo(n),e.status,n.weak_password.reasons);throw new J8(Bo(n),e.status||500,r)}const kF=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ae(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Wg]||(i[Wg]=qj["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await jF(e,t,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function jF(e,t,n,r,s,i){const a=kF(t,r,s,i);let u;try{u=await e(n,Object.assign({},a))}catch(d){throw console.error(d),new Ug(Bo(d),0)}if(u.ok||await _w(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await _w(d)}}function cr(e){var t;let n=null;EF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ew(e){const t=cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CF(e){return{data:e,error:null}}function _F(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Ia(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},d=Object.assign({},a);return{data:{properties:u,user:d},error:null}}function Tw(e){return e}function EF(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dm=["global","local","others"];class TF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Yj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dm[0]){if(Dm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zs})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ia(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_F,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zs})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tw});if(m.error)throw m.error;const h=await m.json(),g=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Ne(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Bi(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zs})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Bi(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Zs})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Bi(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zs})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Bi(t.userId);try{const{data:n,error:r}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Bi(t.userId),Bi(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tw});if(m.error)throw m.error;const h=await m.json(),g=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Ne(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function Nw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Vi={debug:!!(globalThis&&Xj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NF extends Jj{}async function RF(e,t,n){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function PF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function IF(e){return parseInt(e,16)}function AF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function MF(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:u,requestId:d,resources:f,scheme:m,uri:h,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=Qj(e.address),v=m?`${m}://${r}`:r,b=e.statement?`${e.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${x}

${b}`;let _=`URI: ${h}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),u&&(_+=`
Not Before: ${u.toISOString()}`),d&&(_+=`
Request ID: ${d}`),f){let E=`
Resources:`;for(const w of f){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);E+=`
- ${w}`}_+=E}return`${S}
${_}`}class kt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class df extends kt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function FF({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Zj(a)){if(i.rp.id!==a)return new kt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DF({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Zj(r)){if(n.rpId!==r)return new kt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zF=new OF;function LF(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ia(e,["challenge","user","excludeCredentials"]),i=la(t).buffer,a=Object.assign(Object.assign({},n),{id:la(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:la(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function $F(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ia(e,["challenge","allowCredentials"]),s=la(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const u=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},u),{id:la(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function BF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:qo(new Uint8Array(e.response.attestationObject)),clientDataJSON:qo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qo(new Uint8Array(s.authenticatorData)),clientDataJSON:qo(new Uint8Array(s.clientDataJSON)),signature:qo(new Uint8Array(s.signature)),userHandle:s.userHandle?qo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rw(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function WF(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new df("Browser returned unexpected credential type",t)}:{data:null,error:new df("Empty credential response",t)}}catch(t){return{data:null,error:FF({error:t,options:e})}}}async function UF(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new df("Browser returned unexpected credential type",t)}:{data:null,error:new df("Empty credential response",t)}}catch(t){return{data:null,error:DF({error:t,options:e})}}}const HF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ff(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const u=r[i];t(u)?r[i]=ff(u,a):r[i]=ff(a)}else r[i]=a}return r}function qF(e,t){return ff(HF,e,t||{})}function KF(e,t){return ff(GF,e,t||{})}class XF{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const f=s??zF.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;if(!m.name){const h=r;if(h)m.name=`${m.id}:${h}`;else{const x=(await this.client.getUser()).data.user,v=((a=x==null?void 0:x.user_metadata)===null||a===void 0?void 0:a.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";m.name=`${m.id}:${v}`}}m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=qF(u.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:g}=await WF({publicKey:m,signal:f});return h?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const m=KF(u.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:g}=await UF(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return h?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(u){return Ne(u)?{data:null,error:u}:{data:null,error:new Uo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ac("rpId is required for WebAuthn authentication")};try{if(!Rw())return{data:null,error:new Uo("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:u};const{webauthn:d}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new Uo("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ac("rpId is required for WebAuthn registration")};try{if(!Rw())return{data:null,error:new Uo("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(m=>{var h;return(h=m.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new Uo("Unexpected error in register",a)}}}}PF();const YF={url:G8,storageKey:q8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Pw(e,t,n){return await n()}const Wi={};class lc{get jwks(){var t,n;return(n=(t=Wi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},YF),t);if(this.storageKey=i.storageKey,this.instanceID=(n=lc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,lc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Kt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new TF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yj(i.fetch),this.lock=i.lock||Pw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RF:this.lock=Pw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Xj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gj}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Kt()&&(n=lF(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Kt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Z8(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?this._returnResult({error:n}):this._returnResult({error:new Uo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cr}),{data:a,error:u}=i;if(u||!a)return this._returnResult({data:{user:null,session:null},error:u});const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:m,password:h,options:g}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await $i(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:m,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:v},xform:cr})}else if("phone"in t){const{phone:m,password:h,options:g}=t;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:cr})}else throw new ld("You must provide either an email or phone number and a password");const{data:a,error:u}=i;if(u||!a)return await qt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:u}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ew})}else if("phone"in t){const{phone:i,password:a,options:u}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ew})}else throw new ld("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Li;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,u,d,f,m,h,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:b,wallet:S,statement:_,options:E}=t;let w;if(Kt())if(typeof S=="object")w=S;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=S}const T=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href),P=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Qj(P[0]);let R=(r=E==null?void 0:E.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const A=await w.request({method:"eth_chainId"});R=IF(A)}const I={domain:T.host,address:C,statement:_,uri:T.href,version:"1",chainId:R,nonce:(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=MF(I),v=await w.request({method:"personal_sign",params:[AF(x),C]})}try{const{data:b,error:S}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:cr});if(S)throw S;if(!b||!b.session||!b.user){const _=new Li;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(Ne(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,r,s,i,a,u,d,f,m,h,g,x;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:S,wallet:_,statement:E,options:w}=t;let T;if(Kt())if(typeof _=="object")T=_;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))T=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const P=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const C=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),E?{statement:E}:null));let R;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")R=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)R=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)v=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),b=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${P.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((f=w==null?void 0:w.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(m=w==null?void 0:w.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const C=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=C}}try{const{data:S,error:_}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:qo(b)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:cr});if(_)throw _;if(!S||!S.session||!S.user){const E=new Li;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ne(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Do(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new eF;const{data:i,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cr});if(await qt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const u=new Li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,u=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Li;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:u,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await $i(this.storage,this.storageKey));const{error:h}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:m}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new ld("You must provide either an email or phone number.")}catch(u){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:u}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:cr});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,f=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $i(this.storage,this.storageKey));const f=await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:CF});return!((i=f.data)===null||i===void 0)&&i.url&&Kt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Pn;const{error:s}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:u}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u})}throw new ld("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Do(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Im:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Do(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Fm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=wF(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zs}):await this._useSession(async n=>{var r,s,i;const{data:a,error:u}=n;if(u)throw u;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zs})})}catch(n){if(Ne(n))return Am(n)&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pn;const a=s.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await $i(this.storage,this.storageKey));const{data:f,error:m}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:a.access_token,xform:Zs});if(m)throw m;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=ud(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:u}=n;if(u)throw u;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Pn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Kt())throw new cd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bw("No code detected.");const{data:E,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:u,expires_at:d,token_type:f}=t;if(!i||!u||!a||!f)throw new cd("No session defined in URL");const m=Math.round(Date.now()/1e3),h=parseInt(u);let g=m+h;d&&(g=parseInt(d));const x=g-m;x*1e3<=Qi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const v=g-h;m-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,m):m-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,m);const{data:b,error:S}=await this._getUser(i);if(S)throw S;const _={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:a,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Do(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Am(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:u}=await this.admin.signOut(a,t);if(u&&!(Q8(u)&&(u.status===404||u.status===401||u.status===403)||Am(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=aF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await $i(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,u,d,f,m;const{data:h,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:u,token:d,access_token:f,nonce:m}=t,h=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cr}),{data:g,error:x}=h;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Li}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(s){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dF(async s=>(s>0&&await uF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Mm(i)&&Date.now()+a-r<Qi})}catch(r){if(this._debug(n,"error",r),Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Do(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Do(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Zi(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Fm()}else if(s&&!s.user&&!s.user){const a=await Do(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await qt(this.storage,this.storageKey+"-user"),await Zi(this.storage,this.storageKey,s)):s.user=Fm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Im;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Im}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Mm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(s.access_token);!u&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wf;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Pn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(s,"error",i),Ne(i)){const a={data:null,error:i};return Mm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){i.push(d)}});if(await Promise.all(a),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Cw(s);await Zi(this.storage,this.storageKey,i)}else{const s=Cw(n);await Zi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qt(this.storage,this.storageKey),await qt(this.storage,this.storageKey+"-code-verifier"),await qt(this.storage,this.storageKey+"-user"),this.userStorage&&await qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Qi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qi}ms, refresh threshold is ${Vg} ticks`),s<=Vg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await $i(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BF(t.webauthn.credential_response):VF(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:LF(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:$F(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:x}=ud(t);let v=null;x.aal&&(v=x.aal);let b=v;const{data:{user:S},error:_}=await this.getUser(t);if(_)return this._returnResult({data:null,error:_});((r=(n=S==null?void 0:S.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const w=x.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:w},error:null}}catch(x){if(Ne(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ud(a.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pn})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pn});const a=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&Kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pn});const a=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&Kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pn})})}catch(t){if(Ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pn})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+Y8>s)return r;const{data:i,error:a}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:v}=await this.getSession();if(v||!x.session)return this._returnResult({data:null,error:v});r=x.session.access_token}const{header:s,payload:i,signature:a,raw:{header:u,payload:d}}=ud(r);n!=null&&n.allowExpired||xF(i.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:i,header:s,signature:a},error:null}}const m=vF(s.alg),h=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,h,a,oF(`${u}.${d}`)))throw new Hg("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}}lc.nextInstanceID={};const JF=lc,QF="2.94.1";let Ol="";typeof Deno<"u"?Ol="deno":typeof document<"u"?Ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ol="react-native":Ol="node";const ZF={"X-Client-Info":`supabase-js-${Ol}/${QF}`},eD={headers:ZF},tD={schema:"public"},nD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rD={};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function sD(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oD(e){var t=sD(e,"string");return cc(t)=="symbol"?t:t+""}function iD(e,t,n){return(t=oD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(r){iD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const aD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lD=()=>Headers,cD=(e,t,n)=>{const r=aD(n),s=lD();return async(i,a)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new s(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(i,mt(mt({},a),{},{headers:f}))}};function uD(e){return e.endsWith("/")?e:e+"/"}function dD(e,t){var n,r;const{db:s,auth:i,realtime:a,global:u}=e,{db:d,auth:f,realtime:m,global:h}=t,g={db:mt(mt({},d),s),auth:mt(mt({},f),i),realtime:mt(mt({},m),a),storage:{},global:mt(mt(mt({},h),u),{},{headers:mt(mt({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function fD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hD=class extends JF{constructor(e){super(e)}},pD=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=fD(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:tD,realtime:rD,auth:mt(mt({},nD),{},{storageKey:a}),global:eD},d=dD(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=cD(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Q4(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new H8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new U4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:u,debug:d,throwOnError:f},m,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hD({url:this.authUrl.href,headers:mt(mt({},g),m),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:u,debug:d,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new m8(this.realtimeUrl.href,mt(mt({},e),{},{params:mt(mt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const mD=(e,t,n)=>new pD(e,t,n);function gD(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}gD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yn="uvqbmlnavztzobfaiqao",Fe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2cWJtbG5hdnp0em9iZmFpcWFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzMTgzMzgsImV4cCI6MjA4Mzg5NDMzOH0.jJKJ3_V9GgKu33o31KAHR5NKDURhrqy6Hvj8CoJB4qc",Oo=mD(`https://${Yn}.supabase.co`,Fe),e5=k.createContext(void 0);function yD({children:e}){const[t,n]=k.useState(null),[r,s]=k.useState(null),[i,a]=k.useState(!0);k.useEffect(()=>{u();const{data:{subscription:b}}=Oo.auth.onAuthStateChange(async(S,_)=>{console.log("Auth state changed:",S),S==="TOKEN_REFRESHED"||S==="SIGNED_IN"?(console.log("Token refreshed or user signed in, updating token"),_!=null&&_.access_token&&await d(_.access_token)):S==="SIGNED_OUT"&&(console.log("User signed out"),n(null),s(null))});return()=>{b.unsubscribe()}},[]);const u=async()=>{try{const{data:{session:b}}=await Oo.auth.getSession();b!=null&&b.access_token&&await d(b.access_token)}catch(b){console.error("Error checking user session:",b)}finally{a(!1)}},d=async b=>{var S,_,E;try{console.log("=== FRONTEND: Fetching user role ==="),console.log("Token length:",b==null?void 0:b.length),console.log("Token preview:",(b==null?void 0:b.substring(0,20))+"...");const{data:{user:w},error:T}=await Oo.auth.getUser(b);if(w&&!T){console.log("=== FRONTEND: Got user from Supabase directly ==="),console.log("User ID:",w.id),console.log("User email:",w.email),console.log("User metadata:",w.user_metadata),console.log("Role from metadata:",(S=w.user_metadata)==null?void 0:S.role);const C=((_=w.user_metadata)==null?void 0:_.role)||"user",R=JSON.parse(localStorage.getItem("balemoo_demo_user_ids")||"{}");R[C]=w.id,localStorage.setItem("balemoo_demo_user_ids",JSON.stringify(R)),n({id:w.id,email:w.email||"",role:C,name:(E=w.user_metadata)==null?void 0:E.name}),s(b);return}console.log("Falling back to server endpoint...");const P=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/user/role`,{headers:{Authorization:`Bearer ${b}`}});if(console.log("Response status:",P.status),P.ok){const C=await P.json();console.log("=== FRONTEND: User data received from server ==="),console.log("Full response:",C),console.log("Role:",C.role),console.log("Email:",C.email),console.log("Name:",C.name);const R=JSON.parse(localStorage.getItem("balemoo_demo_user_ids")||"{}");R[C.role]=C.userId,localStorage.setItem("balemoo_demo_user_ids",JSON.stringify(R)),n({id:C.userId,email:C.email,role:C.role,name:C.name}),s(b)}else{const C=await P.text();console.error("Failed to fetch user role, status:",P.status),console.error("Error response:",C)}}catch(w){console.error("Error fetching user role:",w)}},f=async(b,S)=>{var _;try{const{data:E,error:w}=await Oo.auth.signInWithPassword({email:b,password:S});if(w)throw w;(_=E.session)!=null&&_.access_token&&await d(E.session.access_token)}catch(E){throw console.error("Sign in error:",E),new Error(E.message||"Failed to sign in")}},m=f,h=async(b,S,_)=>{var E;try{const{data:w,error:T}=await Oo.auth.signUp({email:b,password:S,options:{data:{name:_}}});if(T)throw T;(E=w.session)!=null&&E.access_token&&await d(w.session.access_token)}catch(w){throw console.error("Sign up error:",w),new Error(w.message||"Failed to sign up")}},g=async()=>{try{await Oo.auth.signOut(),n(null),s(null)}catch(b){console.error("Sign out error:",b)}},x=g,v=async()=>{var b;try{const{data:S,error:_}=await Oo.auth.refreshSession();if(_)throw _;if((b=S.session)!=null&&b.access_token)return await d(S.session.access_token),S.session.access_token}catch(S){throw console.error("Refresh session error:",S),new Error(S.message||"Failed to refresh session")}return null};return l.jsx(e5.Provider,{value:{user:t,accessToken:r,login:f,signIn:m,signUp:h,logout:g,signOut:x,refreshSession:v},children:e})}function Qt(){const e=k.useContext(e5);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function xD(){const[e,t]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(""),[a,u]=k.useState(!1),[d,f]=k.useState(!1),[m,h]=k.useState(!1),[g,x]=k.useState(""),[v,b]=k.useState(""),{signIn:S,signUp:_}=Qt(),E=Ot(),w=async()=>{x(""),b(""),h(!0);try{const P=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/init-demo-users`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`}}),C=await P.json();if(P.ok){const R=C.results.filter(A=>A.status==="created").length,I=C.results.filter(A=>A.status==="already_exists").length;R>0?b(` ${R} demo account(s) created successfully! You can now sign in or use Quick Demo Access.`):I>0&&b(" Demo accounts already exist! You can sign in with demo credentials or use Quick Demo Access.")}else throw new Error(C.error||"Failed to initialize demo users")}catch(P){x(P.message||"Failed to initialize demo accounts")}finally{h(!1)}},T=async P=>{P.preventDefault(),x(""),b(""),f(!0);try{a?await _(e,n,s):await S(e,n),E("/projects")}catch(C){let R=C.message||"Authentication failed";R.includes("Invalid login credentials")?R="Invalid credentials. Please check your email and password, or create a new account.":R.includes("already been registered")?(R="This email is already registered. Please sign in instead.",setTimeout(()=>{u(!1),x("")},2e3)):R.includes("Email not confirmed")&&(R="Please confirm your email address before signing in."),x(R);const I=document.querySelector("form");I==null||I.classList.add("shake"),setTimeout(()=>I==null?void 0:I.classList.remove("shake"),500)}finally{f(!1)}};return l.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center px-6",style:{background:`
          radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
          radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
          radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
          linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
        `},children:[l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:"w-full max-w-md",children:l.jsxs("div",{className:"rounded-3xl p-8 backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)"},children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2rem",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a"},children:"Balemoo"}),l.jsx("p",{className:"mt-2",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:400,color:"#6b6b6b"},children:a?"Create your account":"Welcome back"})]}),g&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 rounded-lg",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#dc2626"},children:g})}),v&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 rounded-lg",style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#22c55e"},children:v})}),l.jsxs("form",{onSubmit:T,className:"space-y-5",children:[a&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#1a1a1a"},className:"block mb-2",children:"Name"}),l.jsx("input",{id:"name",type:"text",value:s,onChange:P=>i(P.target.value),required:a,className:"w-full px-4 py-3 rounded-xl transition-all duration-300",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(0, 0, 0, 0.1)",outline:"none"},onFocus:P=>{P.target.style.border="1px solid rgba(0, 0, 0, 0.3)"},onBlur:P=>{P.target.style.border="1px solid rgba(0, 0, 0, 0.1)"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#1a1a1a"},className:"block mb-2",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:P=>t(P.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl transition-all duration-300",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(0, 0, 0, 0.1)",outline:"none"},onFocus:P=>{P.target.style.border="1px solid rgba(0, 0, 0, 0.3)"},onBlur:P=>{P.target.style.border="1px solid rgba(0, 0, 0, 0.1)"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#1a1a1a"},className:"block mb-2",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:n,onChange:P=>r(P.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl transition-all duration-300",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(0, 0, 0, 0.1)",outline:"none"},onFocus:P=>{P.target.style.border="1px solid rgba(0, 0, 0, 0.3)"},onBlur:P=>{P.target.style.border="1px solid rgba(0, 0, 0, 0.1)"}})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 rounded-full transition-all duration-700",style:{background:d?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.85)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:600,color:"#ffffff",border:"none",cursor:d?"not-allowed":"pointer",transform:"scale(1)"},onMouseEnter:P=>{d||(P.currentTarget.style.transform="scale(1.03)",P.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)")},onMouseLeave:P=>{P.currentTarget.style.transform="scale(1)",P.currentTarget.style.boxShadow="none"},children:d?"Please wait...":a?"Sign Up":"Log In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>{u(!a),x("")},className:"transition-opacity duration-300 hover:opacity-60",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#6b6b6b",background:"none",border:"none",cursor:"pointer"},children:a?"Already have an account? Log in":"Don't have an account? Sign up"})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{onClick:()=>E("/demo"),className:"transition-opacity duration-300 hover:opacity-60",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#8b5cf6",background:"none",border:"none",cursor:"pointer"},children:"Try Quick Demo Access "})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{onClick:w,disabled:m,className:"transition-opacity duration-300 hover:opacity-60",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#8b5cf6",background:"none",border:"none",cursor:m?"not-allowed":"pointer"},children:m?"Initializing...":"Initialize Demo Users"})})]})}),l.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-10px); }
          75% { transform: translateX(10px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})}const t5=k.createContext(void 0);function vD({children:e}){const{user:t,accessToken:n}=Qt(),[r,s]=k.useState([]),[i,a]=k.useState(null),[u,d]=k.useState(null),[f,m]=k.useState(!0),[h,g]=k.useState(null),x=P=>{a(P),P&&P.agendas&&P.agendas.length>0?d(P.agendas[0]):d(null)},v=async()=>{if(!t||!n){m(!1);return}try{m(!0),g(null);const P=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/projects`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!P.ok){const I=await P.json();throw new Error(I.error||"Failed to fetch projects")}const R=(await P.json()).projects||[];if(s(R),i){const I=R.find(A=>A.id===i.id);I&&x(I)}}catch(P){console.error("Error fetching projects:",P),g(P.message||"Failed to fetch projects"),s([])}finally{m(!1)}};k.useEffect(()=>{t&&n?v():(s([]),m(!1))},[t,n]);const b=async P=>{if(!t||!n)throw new Error("User not authenticated");try{const C=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/projects`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(P)});if(!C.ok){const I=await C.json();throw new Error(I.error||"Failed to create project")}const R=await C.json();return await v(),R.project}catch(C){throw console.error("Error creating project:",C),C}},S=async(P,C)=>{if(!t||!n)throw new Error("User not authenticated");try{console.log("=== UPDATE PROJECT REQUEST (Frontend) ==="),console.log("Project ID:",P),console.log("Updates:",JSON.stringify(C,null,2));const R=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/projects/${P}`,{method:"PUT",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(C)});if(console.log("Response status:",R.status),!R.ok){const A=await R.json();throw console.error("Error response:",A),new Error(A.error||"Failed to update project")}const I=await R.json();console.log("Success response:",I),await v()}catch(R){throw console.error("Error updating project:",R),R}},_=async P=>{if(!t||!n)throw new Error("User not authenticated");try{const C=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/projects/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!C.ok){const R=await C.json();throw new Error(R.error||"Failed to delete project")}await v()}catch(C){throw console.error("Error deleting project:",C),C}},E=async()=>{await v()},w=(P,C,R)=>{const I=r.map(A=>{if(A.id===P){const U=A.agendas.map($=>$.id===C?{...$,...R}:$);return{...A,agendas:U}}return A});s(I)},T=P=>{var C,R;if(!t)return!1;if(t.role==="admin")return!0;if(P.isActive===!1)return!1;if(P.team){if(t.role==="staff")return((C=P.team.staff)==null?void 0:C.includes(t.id))||!1;if(t.role==="user")return P.team.client===t.id}return((R=P.assignedUsers)==null?void 0:R.includes(t.id))||!1};return l.jsx(t5.Provider,{value:{projects:r,selectedProject:i,setSelectedProject:x,selectedAgenda:u,setSelectedAgenda:d,isProjectAccessible:T,loading:f,error:h,createProject:b,updateProject:S,deleteProject:_,refreshProjects:E,updateAgenda:w},children:e})}function kr(){const e=k.useContext(t5);if(e===void 0)throw new Error("useProject must be used within a ProjectProvider");return e}const bD=[{id:"kabar-in",title:"kabar.in",description:"Guest CRM, personalized QR generation and management",icon:l.jsx(ei,{className:"w-12 h-12"}),route:"/kabar-in",requiredRoles:["admin"]},{id:"check-in",title:"check.in",description:"QR-based fast guest check-in system",icon:l.jsx(pa,{className:"w-12 h-12"}),route:"/check-in",requiredRoles:["admin","staff"]},{id:"monitor-in",title:"monitor.in",description:"Guest analytics and monitoring dashboard",icon:l.jsx(ay,{className:"w-12 h-12"}),route:"/monitor-in",requiredRoles:["admin","staff","user"]}];function wD(){const{user:e,signOut:t}=Qt(),{project:n,setProject:r}=kr(),s=Ot(),[i,a]=k.useState(null),[u,d]=k.useState(null),f=g=>{e&&g.requiredRoles.includes(e.role)?s(g.route):(d(g.id),setTimeout(()=>d(null),500))},m=async()=>{await t(),s("/")},h=g=>e&&g.requiredRoles.includes(e.role);return l.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center px-6 py-12",style:{background:`
          radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
          radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
          radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
          linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
        `},children:[l.jsx(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:"w-full max-w-6xl mb-12",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(2rem, 3vw, 2.5rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a"},children:["Welcome back, ",(e==null?void 0:e.name)||"User"]}),l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:500,color:"#6b6b6b",marginTop:"0.5rem"},children:["Role: ",l.jsx("span",{style:{color:(e==null?void 0:e.role)==="admin"?"#8b5cf6":(e==null?void 0:e.role)==="staff"?"#3b82f6":"#10b981",fontWeight:600,textTransform:"uppercase"},children:(e==null?void 0:e.role)||"unknown"})," | Email: ",e==null?void 0:e.email]})]}),l.jsx("button",{onClick:m,className:"px-6 py-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a"},onMouseEnter:g=>{g.currentTarget.style.background="rgba(0, 0, 0, 0.06)"},onMouseLeave:g=>{g.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:"Sign Out"})]})}),l.jsx("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6",children:bD.map((g,x)=>{const v=h(g),b=i===g.id,S=u===g.id;return l.jsxs(ae.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2+x*.1,ease:[.25,.1,.25,1]},onClick:()=>f(g),onMouseEnter:()=>a(g.id),onMouseLeave:()=>a(null),className:"relative rounded-3xl p-8 backdrop-blur-xl transition-all duration-700",style:{background:v?"rgba(255, 255, 255, 0.7)":"rgba(200, 200, 200, 0.3)",border:`1px solid ${v?"rgba(255, 255, 255, 0.3)":"rgba(150, 150, 150, 0.2)"}`,boxShadow:b&&v?"0 12px 40px rgba(0, 0, 0, 0.15)":"0 8px 32px rgba(0, 0, 0, 0.08)",transform:b&&v?"translateY(-8px)":"translateY(0)",cursor:v?"pointer":"not-allowed",opacity:v?1:.5,filter:v?"none":"grayscale(1)",animation:S?"shake 0.5s ease-in-out":"none"},children:[!v&&l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(gr,{className:"w-6 h-6",style:{color:"#9ca3af"}})}),l.jsx("div",{className:"mb-6",style:{color:v?"#1a1a1a":"#9ca3af"},children:g.icon}),l.jsx("h3",{className:"mb-3",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,letterSpacing:"-0.01em",color:v?"#1a1a1a":"#9ca3af"},children:g.title}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:400,lineHeight:1.6,color:v?"#6b6b6b":"#9ca3af"},children:g.description}),!v&&b&&l.jsx(ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-4 py-2 rounded-lg whitespace-nowrap",style:{background:"rgba(0, 0, 0, 0.9)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#ffffff"},children:"You do not have access to this feature"})]},g.id)})}),l.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
          20%, 40%, 60%, 80% { transform: translateX(2px); }
        }
        .shake-card {
          animation: shake 0.5s ease-in-out;
        }
      `})]})}const SD=[{icon:H3,label:"Dashboard",path:"/kabar-in",color:"#8b5cf6"},{icon:zf,label:"Template Management",path:"/kabar-in/templates",color:"#06b6d4"},{icon:Jt,label:"Guest List",path:"/kabar-in/guests",badge:24,color:"#10b981"},{icon:$f,label:"Chatflow Studio",path:"/kabar-in/chatflow",color:"#f59e0b"},{icon:a4,label:"Operation Center",path:"/kabar-in/operation",badge:5,color:"#3b82f6"},{icon:ei,label:"Messages",path:"/kabar-in/messages",badge:3,color:"#ec4899"},{icon:Lf,label:"Analytics",path:"/kabar-in/analytics",color:"#6366f1"},{icon:Pc,label:"Settings",path:"/kabar-in/settings",color:"#64748b"}];function kD({children:e}){const t=Ot(),n=qr(),[r,s]=k.useState(!1),[i,a]=k.useState(null),u=d=>d==="/kabar-in"?n.pathname===d:n.pathname.startsWith(d);return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",paddingTop:"80px"},children:[l.jsxs(ae.div,{initial:!1,animate:{width:r?"80px":"280px"},transition:{duration:.3,ease:[.4,0,.2,1]},style:{position:"fixed",left:0,top:"80px",bottom:0,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRight:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"4px 0 24px rgba(0, 0, 0, 0.08)",zIndex:100,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:r?"1.5rem 1rem":"1.5rem 1.5rem",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx(io,{mode:"wait",children:!r&&l.jsxs(ae.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:700,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"kabar.in"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280",marginTop:"0.125rem"},children:"Guest CRM Platform"})]})}),l.jsx("button",{onClick:()=>s(!r),style:{width:"32px",height:"32px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.background="rgba(139, 92, 246, 0.2)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(139, 92, 246, 0.1)"},children:r?l.jsx(Nj,{size:18,style:{color:"#8b5cf6"}}):l.jsx(ly,{size:18,style:{color:"#8b5cf6"}})})]}),l.jsx("div",{style:{padding:"1rem 0.75rem",overflowY:"auto",height:"calc(100% - 100px)"},children:SD.map((d,f)=>{const m=d.icon,h=u(d.path),g=i===d.path;return l.jsxs(ae.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:f*.05},onClick:()=>t(d.path),onMouseEnter:()=>a(d.path),onMouseLeave:()=>a(null),style:{width:"100%",display:"flex",alignItems:"center",gap:r?"0":"12px",padding:r?"12px":"12px 16px",marginBottom:"6px",background:h?"linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(99, 102, 241, 0.1) 100%)":g?"rgba(0, 0, 0, 0.03)":"transparent",border:h?"1px solid rgba(139, 92, 246, 0.3)":"1px solid transparent",borderRadius:"14px",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",justifyContent:r?"center":"flex-start",transform:g?"translateX(4px)":"translateX(0)"},children:[h&&l.jsx(ae.div,{layoutId:"activeIndicator",style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"4px",height:"24px",background:"linear-gradient(180deg, #8b5cf6 0%, #6366f1 100%)",borderRadius:"0 4px 4px 0"},transition:{type:"spring",stiffness:300,damping:30}}),l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:h||g?`linear-gradient(135deg, ${d.color}20 0%, ${d.color}10 100%)`:"transparent",border:`1px solid ${d.color}${h?"40":"00"}`,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:l.jsx(m,{size:20,style:{color:h?d.color:"#6b7280"}})}),l.jsx(io,{mode:"wait",children:!r&&l.jsxs(ae.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},style:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:1,overflow:"hidden"},children:[l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:h?600:500,color:h?"#1f2937":"#6b7280",whiteSpace:"nowrap"},children:d.label}),d.badge&&l.jsx(ae.div,{initial:{scale:0},animate:{scale:1},style:{minWidth:"24px",height:"24px",borderRadius:"12px",background:d.color,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:700,color:"#ffffff"},children:d.badge})})]})}),r&&g&&l.jsxs(ae.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},style:{position:"absolute",left:"100%",marginLeft:"12px",padding:"8px 16px",background:"rgba(0, 0, 0, 0.9)",borderRadius:"8px",whiteSpace:"nowrap",zIndex:1e3,pointerEvents:"none"},children:[l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#ffffff"},children:d.label}),l.jsx("div",{style:{position:"absolute",left:"-4px",top:"50%",transform:"translateY(-50%) rotate(45deg)",width:"8px",height:"8px",background:"rgba(0, 0, 0, 0.9)"}})]})]},d.path)})})]}),l.jsx(ae.div,{initial:!1,animate:{marginLeft:r?"80px":"280px"},transition:{duration:.3,ease:[.4,0,.2,1]},style:{flex:1,minHeight:"calc(100vh - 80px)",width:"100%"},children:e})]})}const n5=k.createContext(void 0);function jD({children:e}){const{user:t,accessToken:n}=Qt(),[r,s]=k.useState([]),[i,a]=k.useState(!1),[u,d]=k.useState(null),f=`https://${Yn}.supabase.co/functions/v1/make-server-deeab278`,m=async E=>{if(!t||!n||t.role!=="admin"){s([]);return}try{a(!0),d(null);const w=new URLSearchParams;E!=null&&E.status&&w.append("status",E.status),E!=null&&E.projectId&&w.append("projectId",E.projectId);const T=await fetch(`${f}/templates?${w.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!T.ok){const C=await T.json();throw new Error(C.error||"Failed to fetch templates")}const P=await T.json();s(P.templates||[])}catch(w){console.error("Error fetching templates:",w),d(w.message||"Failed to fetch templates"),s([])}finally{a(!1)}},h=async E=>{if(!t||!n||t.role!=="admin")return null;try{const w=await fetch(`${f}/templates/${E}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!w.ok){const P=await w.json();throw new Error(P.error||"Failed to fetch template")}return(await w.json()).template}catch(w){return console.error("Error fetching template:",w),null}},g=async E=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{console.log("Creating template with input:",E);const w=await fetch(`${f}/templates`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(E)});if(!w.ok){const P=await w.json();console.error("Backend validation errors:",P);const C=P.errors?`Validation failed: ${P.errors.join(", ")}`:P.error||"Failed to create template";throw new Error(C)}const T=await w.json();return await m(),T.template}catch(w){throw console.error("Error creating template:",w),w}},x=async(E,w)=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const T=await fetch(`${f}/templates/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(w)});if(!T.ok){const C=await T.json();throw new Error(C.error||"Failed to update template")}const P=await T.json();return await m(),P.template}catch(T){throw console.error("Error updating template:",T),T}},v=async E=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const w=await fetch(`${f}/templates/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!w.ok){const T=await w.json();throw new Error(T.error||"Failed to delete template")}await m()}catch(w){throw console.error("Error deleting template:",w),w}},b=async E=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const w=await fetch(`${f}/templates/${E}/submit`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!w.ok){const P=await w.json();throw new Error(P.error||"Failed to submit template")}const T=await w.json();return _(E),T.template}catch(w){throw console.error("Error submitting template:",w),w}},S=async(E,w)=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const T=await fetch(`${f}/templates/${E}/reject`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({reason:w})});if(!T.ok){const C=await T.json();throw new Error(C.error||"Failed to reject template")}const P=await T.json();return await m(),P.template}catch(T){throw console.error("Error rejecting template:",T),T}},_=E=>{const w=setInterval(async()=>{try{const T=await h(E);if(!T){clearInterval(w);return}s(P=>P.map(C=>C.id===E?T:C)),T.status!=="PENDING"&&clearInterval(w)}catch(T){console.error("Error polling template:",T),clearInterval(w)}},1e3);setTimeout(()=>clearInterval(w),1e4)};return k.useEffect(()=>{t&&n&&t.role==="admin"?m():s([])},[t,n]),l.jsx(n5.Provider,{value:{templates:r,loading:i,error:u,fetchTemplates:m,getTemplateById:h,createTemplate:g,updateTemplate:x,deleteTemplate:v,submitTemplate:b,simulateReject:S},children:e})}function Ma(){const e=k.useContext(n5);if(e===void 0)throw new Error("useTemplates must be used within a TemplateProvider");return e}const Hs="https://uvqbmlnavztzobfaiqao.supabase.co/functions/v1/make-server-deeab278",r5=k.createContext(void 0),Ac=()=>{const e=k.useContext(r5);if(!e)throw new Error("useGuests must be used within a GuestProvider");return e},CD=({children:e})=>{const{user:t,accessToken:n}=Qt(),{selectedProject:r}=kr(),[s,i]=k.useState([]),[a,u]=k.useState(!1),[d,f]=k.useState(null),[m,h]=k.useState(null),[g,x]=k.useState({search:"",category:"all",rsvp_status:"all",invitation_type:"all"}),[v,b]=k.useState({field:"created_at",direction:"desc"}),S=async()=>{if(!t||t.role!=="admin"||!r||!n){i([]);return}try{u(!0),f(null);const U=await fetch(`${Hs}/guests?projectId=${r.id}`,{headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!U.ok){const H=await U.json();throw new Error(H.error||"Failed to fetch guests")}const $=await U.json();i($.guests||[])}catch(U){const $=U instanceof Error?U.message:"Failed to fetch guests";f($),console.error("Error fetching guests:",U)}finally{u(!1)}},_=async()=>{if(!t||t.role!=="admin"||!r||!n){h(null);return}try{const U=await fetch(`${Hs}/guests/stats?projectId=${r.id}`,{headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!U.ok)throw new Error("Failed to fetch guest statistics");const $=await U.json();h($.stats)}catch(U){console.error("Error fetching guest stats:",U)}},E=async U=>{if(!t||t.role!=="admin"||!r||!n)throw new Error("Unauthorized");const $=await fetch(`${Hs}/guests`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({projectId:r.id,...U})});if(!$.ok){const V=await $.json();throw new Error(V.error||"Failed to create guest")}const Y=(await $.json()).guest;return i(V=>[...V,Y]),await _(),Y},w=async(U,$)=>{if(!t||t.role!=="admin"||!r||!n)throw new Error("Unauthorized");const H=await fetch(`${Hs}/guests/${U}`,{method:"PUT",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({projectId:r.id,...$})});if(!H.ok){const X=await H.json();throw new Error(X.error||"Failed to update guest")}const V=(await H.json()).guest;return i(X=>X.map(z=>z.id===U?V:z)),await _(),V},T=async U=>{if(!t||t.role!=="admin"||!r||!n)throw new Error("Unauthorized");const $=await fetch(`${Hs}/guests/${U}?projectId=${r.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!$.ok){const H=await $.json();throw new Error(H.error||"Failed to delete guest")}i(H=>H.filter(Y=>Y.id!==U)),await _()},P=async U=>{if(!t||t.role!=="admin"||!r||!n)throw new Error("Unauthorized");const $=await fetch(`${Hs}/guests/bulk`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({projectId:r.id,guests:U})});if(!$.ok){const Y=await $.json();throw new Error(Y.error||"Failed to import guests")}const H=await $.json();return H.success&&H.success.length>0&&(i(Y=>[...Y,...H.success]),await _()),{success:H.success||[],failed:H.failed||[]}},C=async U=>{if(!t||t.role!=="admin"||!r||!n)throw new Error("Unauthorized");const $=await fetch(`${Hs}/guests/${U}/checkin`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({projectId:r.id})});if(!$.ok){const V=await $.json();throw new Error(V.error||"Failed to check in guest")}const Y=(await $.json()).guest;return i(V=>V.map(X=>X.id===U?Y:X)),await _(),Y},R=async(U=!1)=>{if(!t||t.role!=="admin"||!r||!n)throw new Error("Unauthorized");try{u(!0),f(null);const $=`${Hs}/guests/seed?projectId=${r.id}${U?"&clear=true":""}`,H=await fetch($,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!H.ok){const X=await H.json();throw new Error(X.error||"Failed to seed guests")}const V=(await H.json()).guests||[];return await S(),await _(),V}catch($){const H=$ instanceof Error?$.message:"Failed to seed guests";throw f(H),$}finally{u(!1)}},I=pe.useMemo(()=>{let U=[...s];if(g.search){const $=g.search.toLowerCase();U=U.filter(H=>{var Y;return H.name.toLowerCase().includes($)||H.phone.includes($)||((Y=H.email)==null?void 0:Y.toLowerCase().includes($))||H.tags.some(V=>V.toLowerCase().includes($))})}return g.category&&g.category!=="all"&&(U=U.filter($=>$.category===g.category)),g.rsvp_status&&g.rsvp_status!=="all"&&(U=U.filter($=>$.rsvp_status===g.rsvp_status)),g.invitation_type&&g.invitation_type!=="all"&&(U=U.filter($=>$.invitation_type===g.invitation_type)),g.tags&&g.tags.length>0&&(U=U.filter($=>g.tags.some(H=>$.tags.includes(H)))),g.has_plus_one!==void 0&&(U=U.filter($=>$.plus_one===g.has_plus_one)),g.checked_in!==void 0&&(U=U.filter($=>g.checked_in?!!$.checked_in_at:!$.checked_in_at)),U.sort(($,H)=>{let Y,V;switch(v.field){case"name":Y=$.name.toLowerCase(),V=H.name.toLowerCase();break;case"created_at":Y=new Date($.created_at).getTime(),V=new Date(H.created_at).getTime();break;case"rsvp_at":Y=$.rsvp_at?new Date($.rsvp_at).getTime():0,V=H.rsvp_at?new Date(H.rsvp_at).getTime():0;break;case"table_number":Y=$.table_number||"",V=H.table_number||"";break;default:return 0}return Y<V?v.direction==="asc"?-1:1:Y>V?v.direction==="asc"?1:-1:0}),U},[s,g,v]);k.useEffect(()=>{t&&t.role==="admin"&&r&&n?(S(),_()):(i([]),h(null))},[t,r,n]);const A={guests:s,loading:a,error:d,stats:m,fetchGuests:S,fetchGuestStats:_,createGuest:E,updateGuest:w,deleteGuest:T,bulkImportGuests:P,checkInGuest:C,seedSampleGuests:R,filteredGuests:I,setFilters:x,setSortOptions:b,filters:g,sortOptions:v};return l.jsx(r5.Provider,{value:A,children:e})};function dd({icon:e,label:t,value:n,change:r,changeType:s,color:i,delay:a}){return l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a},className:"rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"120px",height:"120px",background:`linear-gradient(135deg, ${i}15 0%, ${i}05 100%)`,borderRadius:"0 0 0 100%"}}),l.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#6b7280",marginBottom:"0.5rem"},children:t}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2rem",fontWeight:700,color:"#1f2937",letterSpacing:"-0.02em"},children:n}),r&&l.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[l.jsx(Lf,{size:14,style:{color:s==="positive"?"#10b981":s==="negative"?"#ef4444":"#6b7280"}}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:s==="positive"?"#10b981":s==="negative"?"#ef4444":"#6b7280"},children:r})]})]}),l.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:`linear-gradient(135deg, ${i}20 0%, ${i}10 100%)`,border:`1px solid ${i}30`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(e,{size:28,style:{color:i}})})]})]})}function fd({icon:e,title:t,description:n,time:r,color:s}){return l.jsxs("div",{className:"flex items-start gap-3 pb-4 mb-4",style:{borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:`linear-gradient(135deg, ${s}20 0%, ${s}10 100%)`,border:`1px solid ${s}30`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(e,{size:18,style:{color:s}})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937",marginBottom:"0.25rem"},children:t}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:n})]}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#9ca3af",whiteSpace:"nowrap"},children:r})]})}function _D(){const{templates:e}=Ma(),{stats:t}=Ac(),{user:n}=Qt(),r=e.length,s=e.filter(f=>f.status==="APPROVED").length,i=e.filter(f=>f.status==="PENDING").length,a=e.filter(f=>f.status==="DRAFT").length,u=(t==null?void 0:t.total)||0,d=(t==null?void 0:t.confirmed)||0;return l.jsx("div",{style:{padding:"2rem",minHeight:"100%"},children:l.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[l.jsxs(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[l.jsxs("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2rem",fontWeight:700,color:"#ffffff",marginBottom:"0.5rem",letterSpacing:"-0.02em"},children:["Welcome back, ",(n==null?void 0:n.name)||"Admin","! "]}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:"Here's what's happening with your WhatsApp CRM today"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[l.jsx(dd,{icon:ei,label:"Total Templates",value:r,change:"+12% from last month",changeType:"positive",color:"#8b5cf6",delay:0}),l.jsx(dd,{icon:ao,label:"Approved",value:s,change:"+8% from last month",changeType:"positive",color:"#10b981",delay:.1}),l.jsx(dd,{icon:Ur,label:"Pending Review",value:i,change:i>0?"Awaiting META approval":"All clear",changeType:"neutral",color:"#f59e0b",delay:.2}),l.jsx(dd,{icon:Jt,label:"Total Guests",value:u,change:d>0?`${d} confirmed`:"No guests yet",changeType:d>0?"positive":"neutral",color:"#06b6d4",delay:.3})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[l.jsxs(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",padding:"1.5rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:600,color:"#1f2937",marginBottom:"1.5rem"},children:"Recent Activity"}),l.jsx(fd,{icon:ao,title:"Template Approved",description:"'event_invitation' approved by META",time:"2 hours ago",color:"#10b981"}),l.jsx(fd,{icon:Rc,title:"Message Sent",description:"124 WhatsApp messages delivered successfully",time:"5 hours ago",color:"#06b6d4"}),l.jsx(fd,{icon:Jt,title:"New Guests Added",description:"42 guests imported from CSV",time:"1 day ago",color:"#8b5cf6"}),l.jsx(fd,{icon:Fg,title:"Chatflow Activated",description:"'Welcome Flow' automation started",time:"2 days ago",color:"#f59e0b"})]}),l.jsxs(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",padding:"1.5rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:600,color:"#1f2937",marginBottom:"1.5rem"},children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(hd,{icon:ei,label:"Create New Template",description:"Design a WhatsApp message template",color:"#8b5cf6",onClick:()=>window.location.href="/kabar-in/templates"}),l.jsx(hd,{icon:Jt,label:"Add Guests",description:"Import or add new guests to your list",color:"#10b981",onClick:()=>window.location.href="/kabar-in/guests"}),l.jsx(hd,{icon:Fg,label:"Build Chatflow",description:"Create automated conversation flows",color:"#f59e0b",onClick:()=>window.location.href="/kabar-in/chatflow"}),l.jsx(hd,{icon:uy,label:"View Analytics",description:"Check your campaign performance",color:"#06b6d4",onClick:()=>window.location.href="/kabar-in/analytics"})]})]})]}),a>0&&l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-6 rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",padding:"1.5rem"},children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#1f2937",marginBottom:"0.25rem"},children:["You have ",a," draft template",a!==1?"s":""]}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280"},children:"Complete and submit them to start using in your campaigns"})]}),l.jsx("button",{onClick:()=>window.location.href="/kabar-in/templates",style:{padding:"12px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ffffff",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"},children:"Review Drafts"})]})})]})})}function hd({icon:e,label:t,description:n,color:r,onClick:s}){const[i,a]=pe.useState(!1);return l.jsxs("button",{onClick:s,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:i?"rgba(0, 0, 0, 0.02)":"transparent",border:"1px solid rgba(0, 0, 0, 0.06)",borderRadius:"16px",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:i?"translateX(4px)":"translateX(0)",textAlign:"left"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:`linear-gradient(135deg, ${r}20 0%, ${r}10 100%)`,border:`1px solid ${r}30`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(e,{size:22,style:{color:r}})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937",marginBottom:"0.125rem"},children:t}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:n})]})]})}const ED={DRAFT:{bg:"rgba(156, 163, 175, 0.1)",border:"rgba(156, 163, 175, 0.2)",text:"#6b7280",icon:"#9ca3af",label:"Draft",Icon:zf},PENDING:{bg:"rgba(251, 191, 36, 0.1)",border:"rgba(251, 191, 36, 0.2)",text:"#d97706",icon:"#f59e0b",label:"Pending",Icon:Ur},APPROVED:{bg:"rgba(16, 185, 129, 0.1)",border:"rgba(16, 185, 129, 0.2)",text:"#059669",icon:"#10b981",label:"Approved",Icon:ao},REJECTED:{bg:"rgba(239, 68, 68, 0.1)",border:"rgba(239, 68, 68, 0.2)",text:"#dc2626",icon:"#ef4444",label:"Rejected",Icon:lo}},TD={sm:{padding:"4px 10px",fontSize:"0.75rem",iconSize:14,gap:"4px"},md:{padding:"6px 14px",fontSize:"0.875rem",iconSize:16,gap:"6px"},lg:{padding:"8px 16px",fontSize:"1rem",iconSize:18,gap:"8px"}};function s5({status:e,size:t="md"}){const n=ED[e],r=TD[t],s=n.Icon;return l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:r.gap,padding:r.padding,background:n.bg,border:`1px solid ${n.border}`,borderRadius:"12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:r.fontSize,fontWeight:600,color:n.text,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",transition:"all 0.2s ease"},children:[l.jsx(s,{size:r.iconSize,style:{color:n.icon}}),l.jsx("span",{children:n.label})]})}function ND({template:e,onView:t,onEdit:n,onDelete:r}){const[s,i]=k.useState(!1),a=e.status==="DRAFT"||e.status==="REJECTED",u=e.content.body.text.split(`
`).slice(0,2).join(" ").substring(0,120);return l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>t(e),className:"relative rounded-3xl backdrop-blur-xl cursor-pointer",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:s?"0 20px 60px rgba(0, 0, 0, 0.15)":"0 8px 32px rgba(0, 0, 0, 0.08)",transform:s?"scale(1.02)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",padding:"1.5rem"},children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("div",{className:"flex items-center justify-center rounded-2xl",style:{width:"48px",height:"48px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(99, 102, 241, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.2)"},children:l.jsx(zf,{size:24,style:{color:"#8b5cf6"}})}),l.jsx(s5,{status:e.status,size:"sm"})]}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,color:"#1f2937",marginBottom:"0.5rem",letterSpacing:"-0.01em"},children:e.name}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:500,color:"#6b7280",padding:"4px 10px",background:"rgba(99, 102, 241, 0.1)",border:"1px solid rgba(99, 102, 241, 0.2)",borderRadius:"8px"},children:e.category}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:500,color:"#6b7280",padding:"4px 10px",background:"rgba(156, 163, 175, 0.1)",border:"1px solid rgba(156, 163, 175, 0.2)",borderRadius:"8px"},children:e.language})]}),l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5",marginBottom:"1rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:[u,"..."]}),e.variables.length>0&&l.jsxs("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:500,color:"#8b5cf6",marginBottom:"1rem"},children:[e.variables.length," variable",e.variables.length!==1?"s":""]}),l.jsxs("div",{className:"flex items-center gap-2 transition-opacity duration-300",style:{opacity:s?1:0,pointerEvents:s?"auto":"none"},children:[l.jsxs("button",{onClick:d=>{d.stopPropagation(),t(e)},style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(99, 102, 241, 0.1)",border:"1px solid rgba(99, 102, 241, 0.2)",borderRadius:"10px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#6366f1",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.background="rgba(99, 102, 241, 0.2)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(99, 102, 241, 0.1)"},children:[l.jsx(uy,{size:16}),"View"]}),a&&n&&l.jsxs("button",{onClick:d=>{d.stopPropagation(),n(e)},style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"10px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#10b981",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.background="rgba(16, 185, 129, 0.2)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(16, 185, 129, 0.1)"},children:[l.jsx(gy,{size:16}),"Edit"]}),a&&r&&l.jsxs("button",{onClick:d=>{d.stopPropagation(),r(e)},style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"10px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#ef4444",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.background="rgba(239, 68, 68, 0.2)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(239, 68, 68, 0.1)"},children:[l.jsx(Ln,{size:16}),"Delete"]})]}),l.jsx("div",{style:{position:"absolute",bottom:"1rem",right:"1.5rem",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#9ca3af",opacity:s?0:1,transition:"opacity 0.3s ease"},children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})}function RD({templates:e,onView:t,onEdit:n,onDelete:r}){const[s,i]=k.useState(""),[a,u]=k.useState("ALL"),[d,f]=k.useState("date"),m=k.useMemo(()=>{let g=[...e];if(s){const x=s.toLowerCase();g=g.filter(v=>v.name.toLowerCase().includes(x)||v.body.toLowerCase().includes(x)||v.category.toLowerCase().includes(x))}return a!=="ALL"&&(g=g.filter(x=>x.status===a)),g.sort((x,v)=>d==="date"?new Date(v.createdAt).getTime()-new Date(x.createdAt).getTime():x.name.localeCompare(v.name)),g},[e,s,a,d]),h=k.useMemo(()=>({ALL:e.length,DRAFT:e.filter(g=>g.status==="DRAFT").length,PENDING:e.filter(g=>g.status==="PENDING").length,APPROVED:e.filter(g=>g.status==="APPROVED").length,REJECTED:e.filter(g=>g.status==="REJECTED").length}),[e]);return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-8 rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",padding:"1.5rem"},children:[l.jsxs("div",{className:"mb-4 relative",children:[l.jsx(ti,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",placeholder:"Search templates...",value:s,onChange:g=>i(g.target.value),style:{width:"100%",padding:"12px 16px 12px 48px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"16px",outline:"none",transition:"all 0.2s ease"},onFocus:g=>{g.currentTarget.style.borderColor="#8b5cf6",g.currentTarget.style.boxShadow="0 0 0 3px rgba(139, 92, 246, 0.1)"},onBlur:g=>{g.currentTarget.style.borderColor="rgba(209, 213, 219, 0.5)",g.currentTarget.style.boxShadow="none"}})]}),l.jsx("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:["ALL","DRAFT","PENDING","APPROVED","REJECTED"].map(g=>l.jsxs("button",{onClick:()=>u(g),style:{padding:"8px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:a===g?"#ffffff":"#6b7280",background:a===g?"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)":"rgba(156, 163, 175, 0.1)",border:a===g?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(156, 163, 175, 0.2)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:x=>{a!==g&&(x.currentTarget.style.background="rgba(156, 163, 175, 0.2)")},onMouseLeave:x=>{a!==g&&(x.currentTarget.style.background="rgba(156, 163, 175, 0.1)")},children:[g," (",h[g],")"]},g))}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(x4,{size:18,style:{color:"#6b7280"}}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280",marginRight:"8px"},children:"Sort by:"}),l.jsx("button",{onClick:()=>f("date"),style:{padding:"6px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:d==="date"?600:500,color:d==="date"?"#8b5cf6":"#6b7280",background:d==="date"?"rgba(139, 92, 246, 0.1)":"transparent",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},children:"Date"}),l.jsx("button",{onClick:()=>f("name"),style:{padding:"6px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:d==="name"?600:500,color:d==="name"?"#8b5cf6":"#6b7280",background:d==="name"?"rgba(139, 92, 246, 0.1)":"transparent",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},children:"Name"})]})]}),l.jsxs("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280",marginBottom:"1.5rem"},children:[m.length," template",m.length!==1?"s":""," found"]}),m.length>0?l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1.5rem"},children:m.map(g=>l.jsx(ND,{template:g,onView:t,onEdit:n,onDelete:r},g.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"4rem 2rem",textAlign:"center"},children:[l.jsx("div",{className:"flex items-center justify-center rounded-full mb-4",style:{width:"80px",height:"80px",background:"rgba(156, 163, 175, 0.1)",border:"1px solid rgba(156, 163, 175, 0.2)"},children:l.jsx(ti,{size:40,style:{color:"#9ca3af"}})}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"No templates found"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280"},children:s?"Try adjusting your search or filters":"Create your first template to get started"})]})]})}function by({template:e,sampleData:t={}}){var s,i,a,u,d;const n=f=>f?f.replace(/\{\{(\w+)\}\}/g,(m,h)=>t[h]||`[${h}]`):"",r=f=>{const m=[];let h=0,g=0;const x=/(\*[^*]+\*|_[^_]+_|~[^~]+~)/g;let v;const b=n(f);for(;(v=x.exec(b))!==null;){v.index>h&&m.push(l.jsx("span",{children:b.slice(h,v.index)},`text-${g++}`));const S=v[0],_=S.slice(1,-1);S.startsWith("*")?m.push(l.jsx("strong",{style:{fontWeight:700},children:_},`bold-${g++}`)):S.startsWith("_")?m.push(l.jsx("em",{style:{fontStyle:"italic"},children:_},`italic-${g++}`)):S.startsWith("~")&&m.push(l.jsx("span",{style:{textDecoration:"line-through"},children:_},`strike-${g++}`)),h=v.index+S.length}return h<b.length&&m.push(l.jsx("span",{children:b.slice(h)},`text-${g++}`)),l.jsx(l.Fragment,{children:m})};return l.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto"},children:[l.jsxs("div",{style:{background:"#075e54",padding:"12px 16px",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#d1d5db",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,color:"#6b7280"},children:"B"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#ffffff"},children:"Balemoo"}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.8)"},children:"WhatsApp Business"})]})]}),l.jsxs("div",{style:{background:"#ece5dd",backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d9d9d9' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,padding:"20px 16px",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",minHeight:"300px"},children:[l.jsxs("div",{style:{background:"#dcf8c6",padding:"10px 12px 6px",borderRadius:"8px",maxWidth:"85%",boxShadow:"0 1px 0.5px rgba(0, 0, 0, 0.13)",position:"relative"},children:[((s=e.content)==null?void 0:s.header)&&l.jsxs("div",{style:{marginBottom:"8px"},children:[e.content.header.type==="TEXT"&&l.jsx("div",{style:{fontFamily:"'Segoe UI', 'Helvetica Neue', sans-serif",fontSize:"0.9375rem",fontWeight:700,color:"#000000",marginBottom:"4px"},children:n(e.content.header.text||"")}),e.content.header.type==="IMAGE"&&l.jsx("div",{style:{width:"100%",height:"120px",background:"#e5e7eb",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:"[Image]"}),e.content.header.type==="VIDEO"&&l.jsx("div",{style:{width:"100%",height:"120px",background:"#1f2937",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#ffffff"},children:"[Video]"}),e.content.header.type==="DOCUMENT"&&l.jsx("div",{style:{padding:"8px 12px",background:"#ffffff",borderRadius:"6px",marginBottom:"8px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#374151"},children:" Document"})]}),l.jsx("div",{style:{fontFamily:"'Segoe UI', 'Helvetica Neue', sans-serif",fontSize:"0.9375rem",color:"#000000",lineHeight:"1.4",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r(((a=(i=e.content)==null?void 0:i.body)==null?void 0:a.text)||"")}),((u=e.content)==null?void 0:u.footer)&&l.jsx("div",{style:{fontFamily:"'Segoe UI', 'Helvetica Neue', sans-serif",fontSize:"0.8125rem",color:"#667781",marginTop:"8px"},children:n(e.content.footer.text)}),l.jsx("div",{style:{textAlign:"right",marginTop:"4px",fontFamily:"'Segoe UI', 'Helvetica Neue', sans-serif",fontSize:"0.6875rem",color:"#667781"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),((d=e.content)==null?void 0:d.buttons)&&e.content.buttons.length>0&&l.jsx("div",{style:{marginTop:"4px",display:"flex",flexDirection:"column",gap:"4px"},children:e.content.buttons.map((f,m)=>l.jsxs("div",{style:{background:"#ffffff",padding:"10px 12px",borderRadius:"8px",textAlign:"center",fontFamily:"'Segoe UI', 'Helvetica Neue', sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#00a5f4",boxShadow:"0 1px 0.5px rgba(0, 0, 0, 0.13)",cursor:"pointer"},children:[f.type==="QUICK_REPLY"&&` ${f.text}`,f.type==="URL"&&` ${f.text}`,f.type==="PHONE_NUMBER"&&` ${f.text}`]},m))})]})]})}function PD(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const ID=e=>{switch(e){case"success":return FD;case"info":return OD;case"warning":return DD;case"error":return zD;default:return null}},AD=Array(12).fill(0),MD=({visible:e,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},pe.createElement("div",{className:"sonner-spinner"},AD.map((n,r)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FD=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DD=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OD=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zD=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),LD=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$D=()=>{const[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Gg=1;class BD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Gg++,a=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:r}),{...d,...t,id:i,dismissible:u,title:r}):d):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,a;const u=s.then(async f=>{if(a=["resolve",f],pe.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(WD(f)&&!f.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,v=typeof h=="object"&&!pe.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}else if(f instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description,v=typeof h=="object"&&!pe.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(f):n.success,g=typeof n.description=="function"?await n.description(f):n.description,v=typeof h=="object"&&!pe.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:g,...v})}}).catch(async f=>{if(a=["reject",f],n.error!==void 0){i=!1;const m=typeof n.error=="function"?await n.error(f):n.error,h=typeof n.description=="function"?await n.description(f):n.description,x=typeof m=="object"&&!pe.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:h,...x})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,m)=>u.then(()=>a[0]==="reject"?m(a[1]):f(a[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Gg++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const jn=new BD,VD=(e,t)=>{const n=(t==null?void 0:t.id)||Gg++;return jn.addToast({title:e,...t,id:n}),n},WD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",UD=VD,HD=()=>jn.toasts,GD=()=>jn.getActiveToasts(),ve=Object.assign(UD,{success:jn.success,info:jn.info,warning:jn.warning,error:jn.error,custom:jn.custom,message:jn.message,promise:jn.promise,dismiss:jn.dismiss,loading:jn.loading},{getHistory:HD,getToasts:GD});PD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function pd(e){return e.label!==void 0}const qD=3,KD="24px",XD="16px",Aw=4e3,YD=356,JD=14,QD=45,ZD=200;function Dr(...e){return e.filter(Boolean).join(" ")}function eO(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const tO=e=>{var t,n,r,s,i,a,u,d,f;const{invert:m,toast:h,unstyled:g,interacting:x,setHeights:v,visibleToasts:b,heights:S,index:_,toasts:E,expanded:w,removeToast:T,defaultRichColors:P,closeButton:C,style:R,cancelButtonStyle:I,actionButtonStyle:A,className:U="",descriptionClassName:$="",duration:H,position:Y,gap:V,expandByDefault:X,classNames:z,icons:W,closeButtonAriaLabel:M="Close toast"}=e,[B,O]=pe.useState(null),[D,L]=pe.useState(null),[K,Z]=pe.useState(!1),[q,J]=pe.useState(!1),[ne,te]=pe.useState(!1),[se,le]=pe.useState(!1),[ce,ue]=pe.useState(!1),[ge,Ee]=pe.useState(0),[Oe,Re]=pe.useState(0),We=pe.useRef(h.duration||H||Aw),Tt=pe.useRef(null),Be=pe.useRef(null),zt=_===0,Ut=_+1<=b,Ue=h.type,Lt=h.dismissible!==!1,Yr=h.className||"",$n=h.descriptionClassName||"",yt=pe.useMemo(()=>S.findIndex(ze=>ze.toastId===h.id)||0,[S,h.id]),Nt=pe.useMemo(()=>{var ze;return(ze=h.closeButton)!=null?ze:C},[h.closeButton,C]),Qn=pe.useMemo(()=>h.duration||H||Aw,[h.duration,H]),Zn=pe.useRef(0),Ve=pe.useRef(0),Zt=pe.useRef(0),mn=pe.useRef(null),[er,Jr]=Y.split("-"),js=pe.useMemo(()=>S.reduce((ze,lt,xt)=>xt>=yt?ze:ze+lt.height,0),[S,yt]),Cs=$D(),go=h.invert||m,Qr=Ue==="loading";Ve.current=pe.useMemo(()=>yt*V+js,[yt,js]),pe.useEffect(()=>{We.current=Qn},[Qn]),pe.useEffect(()=>{Z(!0)},[]),pe.useEffect(()=>{const ze=Be.current;if(ze){const lt=ze.getBoundingClientRect().height;return Re(lt),v(xt=>[{toastId:h.id,height:lt,position:h.position},...xt]),()=>v(xt=>xt.filter($t=>$t.toastId!==h.id))}},[v,h.id]),pe.useLayoutEffect(()=>{if(!K)return;const ze=Be.current,lt=ze.style.height;ze.style.height="auto";const xt=ze.getBoundingClientRect().height;ze.style.height=lt,Re(xt),v($t=>$t.find(ht=>ht.toastId===h.id)?$t.map(ht=>ht.toastId===h.id?{...ht,height:xt}:ht):[{toastId:h.id,height:xt,position:h.position},...$t])},[K,h.title,h.description,v,h.id]);const gn=pe.useCallback(()=>{J(!0),Ee(Ve.current),v(ze=>ze.filter(lt=>lt.toastId!==h.id)),setTimeout(()=>{T(h)},ZD)},[h,T,v,Ve]);pe.useEffect(()=>{if(h.promise&&Ue==="loading"||h.duration===1/0||h.type==="loading")return;let ze;return w||x||Cs?(()=>{if(Zt.current<Zn.current){const $t=new Date().getTime()-Zn.current;We.current=We.current-$t}Zt.current=new Date().getTime()})():(()=>{We.current!==1/0&&(Zn.current=new Date().getTime(),ze=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),gn()},We.current))})(),()=>clearTimeout(ze)},[w,x,h,Ue,Cs,gn]),pe.useEffect(()=>{h.delete&&gn()},[gn,h.delete]);function yo(){var ze;if(W!=null&&W.loading){var lt;return pe.createElement("div",{className:Dr(z==null?void 0:z.loader,h==null||(lt=h.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":Ue==="loading"},W.loading)}return pe.createElement(MD,{className:Dr(z==null?void 0:z.loader,h==null||(ze=h.classNames)==null?void 0:ze.loader),visible:Ue==="loading"})}const _r=h.icon||(W==null?void 0:W[Ue])||ID(Ue);var tr,xo;return pe.createElement("li",{tabIndex:0,ref:Be,className:Dr(U,Yr,z==null?void 0:z.toast,h==null||(t=h.classNames)==null?void 0:t.toast,z==null?void 0:z.default,z==null?void 0:z[Ue],h==null||(n=h.classNames)==null?void 0:n[Ue]),"data-sonner-toast":"","data-rich-colors":(tr=h.richColors)!=null?tr:P,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":K,"data-promise":!!h.promise,"data-swiped":ce,"data-removed":q,"data-visible":Ut,"data-y-position":er,"data-x-position":Jr,"data-index":_,"data-front":zt,"data-swiping":ne,"data-dismissible":Lt,"data-type":Ue,"data-invert":go,"data-swipe-out":se,"data-swipe-direction":D,"data-expanded":!!(w||X&&K),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${q?ge:Ve.current}px`,"--initial-height":X?"auto":`${Oe}px`,...R,...h.style},onDragEnd:()=>{te(!1),O(null),mn.current=null},onPointerDown:ze=>{Qr||!Lt||(Tt.current=new Date,Ee(Ve.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(te(!0),mn.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,lt,xt;if(se||!Lt)return;mn.current=null;const $t=Number(((ze=Be.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Er=Number(((lt=Be.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ht=new Date().getTime()-((xt=Tt.current)==null?void 0:xt.getTime()),wt=B==="x"?$t:Er,Tr=Math.abs(wt)/ht;if(Math.abs(wt)>=QD||Tr>.11){Ee(Ve.current),h.onDismiss==null||h.onDismiss.call(h,h),L(B==="x"?$t>0?"right":"left":Er>0?"down":"up"),gn(),le(!0);return}else{var Rt,on;(Rt=Be.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(on=Be.current)==null||on.style.setProperty("--swipe-amount-y","0px")}ue(!1),te(!1),O(null)},onPointerMove:ze=>{var lt,xt,$t;if(!mn.current||!Lt||((lt=window.getSelection())==null?void 0:lt.toString().length)>0)return;const ht=ze.clientY-mn.current.y,wt=ze.clientX-mn.current.x;var Tr;const Rt=(Tr=e.swipeDirections)!=null?Tr:eO(Y);!B&&(Math.abs(wt)>1||Math.abs(ht)>1)&&O(Math.abs(wt)>Math.abs(ht)?"x":"y");let on={x:0,y:0};const Nr=yn=>1/(1.5+Math.abs(yn)/20);if(B==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&ht<0||Rt.includes("bottom")&&ht>0)on.y=ht;else{const yn=ht*Nr(ht);on.y=Math.abs(yn)<Math.abs(ht)?yn:ht}}else if(B==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&wt<0||Rt.includes("right")&&wt>0)on.x=wt;else{const yn=wt*Nr(wt);on.x=Math.abs(yn)<Math.abs(wt)?yn:wt}(Math.abs(on.x)>0||Math.abs(on.y)>0)&&ue(!0),(xt=Be.current)==null||xt.style.setProperty("--swipe-amount-x",`${on.x}px`),($t=Be.current)==null||$t.style.setProperty("--swipe-amount-y",`${on.y}px`)}},Nt&&!h.jsx&&Ue!=="loading"?pe.createElement("button",{"aria-label":M,"data-disabled":Qr,"data-close-button":!0,onClick:Qr||!Lt?()=>{}:()=>{gn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Dr(z==null?void 0:z.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(xo=W==null?void 0:W.close)!=null?xo:LD):null,(Ue||h.icon||h.promise)&&h.icon!==null&&((W==null?void 0:W[Ue])!==null||h.icon)?pe.createElement("div",{"data-icon":"",className:Dr(z==null?void 0:z.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||yo():null,h.type!=="loading"?_r:null):null,pe.createElement("div",{"data-content":"",className:Dr(z==null?void 0:z.content,h==null||(i=h.classNames)==null?void 0:i.content)},pe.createElement("div",{"data-title":"",className:Dr(z==null?void 0:z.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?pe.createElement("div",{"data-description":"",className:Dr($,$n,z==null?void 0:z.description,h==null||(u=h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),pe.isValidElement(h.cancel)?h.cancel:h.cancel&&pd(h.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:ze=>{pd(h.cancel)&&Lt&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,ze),gn())},className:Dr(z==null?void 0:z.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,pe.isValidElement(h.action)?h.action:h.action&&pd(h.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:ze=>{pd(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,ze),!ze.defaultPrevented&&gn())},className:Dr(z==null?void 0:z.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function Mw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nO(e,t){const n={};return[e,t].forEach((r,s)=>{const i=s===1,a=i?"--mobile-offset":"--offset",u=i?XD:KD;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${a}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${a}-${f}`]=u:n[`${a}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(u)}),n}const rO=pe.forwardRef(function(t,n){const{invert:r,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:u,className:d,offset:f,mobileOffset:m,theme:h="light",richColors:g,duration:x,style:v,visibleToasts:b=qD,toastOptions:S,dir:_=Mw(),gap:E=JD,icons:w,containerAriaLabel:T="Notifications"}=t,[P,C]=pe.useState([]),R=pe.useMemo(()=>Array.from(new Set([s].concat(P.filter(D=>D.position).map(D=>D.position)))),[P,s]),[I,A]=pe.useState([]),[U,$]=pe.useState(!1),[H,Y]=pe.useState(!1),[V,X]=pe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=pe.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=pe.useRef(null),B=pe.useRef(!1),O=pe.useCallback(D=>{C(L=>{var K;return(K=L.find(Z=>Z.id===D.id))!=null&&K.delete||jn.dismiss(D.id),L.filter(({id:Z})=>Z!==D.id)})},[]);return pe.useEffect(()=>jn.subscribe(D=>{if(D.dismiss){requestAnimationFrame(()=>{C(L=>L.map(K=>K.id===D.id?{...K,delete:!0}:K))});return}setTimeout(()=>{_j.flushSync(()=>{C(L=>{const K=L.findIndex(Z=>Z.id===D.id);return K!==-1?[...L.slice(0,K),{...L[K],...D},...L.slice(K+1)]:[D,...L]})})})}),[P]),pe.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:L})=>{X(L?"dark":"light")})}catch{D.addListener(({matches:K})=>{try{X(K?"dark":"light")}catch(Z){console.error(Z)}})}},[h]),pe.useEffect(()=>{P.length<=1&&$(!1)},[P]),pe.useEffect(()=>{const D=L=>{var K;if(i.every(J=>L[J]||L.code===J)){var q;$(!0),(q=z.current)==null||q.focus()}L.code==="Escape"&&(document.activeElement===z.current||(K=z.current)!=null&&K.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[i]),pe.useEffect(()=>{if(z.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,B.current=!1)}},[z.current]),pe.createElement("section",{ref:n,"aria-label":`${T} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((D,L)=>{var K;const[Z,q]=D.split("-");return P.length?pe.createElement("ol",{key:D,dir:_==="auto"?Mw():_,tabIndex:-1,ref:z,className:d,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":Z,"data-lifted":U&&P.length>1&&!a,"data-x-position":q,style:{"--front-toast-height":`${((K=I[0])==null?void 0:K.height)||0}px`,"--width":`${YD}px`,"--gap":`${E}px`,...v,...nO(f,m)},onBlur:J=>{B.current&&!J.currentTarget.contains(J.relatedTarget)&&(B.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||B.current||(B.current=!0,M.current=J.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{H||$(!1)},onDragEnd:()=>$(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},P.filter(J=>!J.position&&L===0||J.position===D).map((J,ne)=>{var te,se;return pe.createElement(tO,{key:J.id,icons:w,index:ne,toast:J,defaultRichColors:g,duration:(te=S==null?void 0:S.duration)!=null?te:x,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:r,visibleToasts:b,closeButton:(se=S==null?void 0:S.closeButton)!=null?se:u,interacting:H,position:D,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:O,toasts:P.filter(le=>le.position==J.position),heights:I.filter(le=>le.position==J.position),setHeights:A,expandByDefault:a,gap:E,expanded:U,swipeDirections:t.swipeDirections})})):null}))});function sO({isOpen:e,onClose:t,editTemplate:n}){const{createTemplate:r,updateTemplate:s,submitTemplate:i}=Ma(),{selectedProject:a}=kr(),[u,d]=k.useState(!1),[f,m]=k.useState(""),[h,g]=k.useState("MARKETING"),[x,v]=k.useState("id"),[b,S]=k.useState("NONE"),[_,E]=k.useState(""),[w,T]=k.useState(""),[P,C]=k.useState(""),[R,I]=k.useState([]);k.useEffect(()=>{var z,W,M,B,O,D,L,K,Z;n?(m(n.name),g(n.category),v(n.language),S(((W=(z=n.content)==null?void 0:z.header)==null?void 0:W.type)||"NONE"),E(((B=(M=n.content)==null?void 0:M.header)==null?void 0:B.text)||""),T(((D=(O=n.content)==null?void 0:O.body)==null?void 0:D.text)||""),C(((K=(L=n.content)==null?void 0:L.footer)==null?void 0:K.text)||""),I(((Z=n.content)==null?void 0:Z.buttons)||[])):(m(""),g("MARKETING"),v("id"),S("NONE"),E(""),T(""),C(""),I([]))},[n,e]);const A=k.useMemo(()=>{const z=/\{\{(\w+)\}\}/g,W=new Set;if(b==="TEXT"&&_){let M;for(;(M=z.exec(_))!==null;)W.add(M[1])}if(w){let M;for(;(M=z.exec(w))!==null;)W.add(M[1])}return Array.from(W)},[b,_,w]),U=k.useMemo(()=>{const z={};return A.forEach(W=>{W.toLowerCase().includes("name")?z[W]="John Doe":W.toLowerCase().includes("date")?z[W]="Feb 5, 2026":W.toLowerCase().includes("time")?z[W]="7:00 PM":W.toLowerCase().includes("event")?z[W]="Annual Gala":W.toLowerCase().includes("venue")?z[W]="Grand Ballroom":z[W]="Sample"}),z},[A]),$=()=>{if(R.length>=3){ve.error("Maximum 3 buttons allowed");return}I([...R,{type:"QUICK_REPLY",text:""}])},H=z=>{I(R.filter((W,M)=>M!==z))},Y=(z,W,M)=>{const B=[...R];B[z]={...B[z],[W]:M},I(B)},V=()=>{if(!f.trim())return"Template name is required";if(!/^[a-z0-9_]+$/.test(f))return"Template name must be lowercase alphanumeric with underscores only";if(!w.trim())return"Template body is required";if(w.length>1024)return"Template body must be 1024 characters or less";if(A.length>10)return"Maximum 10 variables allowed";if(b==="TEXT"&&!_.trim())return"Header text is required when header type is TEXT";for(const z of R){if(!z.text.trim())return"All buttons must have text";if(z.type==="URL"&&!z.url)return"URL buttons must have a URL";if(z.type==="PHONE_NUMBER"&&!z.phoneNumber)return"Phone number buttons must have a phone number"}return null},X=async(z=!1)=>{const W=V();if(W){ve.error(W);return}if(!a){ve.error("No project selected");return}d(!0);try{const M={name:f,category:h,language:x,content:{header:b!=="NONE"?{type:b,text:b==="TEXT"?_:void 0}:void 0,body:{text:w},footer:P.trim()?{text:P.trim()}:void 0,buttons:R.length>0?R:void 0},projectId:a.id};if(console.log("Sending template input:",JSON.stringify(M,null,2)),n)await s(n.id,M),ve.success("Template updated successfully");else{const B=await r(M);ve.success("Template created successfully"),z&&B&&(await i(B.id),ve.info("Template submitted to META for approval"))}t()}catch(M){ve.error(M instanceof Error?M.message:"Failed to save template")}finally{d(!1)}};return e?l.jsx(io,{children:l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",overflow:"auto"},onClick:t,children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:z=>z.stopPropagation(),className:"rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"1400px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"1.5rem 2rem",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,color:"#1f2937"},children:n?"Edit Template":"Create New Template"}),l.jsx("button",{onClick:t,style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(0, 0, 0, 0.05)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:z=>{z.currentTarget.style.background="rgba(0, 0, 0, 0.1)"},onMouseLeave:z=>{z.currentTarget.style.background="rgba(0, 0, 0, 0.05)"},children:l.jsx(hn,{size:20,style:{color:"#6b7280"}})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",padding:"2rem",overflow:"auto",flex:1},children:[l.jsxs("div",{style:{overflow:"auto",paddingRight:"1rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Template Name *"}),l.jsx("input",{type:"text",value:f,onChange:z=>m(z.target.value.toLowerCase()),placeholder:"event_invitation",disabled:!!n,style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:n?"#f3f4f6":"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none"}}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:"Lowercase, alphanumeric, and underscores only"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Category *"}),l.jsxs("select",{value:h,onChange:z=>g(z.target.value),style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none"},children:[l.jsx("option",{value:"MARKETING",children:"Marketing"}),l.jsx("option",{value:"UTILITY",children:"Utility"}),l.jsx("option",{value:"AUTHENTICATION",children:"Authentication"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Language *"}),l.jsxs("select",{value:x,onChange:z=>v(z.target.value),style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none"},children:[l.jsx("option",{value:"id",children:"Indonesian"}),l.jsx("option",{value:"en",children:"English"}),l.jsx("option",{value:"id_en",children:"Indonesian & English"})]})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Header (Optional)"}),l.jsxs("select",{value:b,onChange:z=>S(z.target.value),style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none",marginBottom:"0.5rem"},children:[l.jsx("option",{value:"NONE",children:"No Header"}),l.jsx("option",{value:"TEXT",children:"Text"}),l.jsx("option",{value:"IMAGE",children:"Image"}),l.jsx("option",{value:"VIDEO",children:"Video"}),l.jsx("option",{value:"DOCUMENT",children:"Document"})]}),b==="TEXT"&&l.jsx("input",{type:"text",value:_,onChange:z=>E(z.target.value),placeholder:"Enter header text (supports {{variables}})",style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Body *"}),l.jsx("textarea",{value:w,onChange:z=>T(z.target.value),placeholder:"Hello {{name}}, you're invited to {{event}}!",rows:6,style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none",resize:"vertical"}}),l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:["Use ","{{variable_name}}"," for dynamic content. Supports *bold*, _italic_, ~strikethrough~"]}),l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:w.length>1024?"#ef4444":"#6b7280",marginTop:"0.25rem"},children:[w.length,"/1024 characters"]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Footer (Optional)"}),l.jsx("input",{type:"text",value:P,onChange:z=>C(z.target.value),placeholder:"Powered by Balemoo",style:{width:"100%",padding:"12px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Buttons (Optional, max 3)"}),l.jsxs("button",{onClick:$,disabled:R.length>=3,style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:R.length>=3?"#9ca3af":"#8b5cf6",background:R.length>=3?"rgba(156, 163, 175, 0.1)":"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"8px",cursor:R.length>=3?"not-allowed":"pointer"},children:[l.jsx(Fn,{size:14}),"Add Button"]})]}),R.map((z,W)=>l.jsxs("div",{style:{padding:"12px",background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.05)",borderRadius:"12px",marginBottom:"0.5rem"},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("select",{value:z.type,onChange:M=>Y(W,"type",M.target.value),style:{flex:1,padding:"8px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"8px",outline:"none"},children:[l.jsx("option",{value:"QUICK_REPLY",children:"Quick Reply"}),l.jsx("option",{value:"URL",children:"URL"}),l.jsx("option",{value:"PHONE_NUMBER",children:"Phone Number"})]}),l.jsx("button",{onClick:()=>H(W),style:{padding:"8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",cursor:"pointer"},children:l.jsx(Ln,{size:14,style:{color:"#ef4444"}})})]}),l.jsx("input",{type:"text",value:z.text,onChange:M=>Y(W,"text",M.target.value),placeholder:"Button text",style:{width:"100%",padding:"8px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"8px",outline:"none",marginBottom:z.type!=="QUICK_REPLY"?"0.5rem":"0"}}),z.type==="URL"&&l.jsx("input",{type:"url",value:z.url||"",onChange:M=>Y(W,"url",M.target.value),placeholder:"https://example.com",style:{width:"100%",padding:"8px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"8px",outline:"none"}}),z.type==="PHONE_NUMBER"&&l.jsx("input",{type:"tel",value:z.phoneNumber||"",onChange:M=>Y(W,"phoneNumber",M.target.value),placeholder:"+628123456789",style:{width:"100%",padding:"8px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"8px",outline:"none"}})]},W))]}),A.length>0&&l.jsxs("div",{style:{padding:"12px 16px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",marginBottom:"1.5rem"},children:[l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#6366f1",marginBottom:"0.5rem"},children:["Detected Variables (",A.length,"/10):"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(z=>l.jsx("span",{style:{padding:"4px 10px",background:"rgba(139, 92, 246, 0.15)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:500,color:"#6366f1"},children:z},z))})]})]}),l.jsxs("div",{style:{position:"sticky",top:0,height:"fit-content"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"1rem"},children:"Live Preview"}),l.jsx(by,{template:{name:f,category:h,language:x,content:{header:b!=="NONE"?{type:b,text:b==="TEXT"?_:void 0}:void 0,body:{text:w},footer:P.trim()?{text:P.trim()}:void 0,buttons:R.length>0?R:void 0}},sampleData:U})]})]}),l.jsxs("div",{style:{padding:"1.5rem 2rem",borderTop:"1px solid rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"12px"},children:[l.jsx("button",{onClick:t,disabled:u,style:{padding:"12px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#6b7280",background:"rgba(0, 0, 0, 0.05)",border:"none",borderRadius:"12px",cursor:u?"not-allowed":"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:()=>X(!1),disabled:u,style:{padding:"12px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ffffff",background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",border:"none",borderRadius:"12px",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[u&&l.jsx(Ct,{size:16,className:"animate-spin"}),"Save as Draft"]}),!n&&l.jsxs("button",{onClick:()=>X(!0),disabled:u,style:{padding:"12px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ffffff",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",borderRadius:"12px",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[u&&l.jsx(Ct,{size:16,className:"animate-spin"}),"Save & Submit to META"]})]})]})})}):null}function oO({isOpen:e,onClose:t,template:n,onEdit:r,onDelete:s}){const{submitTemplate:i,simulateReject:a}=Ma(),[u,d]=k.useState(!1),[f,m]=k.useState(!1),[h,g]=k.useState("");if(!e||!n)return null;const x=n.status==="DRAFT"||n.status==="REJECTED",v=n.status==="DRAFT",b={};n.variables.forEach(T=>{T.toLowerCase().includes("name")?b[T]="John Doe":T.toLowerCase().includes("date")?b[T]="Feb 5, 2026":T.toLowerCase().includes("time")?b[T]="7:00 PM":T.toLowerCase().includes("event")?b[T]="Annual Gala":T.toLowerCase().includes("venue")?b[T]="Grand Ballroom":b[T]="Sample"});const S=async()=>{if(v){d(!0);try{await i(n.id),ve.success("Template submitted to META for approval"),t()}catch(T){ve.error(T instanceof Error?T.message:"Failed to submit template")}finally{d(!1)}}},_=async()=>{if(!h.trim()){ve.error("Please provide a rejection reason");return}try{await a(n.id,h),ve.info("Template rejected (simulation)"),m(!1),g(""),t()}catch(T){ve.error(T instanceof Error?T.message:"Failed to reject template")}},E=()=>{x&&r&&(r(n),t())},w=()=>{x&&s&&(s(n),t())};return l.jsx(io,{children:l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",overflow:"auto"},onClick:t,children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:T=>T.stopPropagation(),className:"rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"1.5rem 2rem",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,color:"#1f2937"},children:n.name}),l.jsx(s5,{status:n.status,size:"md"})]}),l.jsx("button",{onClick:t,style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(0, 0, 0, 0.05)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:T=>{T.currentTarget.style.background="rgba(0, 0, 0, 0.1)"},onMouseLeave:T=>{T.currentTarget.style.background="rgba(0, 0, 0, 0.05)"},children:l.jsx(hn,{size:20,style:{color:"#6b7280"}})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",padding:"2rem",overflow:"auto",flex:1},children:[l.jsxs("div",{style:{overflow:"auto",paddingRight:"1rem"},children:[l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"1rem"},children:"Template Information"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Category"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937"},children:n.category})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Language"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937"},children:n.language})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Created"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937"},children:new Date(n.createdAt).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"Last Updated"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937"},children:new Date(n.updatedAt).toLocaleString()})]})]})]}),n.variables.length>0&&l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsxs("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"1rem"},children:["Variables (",n.variables.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.variables.map(T=>l.jsx("span",{style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"10px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#6366f1"},children:T},T))})]}),(n.submittedAt||n.approvedAt||n.rejectedAt)&&l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"1rem"},children:"Submission History"}),l.jsxs("div",{className:"space-y-3",children:[n.submittedAt&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ur,{size:18,style:{color:"#f59e0b"}}),l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Submitted to META"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:new Date(n.submittedAt).toLocaleString()})]})]}),n.approvedAt&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ao,{size:18,style:{color:"#10b981"}}),l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Approved by META"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:new Date(n.approvedAt).toLocaleString()})]})]}),n.rejectedAt&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(lo,{size:18,style:{color:"#ef4444",marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Rejected by META"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:new Date(n.rejectedAt).toLocaleString()}),n.rejectionReason&&l.jsx("div",{style:{padding:"8px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#dc2626"},children:n.rejectionReason})})]})]})]})]}),n.status==="PENDING"&&l.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px"},children:[l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#dc2626",marginBottom:"0.5rem"},children:" DEV TOOL: Simulate Rejection"}),f?l.jsxs("div",{children:[l.jsx("input",{type:"text",value:h,onChange:T=>g(T.target.value),placeholder:"Rejection reason...",style:{width:"100%",padding:"8px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#1f2937",background:"#ffffff",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",outline:"none",marginBottom:"0.5rem"}}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:_,style:{padding:"6px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#ffffff",background:"#ef4444",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Confirm"}),l.jsx("button",{onClick:()=>{m(!1),g("")},style:{padding:"6px 12px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",background:"rgba(0, 0, 0, 0.05)",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cancel"})]})]}):l.jsx("button",{onClick:()=>m(!0),style:{padding:"8px 16px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#ffffff",background:"#ef4444",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Simulate Rejection"})]})]}),l.jsxs("div",{style:{position:"sticky",top:0,height:"fit-content"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"1rem"},children:"Preview"}),l.jsx(by,{template:n,sampleData:b})]})]}),l.jsxs("div",{style:{padding:"1.5rem 2rem",borderTop:"1px solid rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{className:"flex gap-2",children:[x&&r&&l.jsxs("button",{onClick:E,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#10b981",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"12px",cursor:"pointer"},children:[l.jsx(gy,{size:16}),"Edit"]}),x&&s&&l.jsxs("button",{onClick:w,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ef4444",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",cursor:"pointer"},children:[l.jsx(Ln,{size:16}),"Delete"]})]}),l.jsxs("div",{className:"flex gap-2",children:[v&&l.jsxs("button",{onClick:S,disabled:u,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ffffff",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",borderRadius:"12px",cursor:u?"not-allowed":"pointer",opacity:u?.6:1},children:[l.jsx(Rc,{size:16}),u?"Submitting...":"Submit to META"]}),l.jsx("button",{onClick:t,style:{padding:"12px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#6b7280",background:"rgba(0, 0, 0, 0.05)",border:"none",borderRadius:"12px",cursor:"pointer"},children:"Close"})]})]})]})})})}function iO(){const{user:e}=Qt(),{templates:t,loading:n,error:r,deleteTemplate:s}=Ma(),[i,a]=k.useState(null),[u,d]=k.useState(!1),[f,m]=k.useState(!1),h=(e==null?void 0:e.role)==="admin",g=S=>{a(S),m(!0)},x=S=>{a(S),d(!0)},v=async S=>{if(confirm(`Are you sure you want to delete "${S.name}"?`))try{await s(S.id),ve.success("Template deleted successfully")}catch(_){ve.error(_ instanceof Error?_.message:"Failed to delete template")}},b=()=>{a(null),d(!0)};return h?l.jsxs("div",{style:{padding:"2rem",minHeight:"100%"},children:[l.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[l.jsx(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2.5rem",fontWeight:700,color:"#ffffff",marginBottom:"0.5rem",letterSpacing:"-0.02em"},children:"Template Management"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",color:"rgba(255, 255, 255, 0.9)"},children:"Create and manage WhatsApp message templates"})]}),l.jsxs("button",{onClick:b,style:{display:"flex",alignItems:"center",gap:"8px",padding:"14px 24px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#8b5cf6",background:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"16px",cursor:"pointer",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 12px 48px rgba(0, 0, 0, 0.15)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.1)"},children:[l.jsx(Fn,{size:20}),"Create Template"]})]})}),r&&l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 rounded-2xl",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",padding:"1rem 1.5rem"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#dc2626"},children:r})}),n&&t.length===0?l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"4rem 2rem"},children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block rounded-full mb-4",style:{width:"60px",height:"60px",border:"4px solid rgba(139, 92, 246, 0.2)",borderTop:"4px solid #8b5cf6",animation:"spin 1s linear infinite"}}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#6b7280"},children:"Loading templates..."})]})}):l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:l.jsx(RD,{templates:t,onView:g,onEdit:x,onDelete:v})})]}),l.jsx(sO,{isOpen:u,onClose:()=>{d(!1),a(null)},editTemplate:i}),l.jsx(oO,{isOpen:f,onClose:()=>{m(!1),a(null)},template:i,onEdit:x,onDelete:v}),l.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]}):l.jsx("div",{style:{padding:"2rem",minHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center rounded-3xl backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"3rem",maxWidth:"500px"},children:[l.jsx("div",{className:"flex items-center justify-center rounded-full mx-auto mb-4",style:{width:"80px",height:"80px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:l.jsx(zf,{size:40,style:{color:"#ef4444"}})}),l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,color:"#1f2937",marginBottom:"0.5rem"},children:"Access Denied"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#6b7280"},children:"Only administrators can manage WhatsApp templates."})]})})}const Fw={family:"#10b981",friend:"#3b82f6",colleague:"#f59e0b",vip:"#a855f7",other:"#64748b"},aO={family:"Family",friend:"Friend",colleague:"Colleague",vip:"VIP",other:"Other"},lO={pending:Ur,confirmed:ao,declined:lo,maybe:Rj},cO={pending:"#f59e0b",confirmed:"#10b981",declined:"#ef4444",maybe:"#6b7280"},uO={pending:"Pending",confirmed:"Confirmed",declined:"Declined",maybe:"Maybe"},dO={ceremony_only:"Ceremony Only",reception_only:"Reception Only",both:"Both Events"},fO=({guest:e,onView:t,onEdit:n,onDelete:r})=>{const s=Fw[e.category]||Fw.other,i=lO[e.rsvp_status],a=cO[e.rsvp_status];return l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},whileHover:{scale:1.02,translateY:-4},transition:{duration:.2},className:"group relative",children:l.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",borderRadius:"24px",padding:"24px",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${s}, ${s}88)`}}),e.checked_in_at&&l.jsxs("div",{style:{position:"absolute",top:"16px",right:"16px",padding:"6px 12px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",fontSize:"12px",fontWeight:600,color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(ao,{size:14}),"Checked In"]}),l.jsx("div",{style:{marginBottom:"16px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:`linear-gradient(135deg, ${s}20, ${s}40)`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(no,{size:20,style:{color:s}})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1a1a1a",marginBottom:"2px",lineHeight:"1.2"},children:e.name}),l.jsx("div",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",background:`${s}15`,borderRadius:"8px",fontSize:"12px",fontWeight:600,color:s},children:aO[e.category]})]})]})}),l.jsxs("div",{style:{marginBottom:"16px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(n4,{size:16,style:{color:"#6b7280",flexShrink:0}}),l.jsx("span",{style:{fontSize:"14px",color:"#4b5563"},children:e.phone})]}),e.email&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(fy,{size:16,style:{color:"#6b7280",flexShrink:0}}),l.jsx("span",{style:{fontSize:"14px",color:"#4b5563",overflow:"hidden",textOverflow:"ellipsis"},children:e.email})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",background:`${a}10`,border:`1px solid ${a}30`,borderRadius:"12px",marginBottom:"16px"},children:[l.jsx(i,{size:18,style:{color:a}}),l.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:a},children:uO[e.rsvp_status]}),l.jsx("div",{style:{marginLeft:"auto",fontSize:"12px",color:"#6b7280"},children:dO[e.invitation_type]})]}),e.plus_one&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",background:"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",marginBottom:"16px"},children:[l.jsx(Jt,{size:16,style:{color:"#3b82f6"}}),l.jsxs("span",{style:{fontSize:"13px",color:"#4b5563"},children:[e.plus_one_name||"Plus One",e.plus_one_confirmed&&l.jsx("span",{style:{marginLeft:"4px",color:"#10b981",fontWeight:600},children:""})]})]}),e.tags&&e.tags.length>0&&l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"16px"},children:[e.tags.slice(0,3).map((u,d)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 10px",background:"rgba(107, 114, 128, 0.1)",border:"1px solid rgba(107, 114, 128, 0.2)",borderRadius:"8px",fontSize:"11px",color:"#6b7280"},children:[l.jsx(k4,{size:12}),u]},d)),e.tags.length>3&&l.jsxs("div",{style:{padding:"4px 10px",background:"rgba(107, 114, 128, 0.1)",borderRadius:"8px",fontSize:"11px",color:"#6b7280"},children:["+",e.tags.length-3," more"]})]}),e.table_number&&l.jsx("div",{style:{marginBottom:"16px"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"10px",fontSize:"13px",fontWeight:600,color:"#8b5cf6"},children:["Table ",e.table_number]})}),e.rsvp_at&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#9ca3af",marginBottom:"12px"},children:[l.jsx(Zo,{size:14}),"RSVP: ",new Date(e.rsvp_at).toLocaleDateString()]}),l.jsxs(ae.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},transition:{duration:.2},style:{position:"absolute",bottom:"16px",right:"16px",display:"flex",gap:"8px",opacity:0},className:"group-hover:opacity-100",children:[t&&l.jsx("button",{onClick:()=>t(e),style:{padding:"8px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(59, 130, 246, 0.2)",u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.background="rgba(59, 130, 246, 0.1)",u.currentTarget.style.transform="scale(1)"},children:l.jsx(uy,{size:16,style:{color:"#3b82f6"}})}),n&&l.jsx("button",{onClick:()=>n(e),style:{padding:"8px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(16, 185, 129, 0.2)",u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.background="rgba(16, 185, 129, 0.1)",u.currentTarget.style.transform="scale(1)"},children:l.jsx(gy,{size:16,style:{color:"#10b981"}})}),r&&l.jsx("button",{onClick:()=>r(e),style:{padding:"8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(239, 68, 68, 0.2)",u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.background="rgba(239, 68, 68, 0.1)",u.currentTarget.style.transform="scale(1)"},children:l.jsx(Ln,{size:16,style:{color:"#ef4444"}})})]})]})})},hO=()=>{const{user:e}=Qt(),{guests:t,filteredGuests:n,loading:r,stats:s,filters:i,setFilters:a,deleteGuest:u}=Ac(),[d,f]=k.useState(""),[m,h]=k.useState("all"),[g,x]=k.useState("all");if(!e||e.role!=="admin")return l.jsx("div",{style:{padding:"48px",textAlign:"center"},children:l.jsx("p",{style:{fontSize:"16px",color:"#6b7280"},children:"You need admin access to manage guests."})});pe.useEffect(()=>{a({search:d,rsvp_status:m,category:g})},[d,m,g]);const v=async S=>{if(window.confirm(`Are you sure you want to delete ${S.name}?`))try{await u(S.id),ve.success("Guest deleted successfully")}catch(_){ve.error(_ instanceof Error?_.message:"Failed to delete guest")}},b=[{value:"all",label:"All",icon:Jt,count:(s==null?void 0:s.total)||0},{value:"confirmed",label:"Confirmed",icon:ao,count:(s==null?void 0:s.confirmed)||0},{value:"pending",label:"Pending",icon:Ur,count:(s==null?void 0:s.pending)||0},{value:"maybe",label:"Maybe",icon:Rj,count:(s==null?void 0:s.maybe)||0},{value:"declined",label:"Declined",icon:lo,count:(s==null?void 0:s.declined)||0}];return l.jsxs("div",{style:{padding:"32px",maxWidth:"1600px",margin:"0 auto"},children:[l.jsx(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{marginBottom:"32px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:"32px",fontWeight:800,background:"linear-gradient(135deg, #10b981, #059669)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"8px"},children:"Guest Management"}),l.jsx("p",{style:{fontSize:"16px",color:"#6b7280"},children:"Manage your wedding guest list and track RSVPs"})]}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsxs("button",{onClick:()=>ve.info("CSV Import coming soon!"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[l.jsx(N4,{size:18}),"Import CSV"]}),l.jsxs("button",{onClick:()=>ve.info("Add Guest form coming soon!"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[l.jsx(Fn,{size:18}),"Add Guest"]})]})]})}),s&&l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},children:[{label:"Total Guests",value:s.total,color:"#10b981"},{label:"Confirmed",value:s.confirmed,color:"#10b981"},{label:"Pending",value:s.pending,color:"#f59e0b"},{label:"With Plus One",value:s.with_plus_one,color:"#3b82f6"},{label:"Checked In",value:s.checked_in,color:"#8b5cf6"}].map((S,_)=>l.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"16px",padding:"20px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.06)"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:S.label}),l.jsx("div",{style:{fontSize:"28px",fontWeight:800,color:S.color},children:S.value})]},_))}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{marginBottom:"24px"},children:[l.jsxs("div",{style:{position:"relative",marginBottom:"16px"},children:[l.jsx(ti,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",placeholder:"Search guests by name, phone, email, or tags...",value:d,onChange:S=>f(S.target.value),style:{width:"100%",padding:"14px 16px 14px 48px",fontSize:"15px",border:"2px solid rgba(16, 185, 129, 0.2)",borderRadius:"12px",outline:"none",transition:"all 0.2s",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)"},onFocus:S=>{S.target.style.borderColor="#10b981",S.target.style.boxShadow="0 0 0 3px rgba(16, 185, 129, 0.1)"},onBlur:S=>{S.target.style.borderColor="rgba(16, 185, 129, 0.2)",S.target.style.boxShadow="none"}})]}),l.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:b.map(S=>{const _=S.icon,E=m===S.value;return l.jsxs("button",{onClick:()=>h(S.value),style:{padding:"10px 16px",background:E?"linear-gradient(135deg, #10b981, #059669)":"rgba(255, 255, 255, 0.9)",color:E?"white":"#4b5563",border:E?"none":"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s",boxShadow:E?"0 4px 12px rgba(16, 185, 129, 0.3)":"none"},children:[l.jsx(_,{size:16}),S.label,l.jsx("span",{style:{padding:"2px 8px",background:E?"rgba(255, 255, 255, 0.2)":"rgba(16, 185, 129, 0.1)",borderRadius:"8px",fontSize:"13px",fontWeight:700},children:S.count})]},S.value)})})]}),r?l.jsx("div",{style:{textAlign:"center",padding:"48px"},children:l.jsx("div",{style:{fontSize:"16px",color:"#6b7280"},children:"Loading guests..."})}):n.length===0?l.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center",padding:"64px 32px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[l.jsx(Jt,{size:48,style:{color:"#d1d5db",marginBottom:"16px"}}),l.jsx("h3",{style:{fontSize:"20px",fontWeight:700,color:"#1a1a1a",marginBottom:"8px"},children:"No guests found"}),l.jsx("p",{style:{fontSize:"15px",color:"#6b7280",marginBottom:"24px"},children:t.length===0?"Get started by adding your first guest or importing from CSV":"Try adjusting your search or filters"}),l.jsxs("button",{onClick:()=>ve.info("Add Guest form coming soon!"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"12px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(Fn,{size:18}),"Add Your First Guest"]})]}):l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px"},children:n.map((S,_)=>l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},children:l.jsx(fO,{guest:S,onView:()=>ve.info("Guest details modal coming soon!"),onEdit:()=>ve.info("Edit guest form coming soon!"),onDelete:v})},S.id))})]})};function wy({icon:e,title:t,description:n,features:r,color:s}){return l.jsx("div",{style:{padding:"2rem",minHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",style:{maxWidth:"600px"},children:[l.jsxs(ae.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2,type:"spring",stiffness:200},className:"flex items-center justify-center mx-auto mb-6",style:{width:"120px",height:"120px",borderRadius:"30px",background:`linear-gradient(135deg, ${s}20 0%, ${s}10 100%)`,border:`2px solid ${s}40`,position:"relative"},children:[l.jsx(ae.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",width:"100%",height:"100%",borderRadius:"30px",background:`linear-gradient(135deg, ${s}30 0%, ${s}10 100%)`}}),l.jsx(e,{size:60,style:{color:s,position:"relative",zIndex:1}})]}),l.jsx(ae.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2.5rem",fontWeight:700,color:"#ffffff",marginBottom:"1rem",letterSpacing:"-0.02em"},children:t}),l.jsx(ae.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",color:"rgba(255, 255, 255, 0.9)",marginBottom:"2rem",lineHeight:1.6},children:n}),l.jsx(ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5},className:"inline-block rounded-full mb-3",style:{padding:"12px 32px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)"},children:l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:700,background:`linear-gradient(135deg, ${s} 0%, ${pO(s,-20)} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" Coming Soon"})}),r&&r.length>0&&l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"rounded-3xl backdrop-blur-xl mt-8",style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",padding:"2rem",textAlign:"left"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,color:"#1f2937",marginBottom:"1rem"},children:"Planned Features:"}),l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:r.map((i,a)=>l.jsxs(ae.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.7+a*.1},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 0",borderBottom:a<r.length-1?"1px solid rgba(0, 0, 0, 0.06)":"none"},children:[l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:s,flexShrink:0}}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",color:"#6b7280"},children:i})]},a))})]}),l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},className:"flex items-center justify-center gap-2 mt-6",children:[0,1,2].map(i=>l.jsx(ae.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:1.5,repeat:1/0,delay:i*.2},style:{width:"10px",height:"10px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.8)"}},i))})]})})}function pO(e,t){const n=parseInt(e.replace("#",""),16),r=Math.min(255,Math.max(0,(n>>16)+t)),s=Math.min(255,Math.max(0,(n>>8&255)+t)),i=Math.min(255,Math.max(0,(n&255)+t));return`#${(r<<16|s<<8|i).toString(16).padStart(6,"0")}`}const o5=k.createContext(void 0);function mO({children:e}){const{user:t,accessToken:n}=Qt(),[r,s]=k.useState([]),[i,a]=k.useState(!1),[u,d]=k.useState(null),f=`https://${Yn}.supabase.co/functions/v1/make-server-deeab278`,m=async E=>{if(!t||!n||t.role!=="admin"){s([]);return}try{a(!0),d(null);const w=new URLSearchParams;E!=null&&E.status&&w.append("status",E.status),E!=null&&E.projectId&&w.append("projectId",E.projectId);const T=await fetch(`${f}/chatflows?${w.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!T.ok){const C=await T.json();throw new Error(C.error||"Failed to fetch chatflows")}const P=await T.json();s(P.chatflows||[])}catch(w){console.error("Error fetching chatflows:",w),d(w.message||"Failed to fetch chatflows"),s([])}finally{a(!1)}},h=async E=>{var w,T;if(!t||!n||t.role!=="admin")return null;console.log(" getChatflowById called for ID:",E);try{const P=await fetch(`${f}/chatflows/${E}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(console.log(" getChatflowById response status:",P.status),!P.ok){const R=await P.json();throw console.error(" getChatflowById error:",R),new Error(R.error||"Failed to fetch chatflow")}const C=await P.json();return console.log(" getChatflowById raw response:",C),console.log(" getChatflowById chatflow.nodes:",(w=C.chatflow)==null?void 0:w.nodes),(T=C.chatflow)!=null&&T.nodes&&(console.log(" Nodes in response:"),C.chatflow.nodes.forEach((R,I)=>{var A,U;console.log(`  Node ${I+1}:`,{id:R.id,type:R.type,hasConfig:!!((A=R.data)!=null&&A.config),config:(U=R.data)==null?void 0:U.config})})),C.chatflow}catch(P){return console.error(" Error fetching chatflow:",P),null}},g=async E=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const w=await fetch(`${f}/chatflows`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(E)});if(!w.ok){const C=await w.json();throw new Error(C.error||"Failed to create chatflow")}const P=(await w.json()).chatflow;return s(C=>[P,...C]),P}catch(w){throw console.error("Error creating chatflow:",w),w}},x=async(E,w)=>{var T,P,C,R;if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");console.log(" ChatflowContext.updateChatflow called:",{id:E,updatesKeys:Object.keys(w),nodesCount:(T=w.nodes)==null?void 0:T.length,edgesCount:(P=w.edges)==null?void 0:P.length,fullUpdates:w});try{const I=JSON.stringify(w);console.log(" Request body length:",I.length,"bytes"),console.log(" Request body:",I);const A=await fetch(`${f}/chatflows/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:I});if(console.log(" Response status:",A.status,A.statusText),!A.ok){const H=await A.json();throw console.error(" Backend error response:",H),new Error(H.error||"Failed to update chatflow")}const $=(await A.json()).chatflow;return console.log(" Updated chatflow from backend:",$),console.log(" Saved nodes count:",(C=$.nodes)==null?void 0:C.length),console.log(" Saved nodes with config:",(R=$.nodes)==null?void 0:R.filter(H=>H.data.config).length),s(H=>H.map(Y=>Y.id===E?$:Y)),$}catch(I){throw console.error(" Error updating chatflow:",I),I}},v=async E=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const w=await fetch(`${f}/chatflows/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!w.ok){const T=await w.json();throw new Error(T.error||"Failed to delete chatflow")}s(T=>T.filter(P=>P.id!==E))}catch(w){throw console.error("Error deleting chatflow:",w),w}},b=async(E,w)=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const T=await fetch(`${f}/chatflows/${E}/clone`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({newName:w})});if(!T.ok){const R=await T.json();throw new Error(R.error||"Failed to clone chatflow")}const C=(await T.json()).chatflow;return s(R=>[C,...R]),C}catch(T){throw console.error("Error cloning chatflow:",T),T}},S=async(E,w)=>{if(!t||!n||t.role!=="admin")throw new Error("Unauthorized");try{const T=await fetch(`${f}/chatflows/${E}/test`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(w)});if(!T.ok){const C=await T.json();throw new Error(C.error||"Failed to test chatflow")}return(await T.json()).testResults}catch(T){throw console.error("Error testing chatflow:",T),T}};k.useEffect(()=>{t&&t.role==="admin"&&m()},[t]);const _={chatflows:r,loading:i,error:u,fetchChatflows:m,getChatflowById:h,createChatflow:g,updateChatflow:x,deleteChatflow:v,cloneChatflow:b,testChatflow:S};return l.jsx(o5.Provider,{value:_,children:e})}function Sy(){const e=k.useContext(o5);if(e===void 0)throw new Error("useChatflows must be used within a ChatflowProvider");return e}function Et(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Et(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gO={value:()=>{}};function Uf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wd(n)}function Wd(e){this._=e}function yO(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wd.prototype=Uf.prototype={constructor:Wd,on:function(e,t){var n=this._,r=yO(e+"",n),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(e=r[i]).type)&&(s=xO(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(s=(e=r[i]).type)n[s]=Dw(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Dw(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wd(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function xO(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Dw(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=gO,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qg="http://www.w3.org/1999/xhtml";const Ow={svg:"http://www.w3.org/2000/svg",xhtml:qg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ow.hasOwnProperty(t)?{space:Ow[t],local:e}:e}function vO(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qg&&t.documentElement.namespaceURI===qg?t.createElement(e):t.createElementNS(n,e)}}function bO(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function i5(e){var t=Hf(e);return(t.local?bO:vO)(t)}function wO(){}function ky(e){return e==null?wO:function(){return this.querySelector(e)}}function SO(e){typeof e!="function"&&(e=ky(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],a=i.length,u=r[s]=new Array(a),d,f,m=0;m<a;++m)(d=i[m])&&(f=e.call(d,d.__data__,m,i))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f);return new On(r,this._parents)}function kO(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function jO(){return[]}function a5(e){return e==null?jO:function(){return this.querySelectorAll(e)}}function CO(e){return function(){return kO(e.apply(this,arguments))}}function _O(e){typeof e=="function"?e=CO(e):e=a5(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var a=t[i],u=a.length,d,f=0;f<u;++f)(d=a[f])&&(r.push(e.call(d,d.__data__,f,a)),s.push(d));return new On(r,s)}function l5(e){return function(){return this.matches(e)}}function c5(e){return function(t){return t.matches(e)}}var EO=Array.prototype.find;function TO(e){return function(){return EO.call(this.children,e)}}function NO(){return this.firstElementChild}function RO(e){return this.select(e==null?NO:TO(typeof e=="function"?e:c5(e)))}var PO=Array.prototype.filter;function IO(){return Array.from(this.children)}function AO(e){return function(){return PO.call(this.children,e)}}function MO(e){return this.selectAll(e==null?IO:AO(typeof e=="function"?e:c5(e)))}function FO(e){typeof e!="function"&&(e=l5(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],a=i.length,u=r[s]=[],d,f=0;f<a;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&u.push(d);return new On(r,this._parents)}function u5(e){return new Array(e.length)}function DO(){return new On(this._enter||this._groups.map(u5),this._parents)}function hf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hf.prototype={constructor:hf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function OO(e){return function(){return e}}function zO(e,t,n,r,s,i){for(var a=0,u,d=t.length,f=i.length;a<f;++a)(u=t[a])?(u.__data__=i[a],r[a]=u):n[a]=new hf(e,i[a]);for(;a<d;++a)(u=t[a])&&(s[a]=u)}function LO(e,t,n,r,s,i,a){var u,d,f=new Map,m=t.length,h=i.length,g=new Array(m),x;for(u=0;u<m;++u)(d=t[u])&&(g[u]=x=a.call(d,d.__data__,u,t)+"",f.has(x)?s[u]=d:f.set(x,d));for(u=0;u<h;++u)x=a.call(e,i[u],u,i)+"",(d=f.get(x))?(r[u]=d,d.__data__=i[u],f.delete(x)):n[u]=new hf(e,i[u]);for(u=0;u<m;++u)(d=t[u])&&f.get(g[u])===d&&(s[u]=d)}function $O(e){return e.__data__}function BO(e,t){if(!arguments.length)return Array.from(this,$O);var n=t?LO:zO,r=this._parents,s=this._groups;typeof e!="function"&&(e=OO(e));for(var i=s.length,a=new Array(i),u=new Array(i),d=new Array(i),f=0;f<i;++f){var m=r[f],h=s[f],g=h.length,x=VO(e.call(m,m&&m.__data__,f,r)),v=x.length,b=u[f]=new Array(v),S=a[f]=new Array(v),_=d[f]=new Array(g);n(m,h,b,S,_,x,t);for(var E=0,w=0,T,P;E<v;++E)if(T=b[E]){for(E>=w&&(w=E+1);!(P=S[w])&&++w<v;);T._next=P||null}}return a=new On(a,r),a._enter=u,a._exit=d,a}function VO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WO(){return new On(this._exit||this._groups.map(u5),this._parents)}function UO(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function HO(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,a=Math.min(s,i),u=new Array(s),d=0;d<a;++d)for(var f=n[d],m=r[d],h=f.length,g=u[d]=new Array(h),x,v=0;v<h;++v)(x=f[v]||m[v])&&(g[v]=x);for(;d<s;++d)u[d]=n[d];return new On(u,this._parents)}function GO(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],a;--s>=0;)(a=r[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function qO(e){e||(e=KO);function t(h,g){return h&&g?e(h.__data__,g.__data__):!h-!g}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var a=n[i],u=a.length,d=s[i]=new Array(u),f,m=0;m<u;++m)(f=a[m])&&(d[m]=f);d.sort(t)}return new On(s,this._parents).order()}function KO(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function XO(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function YO(){return Array.from(this)}function JO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var a=r[s];if(a)return a}return null}function QO(){let e=0;for(const t of this)++e;return e}function ZO(){return!this.node()}function ez(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,a=s.length,u;i<a;++i)(u=s[i])&&e.call(u,u.__data__,i,s);return this}function tz(e){return function(){this.removeAttribute(e)}}function nz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rz(e,t){return function(){this.setAttribute(e,t)}}function sz(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function iz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function az(e,t){var n=Hf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?nz:tz:typeof t=="function"?n.local?iz:oz:n.local?sz:rz)(n,t))}function d5(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lz(e){return function(){this.style.removeProperty(e)}}function cz(e,t,n){return function(){this.style.setProperty(e,t,n)}}function uz(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function dz(e,t,n){return arguments.length>1?this.each((t==null?lz:typeof t=="function"?uz:cz)(e,t,n??"")):ma(this.node(),e)}function ma(e,t){return e.style.getPropertyValue(t)||d5(e).getComputedStyle(e,null).getPropertyValue(t)}function fz(e){return function(){delete this[e]}}function hz(e,t){return function(){this[e]=t}}function pz(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function mz(e,t){return arguments.length>1?this.each((t==null?fz:typeof t=="function"?pz:hz)(e,t)):this.node()[e]}function f5(e){return e.trim().split(/^|\s+/)}function jy(e){return e.classList||new h5(e)}function h5(e){this._node=e,this._names=f5(e.getAttribute("class")||"")}h5.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function p5(e,t){for(var n=jy(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function m5(e,t){for(var n=jy(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function gz(e){return function(){p5(this,e)}}function yz(e){return function(){m5(this,e)}}function xz(e,t){return function(){(t.apply(this,arguments)?p5:m5)(this,e)}}function vz(e,t){var n=f5(e+"");if(arguments.length<2){for(var r=jy(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?xz:t?gz:yz)(n,t))}function bz(){this.textContent=""}function wz(e){return function(){this.textContent=e}}function Sz(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kz(e){return arguments.length?this.each(e==null?bz:(typeof e=="function"?Sz:wz)(e)):this.node().textContent}function jz(){this.innerHTML=""}function Cz(e){return function(){this.innerHTML=e}}function _z(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ez(e){return arguments.length?this.each(e==null?jz:(typeof e=="function"?_z:Cz)(e)):this.node().innerHTML}function Tz(){this.nextSibling&&this.parentNode.appendChild(this)}function Nz(){return this.each(Tz)}function Rz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pz(){return this.each(Rz)}function Iz(e){var t=typeof e=="function"?e:i5(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Az(){return null}function Mz(e,t){var n=typeof e=="function"?e:i5(e),r=t==null?Az:typeof t=="function"?t:ky(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fz(){var e=this.parentNode;e&&e.removeChild(this)}function Dz(){return this.each(Fz)}function Oz(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zz(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lz(e){return this.select(e?zz:Oz)}function $z(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Bz(e){return function(t){e.call(this,t,this.__data__)}}function Vz(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Wz(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Uz(e,t,n){return function(){var r=this.__on,s,i=Bz(t);if(r){for(var a=0,u=r.length;a<u;++a)if((s=r[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function Hz(e,t,n){var r=Vz(e+""),s,i=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,m;d<f;++d)for(s=0,m=u[d];s<i;++s)if((a=r[s]).type===m.type&&a.name===m.name)return m.value}return}for(u=t?Uz:Wz,s=0;s<i;++s)this.each(u(r[s],t,n));return this}function g5(e,t,n){var r=d5(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Gz(e,t){return function(){return g5(this,e,t)}}function qz(e,t){return function(){return g5(this,e,t.apply(this,arguments))}}function Kz(e,t){return this.each((typeof t=="function"?qz:Gz)(e,t))}function*Xz(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,a;s<i;++s)(a=r[s])&&(yield a)}var y5=[null];function On(e,t){this._groups=e,this._parents=t}function Mc(){return new On([[document.documentElement]],y5)}function Yz(){return this}On.prototype=Mc.prototype={constructor:On,select:SO,selectAll:_O,selectChild:RO,selectChildren:MO,filter:FO,data:BO,enter:DO,exit:WO,join:UO,merge:HO,selection:Yz,order:GO,sort:qO,call:XO,nodes:YO,node:JO,size:QO,empty:ZO,each:ez,attr:az,style:dz,property:mz,classed:vz,text:kz,html:Ez,raise:Nz,lower:Pz,append:Iz,insert:Mz,remove:Dz,clone:Lz,datum:$z,on:Hz,dispatch:Kz,[Symbol.iterator]:Xz};function Mn(e){return typeof e=="string"?new On([[document.querySelector(e)]],[document.documentElement]):new On([[e]],y5)}function Jz(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pr(e,t){if(e=Jz(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Qz={passive:!1},uc={capture:!0,passive:!1};function Om(e){e.stopImmediatePropagation()}function ca(e){e.preventDefault(),e.stopImmediatePropagation()}function x5(e){var t=e.document.documentElement,n=Mn(e).on("dragstart.drag",ca,uc);"onselectstart"in t?n.on("selectstart.drag",ca,uc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function v5(e,t){var n=e.document.documentElement,r=Mn(e).on("dragstart.drag",null);t&&(r.on("click.drag",ca,uc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const md=e=>()=>e;function Kg(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:a,y:u,dx:d,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}Kg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Zz(e){return!e.ctrlKey&&!e.button}function eL(){return this.parentNode}function tL(e,t){return t??{x:e.x,y:e.y}}function nL(){return navigator.maxTouchPoints||"ontouchstart"in this}function b5(){var e=Zz,t=eL,n=tL,r=nL,s={},i=Uf("start","drag","end"),a=0,u,d,f,m,h=0;function g(T){T.on("mousedown.drag",x).filter(r).on("touchstart.drag",S).on("touchmove.drag",_,Qz).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(T,P){if(!(m||!e.call(this,T,P))){var C=w(this,t.call(this,T,P),T,P,"mouse");C&&(Mn(T.view).on("mousemove.drag",v,uc).on("mouseup.drag",b,uc),x5(T.view),Om(T),f=!1,u=T.clientX,d=T.clientY,C("start",T))}}function v(T){if(ca(T),!f){var P=T.clientX-u,C=T.clientY-d;f=P*P+C*C>h}s.mouse("drag",T)}function b(T){Mn(T.view).on("mousemove.drag mouseup.drag",null),v5(T.view,f),ca(T),s.mouse("end",T)}function S(T,P){if(e.call(this,T,P)){var C=T.changedTouches,R=t.call(this,T,P),I=C.length,A,U;for(A=0;A<I;++A)(U=w(this,R,T,P,C[A].identifier,C[A]))&&(Om(T),U("start",T,C[A]))}}function _(T){var P=T.changedTouches,C=P.length,R,I;for(R=0;R<C;++R)(I=s[P[R].identifier])&&(ca(T),I("drag",T,P[R]))}function E(T){var P=T.changedTouches,C=P.length,R,I;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<C;++R)(I=s[P[R].identifier])&&(Om(T),I("end",T,P[R]))}function w(T,P,C,R,I,A){var U=i.copy(),$=pr(A||C,P),H,Y,V;if((V=n.call(T,new Kg("beforestart",{sourceEvent:C,target:g,identifier:I,active:a,x:$[0],y:$[1],dx:0,dy:0,dispatch:U}),R))!=null)return H=V.x-$[0]||0,Y=V.y-$[1]||0,function X(z,W,M){var B=$,O;switch(z){case"start":s[I]=X,O=a++;break;case"end":delete s[I],--a;case"drag":$=pr(M||W,P),O=a;break}U.call(z,T,new Kg(z,{sourceEvent:W,subject:V,target:g,identifier:I,active:O,x:$[0]+H,y:$[1]+Y,dx:$[0]-B[0],dy:$[1]-B[1],dispatch:U}),R)}}return g.filter=function(T){return arguments.length?(e=typeof T=="function"?T:md(!!T),g):e},g.container=function(T){return arguments.length?(t=typeof T=="function"?T:md(T),g):t},g.subject=function(T){return arguments.length?(n=typeof T=="function"?T:md(T),g):n},g.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:md(!!T),g):r},g.on=function(){var T=i.on.apply(i,arguments);return T===i?g:T},g.clickDistance=function(T){return arguments.length?(h=(T=+T)*T,g):Math.sqrt(h)},g}function Cy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function w5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fc(){}var dc=.7,pf=1/dc,ua="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rL=/^#([0-9a-f]{3,8})$/,sL=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),oL=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),iL=new RegExp(`^rgba\\(${ua},${ua},${ua},${fc}\\)$`),aL=new RegExp(`^rgba\\(${Br},${Br},${Br},${fc}\\)$`),lL=new RegExp(`^hsl\\(${fc},${Br},${Br}\\)$`),cL=new RegExp(`^hsla\\(${fc},${Br},${Br},${fc}\\)$`),zw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cy(Fc,ni,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lw,formatHex:Lw,formatHex8:uL,formatHsl:dL,formatRgb:$w,toString:$w});function Lw(){return this.rgb().formatHex()}function uL(){return this.rgb().formatHex8()}function dL(){return S5(this).formatHsl()}function $w(){return this.rgb().formatRgb()}function ni(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bw(t):n===3?new Cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sL.exec(e))?new Cn(t[1],t[2],t[3],1):(t=oL.exec(e))?new Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iL.exec(e))?gd(t[1],t[2],t[3],t[4]):(t=aL.exec(e))?gd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lL.exec(e))?Uw(t[1],t[2]/100,t[3]/100,1):(t=cL.exec(e))?Uw(t[1],t[2]/100,t[3]/100,t[4]):zw.hasOwnProperty(e)?Bw(zw[e]):e==="transparent"?new Cn(NaN,NaN,NaN,0):null}function Bw(e){return new Cn(e>>16&255,e>>8&255,e&255,1)}function gd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Cn(e,t,n,r)}function fL(e){return e instanceof Fc||(e=ni(e)),e?(e=e.rgb(),new Cn(e.r,e.g,e.b,e.opacity)):new Cn}function Xg(e,t,n,r){return arguments.length===1?fL(e):new Cn(e,t,n,r??1)}function Cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Cy(Cn,Xg,w5(Fc,{brighter(e){return e=e==null?pf:Math.pow(pf,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cn(Yo(this.r),Yo(this.g),Yo(this.b),mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vw,formatHex:Vw,formatHex8:hL,formatRgb:Ww,toString:Ww}));function Vw(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function hL(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ww(){const e=mf(this.opacity);return`${e===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${e===1?")":`, ${e})`}`}function mf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ko(e){return e=Yo(e),(e<16?"0":"")+e.toString(16)}function Uw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mr(e,t,n,r)}function S5(e){if(e instanceof mr)return new mr(e.h,e.s,e.l,e.opacity);if(e instanceof Fc||(e=ni(e)),!e)return new mr;if(e instanceof mr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,u=i-s,d=(i+s)/2;return u?(t===i?a=(n-r)/u+(n<r)*6:n===i?a=(r-t)/u+2:a=(t-n)/u+4,u/=d<.5?i+s:2-i-s,a*=60):u=d>0&&d<1?0:a,new mr(a,u,d,e.opacity)}function pL(e,t,n,r){return arguments.length===1?S5(e):new mr(e,t,n,r??1)}function mr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Cy(mr,pL,w5(Fc,{brighter(e){return e=e==null?pf:Math.pow(pf,e),new mr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new mr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Cn(zm(e>=240?e-240:e+120,s,r),zm(e,s,r),zm(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new mr(Hw(this.h),yd(this.s),yd(this.l),mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mf(this.opacity);return`${e===1?"hsl(":"hsla("}${Hw(this.h)}, ${yd(this.s)*100}%, ${yd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hw(e){return e=(e||0)%360,e<0?e+360:e}function yd(e){return Math.max(0,Math.min(1,e||0))}function zm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _y=e=>()=>e;function mL(e,t){return function(n){return e+n*t}}function gL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yL(e){return(e=+e)==1?k5:function(t,n){return n-t?gL(t,n,e):_y(isNaN(t)?n:t)}}function k5(e,t){var n=t-e;return n?mL(e,n):_y(isNaN(e)?t:e)}const gf=(function e(t){var n=yL(t);function r(s,i){var a=n((s=Xg(s)).r,(i=Xg(i)).r),u=n(s.g,i.g),d=n(s.b,i.b),f=k5(s.opacity,i.opacity);return function(m){return s.r=a(m),s.g=u(m),s.b=d(m),s.opacity=f(m),s+""}}return r.gamma=e,r})(1);function xL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function vL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bL(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)s[a]=ql(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(u){for(a=0;a<r;++a)i[a]=s[a](u);return i}}function wL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Or(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function SL(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=ql(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lm=new RegExp(Yg.source,"g");function kL(e){return function(){return e}}function jL(e){return function(t){return e(t)+""}}function j5(e,t){var n=Yg.lastIndex=Lm.lastIndex=0,r,s,i,a=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Yg.exec(e))&&(s=Lm.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),u[a]?u[a]+=i:u[++a]=i),(r=r[0])===(s=s[0])?u[a]?u[a]+=s:u[++a]=s:(u[++a]=null,d.push({i:a,x:Or(r,s)})),n=Lm.lastIndex;return n<t.length&&(i=t.slice(n),u[a]?u[a]+=i:u[++a]=i),u.length<2?d[0]?jL(d[0].x):kL(t):(t=d.length,function(f){for(var m=0,h;m<t;++m)u[(h=d[m]).i]=h.x(f);return u.join("")})}function ql(e,t){var n=typeof t,r;return t==null||n==="boolean"?_y(t):(n==="number"?Or:n==="string"?(r=ni(t))?(t=r,gf):j5:t instanceof ni?gf:t instanceof Date?wL:vL(t)?xL:Array.isArray(t)?bL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SL:Or)(e,t)}var Gw=180/Math.PI,Jg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C5(e,t,n,r,s,i){var a,u,d;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,d/=u),e*r<t*n&&(e=-e,t=-t,d=-d,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*Gw,skewX:Math.atan(d)*Gw,scaleX:a,scaleY:u}}var xd;function CL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Jg:C5(t.a,t.b,t.c,t.d,t.e,t.f)}function _L(e){return e==null||(xd||(xd=document.createElementNS("http://www.w3.org/2000/svg","g")),xd.setAttribute("transform",e),!(e=xd.transform.baseVal.consolidate()))?Jg:(e=e.matrix,C5(e.a,e.b,e.c,e.d,e.e,e.f))}function _5(e,t,n,r){function s(f){return f.length?f.pop()+" ":""}function i(f,m,h,g,x,v){if(f!==h||m!==g){var b=x.push("translate(",null,t,null,n);v.push({i:b-4,x:Or(f,h)},{i:b-2,x:Or(m,g)})}else(h||g)&&x.push("translate("+h+t+g+n)}function a(f,m,h,g){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),g.push({i:h.push(s(h)+"rotate(",null,r)-2,x:Or(f,m)})):m&&h.push(s(h)+"rotate("+m+r)}function u(f,m,h,g){f!==m?g.push({i:h.push(s(h)+"skewX(",null,r)-2,x:Or(f,m)}):m&&h.push(s(h)+"skewX("+m+r)}function d(f,m,h,g,x,v){if(f!==h||m!==g){var b=x.push(s(x)+"scale(",null,",",null,")");v.push({i:b-4,x:Or(f,h)},{i:b-2,x:Or(m,g)})}else(h!==1||g!==1)&&x.push(s(x)+"scale("+h+","+g+")")}return function(f,m){var h=[],g=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,h,g),a(f.rotate,m.rotate,h,g),u(f.skewX,m.skewX,h,g),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,h,g),f=m=null,function(x){for(var v=-1,b=g.length,S;++v<b;)h[(S=g[v]).i]=S.x(x);return h.join("")}}}var EL=_5(CL,"px, ","px)","deg)"),TL=_5(_L,", ",")",")"),NL=1e-12;function qw(e){return((e=Math.exp(e))+1/e)/2}function RL(e){return((e=Math.exp(e))-1/e)/2}function PL(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ud=(function e(t,n,r){function s(i,a){var u=i[0],d=i[1],f=i[2],m=a[0],h=a[1],g=a[2],x=m-u,v=h-d,b=x*x+v*v,S,_;if(b<NL)_=Math.log(g/f)/t,S=function(R){return[u+R*x,d+R*v,f*Math.exp(t*R*_)]};else{var E=Math.sqrt(b),w=(g*g-f*f+r*b)/(2*f*n*E),T=(g*g-f*f-r*b)/(2*g*n*E),P=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(T*T+1)-T);_=(C-P)/t,S=function(R){var I=R*_,A=qw(P),U=f/(n*E)*(A*PL(t*I+P)-RL(P));return[u+U*x,d+U*v,f*A/qw(t*I+P)]}}return S.duration=_*1e3*t/Math.SQRT2,S}return s.rho=function(i){var a=Math.max(.001,+i),u=a*a,d=u*u;return e(a,u,d)},s})(Math.SQRT2,2,4);var ga=0,zl=0,Tl=0,E5=1e3,yf,Ll,xf=0,ri=0,Gf=0,hc=typeof performance=="object"&&performance.now?performance:Date,T5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ey(){return ri||(T5(IL),ri=hc.now()+Gf)}function IL(){ri=0}function vf(){this._call=this._time=this._next=null}vf.prototype=N5.prototype={constructor:vf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ey():+n)+(t==null?0:+t),!this._next&&Ll!==this&&(Ll?Ll._next=this:yf=this,Ll=this),this._call=e,this._time=n,Qg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qg())}};function N5(e,t,n){var r=new vf;return r.restart(e,t,n),r}function AL(){Ey(),++ga;for(var e=yf,t;e;)(t=ri-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ga}function Kw(){ri=(xf=hc.now())+Gf,ga=zl=0;try{AL()}finally{ga=0,FL(),ri=0}}function ML(){var e=hc.now(),t=e-xf;t>E5&&(Gf-=t,xf=e)}function FL(){for(var e,t=yf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:yf=n);Ll=e,Qg(r)}function Qg(e){if(!ga){zl&&(zl=clearTimeout(zl));var t=e-ri;t>24?(e<1/0&&(zl=setTimeout(Kw,e-hc.now()-Gf)),Tl&&(Tl=clearInterval(Tl))):(Tl||(xf=hc.now(),Tl=setInterval(ML,E5)),ga=1,T5(Kw))}}function Xw(e,t,n){var r=new vf;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var DL=Uf("start","end","cancel","interrupt"),OL=[],R5=0,Yw=1,Zg=2,Hd=3,Jw=4,e0=5,Gd=6;function qf(e,t,n,r,s,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;zL(e,n,{name:t,index:r,group:s,on:DL,tween:OL,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:R5})}function Ty(e,t){var n=jr(e,t);if(n.state>R5)throw new Error("too late; already scheduled");return n}function Kr(e,t){var n=jr(e,t);if(n.state>Hd)throw new Error("too late; already running");return n}function jr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zL(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=N5(i,0,n.time);function i(f){n.state=Yw,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var m,h,g,x;if(n.state!==Yw)return d();for(m in r)if(x=r[m],x.name===n.name){if(x.state===Hd)return Xw(a);x.state===Jw?(x.state=Gd,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[m]):+m<t&&(x.state=Gd,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[m])}if(Xw(function(){n.state===Hd&&(n.state=Jw,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Zg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zg){for(n.state=Hd,s=new Array(g=n.tween.length),m=0,h=-1;m<g;++m)(x=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=x);s.length=h+1}}function u(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=e0,1),h=-1,g=s.length;++h<g;)s[h].call(e,m);n.state===e0&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Gd,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function qd(e,t){var n=e.__transition,r,s,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}s=r.state>Zg&&r.state<e0,r.state=Gd,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function LL(e){return this.each(function(){qd(this,e)})}function $L(e,t){var n,r;return function(){var s=Kr(this,e),i=s.tween;if(i!==n){r=n=i;for(var a=0,u=r.length;a<u;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}s.tween=r}}function BL(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Kr(this,e),a=i.tween;if(a!==r){s=(r=a).slice();for(var u={name:t,value:n},d=0,f=s.length;d<f;++d)if(s[d].name===t){s[d]=u;break}d===f&&s.push(u)}i.tween=s}}function VL(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jr(this.node(),n).tween,s=0,i=r.length,a;s<i;++s)if((a=r[s]).name===e)return a.value;return null}return this.each((t==null?$L:BL)(n,e,t))}function Ny(e,t,n){var r=e._id;return e.each(function(){var s=Kr(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return jr(s,r).value[t]}}function P5(e,t){var n;return(typeof t=="number"?Or:t instanceof ni?gf:(n=ni(t))?(t=n,gf):j5)(e,t)}function WL(e){return function(){this.removeAttribute(e)}}function UL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HL(e,t,n){var r,s=n+"",i;return function(){var a=this.getAttribute(e);return a===s?null:a===r?i:i=t(r=a,n)}}function GL(e,t,n){var r,s=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===r?i:i=t(r=a,n)}}function qL(e,t,n){var r,s,i;return function(){var a,u=n(this),d;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),d=u+"",a===d?null:a===r&&d===s?i:(s=d,i=t(r=a,u)))}}function KL(e,t,n){var r,s,i;return function(){var a,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),d=u+"",a===d?null:a===r&&d===s?i:(s=d,i=t(r=a,u)))}}function XL(e,t){var n=Hf(e),r=n==="transform"?TL:P5;return this.attrTween(e,typeof t=="function"?(n.local?KL:qL)(n,r,Ny(this,"attr."+e,t)):t==null?(n.local?UL:WL)(n):(n.local?GL:HL)(n,r,t))}function YL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function JL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function QL(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&JL(e,i)),n}return s._value=t,s}function ZL(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&YL(e,i)),n}return s._value=t,s}function e$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Hf(e);return this.tween(n,(r.local?QL:ZL)(r,t))}function t$(e,t){return function(){Ty(this,e).delay=+t.apply(this,arguments)}}function n$(e,t){return t=+t,function(){Ty(this,e).delay=t}}function r$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t$:n$)(t,e)):jr(this.node(),t).delay}function s$(e,t){return function(){Kr(this,e).duration=+t.apply(this,arguments)}}function o$(e,t){return t=+t,function(){Kr(this,e).duration=t}}function i$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?s$:o$)(t,e)):jr(this.node(),t).duration}function a$(e,t){if(typeof t!="function")throw new Error;return function(){Kr(this,e).ease=t}}function l$(e){var t=this._id;return arguments.length?this.each(a$(t,e)):jr(this.node(),t).ease}function c$(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Kr(this,e).ease=n}}function u$(e){if(typeof e!="function")throw new Error;return this.each(c$(this._id,e))}function d$(e){typeof e!="function"&&(e=l5(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],a=i.length,u=r[s]=[],d,f=0;f<a;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&u.push(d);return new ys(r,this._parents,this._name,this._id)}function f$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),a=new Array(r),u=0;u<i;++u)for(var d=t[u],f=n[u],m=d.length,h=a[u]=new Array(m),g,x=0;x<m;++x)(g=d[x]||f[x])&&(h[x]=g);for(;u<r;++u)a[u]=t[u];return new ys(a,this._parents,this._name,this._id)}function h$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function p$(e,t,n){var r,s,i=h$(t)?Ty:Kr;return function(){var a=i(this,e),u=a.on;u!==r&&(s=(r=u).copy()).on(t,n),a.on=s}}function m$(e,t){var n=this._id;return arguments.length<2?jr(this.node(),n).on.on(e):this.each(p$(n,e,t))}function g$(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function y$(){return this.on("end.remove",g$(this._id))}function x$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ky(e));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var u=r[a],d=u.length,f=i[a]=new Array(d),m,h,g=0;g<d;++g)(m=u[g])&&(h=e.call(m,m.__data__,g,u))&&("__data__"in m&&(h.__data__=m.__data__),f[g]=h,qf(f[g],t,n,g,f,jr(m,n)));return new ys(i,this._parents,t,n)}function v$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=a5(e));for(var r=this._groups,s=r.length,i=[],a=[],u=0;u<s;++u)for(var d=r[u],f=d.length,m,h=0;h<f;++h)if(m=d[h]){for(var g=e.call(m,m.__data__,h,d),x,v=jr(m,n),b=0,S=g.length;b<S;++b)(x=g[b])&&qf(x,t,n,b,g,v);i.push(g),a.push(m)}return new ys(i,a,t,n)}var b$=Mc.prototype.constructor;function w$(){return new b$(this._groups,this._parents)}function S$(e,t){var n,r,s;return function(){var i=ma(this,e),a=(this.style.removeProperty(e),ma(this,e));return i===a?null:i===n&&a===r?s:s=t(n=i,r=a)}}function I5(e){return function(){this.style.removeProperty(e)}}function k$(e,t,n){var r,s=n+"",i;return function(){var a=ma(this,e);return a===s?null:a===r?i:i=t(r=a,n)}}function j$(e,t,n){var r,s,i;return function(){var a=ma(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),ma(this,e))),a===d?null:a===r&&d===s?i:(s=d,i=t(r=a,u))}}function C$(e,t){var n,r,s,i="style."+t,a="end."+i,u;return function(){var d=Kr(this,e),f=d.on,m=d.value[i]==null?u||(u=I5(t)):void 0;(f!==n||s!==m)&&(r=(n=f).copy()).on(a,s=m),d.on=r}}function _$(e,t,n){var r=(e+="")=="transform"?EL:P5;return t==null?this.styleTween(e,S$(e,r)).on("end.style."+e,I5(e)):typeof t=="function"?this.styleTween(e,j$(e,r,Ny(this,"style."+e,t))).each(C$(this._id,e)):this.styleTween(e,k$(e,r,t),n).on("end.style."+e,null)}function E$(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function T$(e,t,n){var r,s;function i(){var a=t.apply(this,arguments);return a!==s&&(r=(s=a)&&E$(e,a,n)),r}return i._value=t,i}function N$(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,T$(e,t,n??""))}function R$(e){return function(){this.textContent=e}}function P$(e){return function(){var t=e(this);this.textContent=t??""}}function I$(e){return this.tween("text",typeof e=="function"?P$(Ny(this,"text",e)):R$(e==null?"":e+""))}function A$(e){return function(t){this.textContent=e.call(this,t)}}function M$(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&A$(s)),t}return r._value=e,r}function F$(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,M$(e))}function D$(){for(var e=this._name,t=this._id,n=A5(),r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],u=a.length,d,f=0;f<u;++f)if(d=a[f]){var m=jr(d,t);qf(d,e,n,f,a,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ys(r,this._parents,e,n)}function O$(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,a){var u={value:a},d={value:function(){--s===0&&i()}};n.each(function(){var f=Kr(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),s===0&&i()})}var z$=0;function ys(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function A5(){return++z$}var as=Mc.prototype;ys.prototype={constructor:ys,select:x$,selectAll:v$,selectChild:as.selectChild,selectChildren:as.selectChildren,filter:d$,merge:f$,selection:w$,transition:D$,call:as.call,nodes:as.nodes,node:as.node,size:as.size,empty:as.empty,each:as.each,on:m$,attr:XL,attrTween:e$,style:_$,styleTween:N$,text:I$,textTween:F$,remove:y$,tween:VL,delay:r$,duration:i$,ease:l$,easeVarying:u$,end:O$,[Symbol.iterator]:as[Symbol.iterator]};function L$(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $$={time:null,delay:0,duration:250,ease:L$};function B$(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function V$(e){var t,n;e instanceof ys?(t=e._id,e=e._name):(t=A5(),(n=$$).time=Ey(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],u=a.length,d,f=0;f<u;++f)(d=a[f])&&qf(d,e,t,f,a,n||B$(d,t));return new ys(r,this._parents,e,t)}Mc.prototype.interrupt=LL;Mc.prototype.transition=V$;const vd=e=>()=>e;function W$(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ds(e,t,n){this.k=e,this.x=t,this.y=n}ds.prototype={constructor:ds,scale:function(e){return e===1?this:new ds(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ds(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kf=new ds(1,0,0);M5.prototype=ds.prototype;function M5(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Kf;return e.__zoom}function $m(e){e.stopImmediatePropagation()}function Nl(e){e.preventDefault(),e.stopImmediatePropagation()}function U$(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function H$(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Qw(){return this.__zoom||Kf}function G$(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function q$(){return navigator.maxTouchPoints||"ontouchstart"in this}function K$(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function F5(){var e=U$,t=H$,n=K$,r=G$,s=q$,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Ud,f=Uf("start","zoom","end"),m,h,g,x=500,v=150,b=0,S=10;function _(V){V.property("__zoom",Qw).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",U).filter(s).on("touchstart.zoom",$).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(V,X,z,W){var M=V.selection?V.selection():V;M.property("__zoom",Qw),V!==M?P(V,X,z,W):M.interrupt().each(function(){C(this,arguments).event(W).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},_.scaleBy=function(V,X,z,W){_.scaleTo(V,function(){var M=this.__zoom.k,B=typeof X=="function"?X.apply(this,arguments):X;return M*B},z,W)},_.scaleTo=function(V,X,z,W){_.transform(V,function(){var M=t.apply(this,arguments),B=this.__zoom,O=z==null?T(M):typeof z=="function"?z.apply(this,arguments):z,D=B.invert(O),L=typeof X=="function"?X.apply(this,arguments):X;return n(w(E(B,L),O,D),M,a)},z,W)},_.translateBy=function(V,X,z,W){_.transform(V,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),a)},null,W)},_.translateTo=function(V,X,z,W,M){_.transform(V,function(){var B=t.apply(this,arguments),O=this.__zoom,D=W==null?T(B):typeof W=="function"?W.apply(this,arguments):W;return n(Kf.translate(D[0],D[1]).scale(O.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof z=="function"?-z.apply(this,arguments):-z),B,a)},W,M)};function E(V,X){return X=Math.max(i[0],Math.min(i[1],X)),X===V.k?V:new ds(X,V.x,V.y)}function w(V,X,z){var W=X[0]-z[0]*V.k,M=X[1]-z[1]*V.k;return W===V.x&&M===V.y?V:new ds(V.k,W,M)}function T(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function P(V,X,z,W){V.on("start.zoom",function(){C(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(W).end()}).tween("zoom",function(){var M=this,B=arguments,O=C(M,B).event(W),D=t.apply(M,B),L=z==null?T(D):typeof z=="function"?z.apply(M,B):z,K=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),Z=M.__zoom,q=typeof X=="function"?X.apply(M,B):X,J=d(Z.invert(L).concat(K/Z.k),q.invert(L).concat(K/q.k));return function(ne){if(ne===1)ne=q;else{var te=J(ne),se=K/te[2];ne=new ds(se,L[0]-te[0]*se,L[1]-te[1]*se)}O.zoom(null,ne)}})}function C(V,X,z){return!z&&V.__zooming||new R(V,X)}function R(V,X){this.that=V,this.args=X,this.active=0,this.sourceEvent=null,this.extent=t.apply(V,X),this.taps=0}R.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,X){return this.mouse&&V!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var X=Mn(this.that).datum();f.call(V,this.that,new W$(V,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:f}),X)}};function I(V,...X){if(!e.apply(this,arguments))return;var z=C(this,X).event(V),W=this.__zoom,M=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,r.apply(this,arguments)))),B=pr(V);if(z.wheel)(z.mouse[0][0]!==B[0]||z.mouse[0][1]!==B[1])&&(z.mouse[1]=W.invert(z.mouse[0]=B)),clearTimeout(z.wheel);else{if(W.k===M)return;z.mouse=[B,W.invert(B)],qd(this),z.start()}Nl(V),z.wheel=setTimeout(O,v),z.zoom("mouse",n(w(E(W,M),z.mouse[0],z.mouse[1]),z.extent,a));function O(){z.wheel=null,z.end()}}function A(V,...X){if(g||!e.apply(this,arguments))return;var z=V.currentTarget,W=C(this,X,!0).event(V),M=Mn(V.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",K,!0),B=pr(V,z),O=V.clientX,D=V.clientY;x5(V.view),$m(V),W.mouse=[B,this.__zoom.invert(B)],qd(this),W.start();function L(Z){if(Nl(Z),!W.moved){var q=Z.clientX-O,J=Z.clientY-D;W.moved=q*q+J*J>b}W.event(Z).zoom("mouse",n(w(W.that.__zoom,W.mouse[0]=pr(Z,z),W.mouse[1]),W.extent,a))}function K(Z){M.on("mousemove.zoom mouseup.zoom",null),v5(Z.view,W.moved),Nl(Z),W.event(Z).end()}}function U(V,...X){if(e.apply(this,arguments)){var z=this.__zoom,W=pr(V.changedTouches?V.changedTouches[0]:V,this),M=z.invert(W),B=z.k*(V.shiftKey?.5:2),O=n(w(E(z,B),W,M),t.apply(this,X),a);Nl(V),u>0?Mn(this).transition().duration(u).call(P,O,W,V):Mn(this).call(_.transform,O,W,V)}}function $(V,...X){if(e.apply(this,arguments)){var z=V.touches,W=z.length,M=C(this,X,V.changedTouches.length===W).event(V),B,O,D,L;for($m(V),O=0;O<W;++O)D=z[O],L=pr(D,this),L=[L,this.__zoom.invert(L),D.identifier],M.touch0?!M.touch1&&M.touch0[2]!==L[2]&&(M.touch1=L,M.taps=0):(M.touch0=L,B=!0,M.taps=1+!!m);m&&(m=clearTimeout(m)),B&&(M.taps<2&&(h=L[0],m=setTimeout(function(){m=null},x)),qd(this),M.start())}}function H(V,...X){if(this.__zooming){var z=C(this,X).event(V),W=V.changedTouches,M=W.length,B,O,D,L;for(Nl(V),B=0;B<M;++B)O=W[B],D=pr(O,this),z.touch0&&z.touch0[2]===O.identifier?z.touch0[0]=D:z.touch1&&z.touch1[2]===O.identifier&&(z.touch1[0]=D);if(O=z.that.__zoom,z.touch1){var K=z.touch0[0],Z=z.touch0[1],q=z.touch1[0],J=z.touch1[1],ne=(ne=q[0]-K[0])*ne+(ne=q[1]-K[1])*ne,te=(te=J[0]-Z[0])*te+(te=J[1]-Z[1])*te;O=E(O,Math.sqrt(ne/te)),D=[(K[0]+q[0])/2,(K[1]+q[1])/2],L=[(Z[0]+J[0])/2,(Z[1]+J[1])/2]}else if(z.touch0)D=z.touch0[0],L=z.touch0[1];else return;z.zoom("touch",n(w(O,D,L),z.extent,a))}}function Y(V,...X){if(this.__zooming){var z=C(this,X).event(V),W=V.changedTouches,M=W.length,B,O;for($m(V),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),B=0;B<M;++B)O=W[B],z.touch0&&z.touch0[2]===O.identifier?delete z.touch0:z.touch1&&z.touch1[2]===O.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(O=pr(O,this),Math.hypot(h[0]-O[0],h[1]-O[1])<S)){var D=Mn(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return _.wheelDelta=function(V){return arguments.length?(r=typeof V=="function"?V:vd(+V),_):r},_.filter=function(V){return arguments.length?(e=typeof V=="function"?V:vd(!!V),_):e},_.touchable=function(V){return arguments.length?(s=typeof V=="function"?V:vd(!!V),_):s},_.extent=function(V){return arguments.length?(t=typeof V=="function"?V:vd([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),_):t},_.scaleExtent=function(V){return arguments.length?(i[0]=+V[0],i[1]=+V[1],_):[i[0],i[1]]},_.translateExtent=function(V){return arguments.length?(a[0][0]=+V[0][0],a[1][0]=+V[1][0],a[0][1]=+V[0][1],a[1][1]=+V[1][1],_):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},_.constrain=function(V){return arguments.length?(n=V,_):n},_.duration=function(V){return arguments.length?(u=+V,_):u},_.interpolate=function(V){return arguments.length?(d=V,_):d},_.on=function(){var V=f.on.apply(f,arguments);return V===f?_:V},_.clickDistance=function(V){return arguments.length?(b=(V=+V)*V,_):Math.sqrt(b)},_.tapDistance=function(V){return arguments.length?(S=+V,_):S},_}const Hr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},pc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],D5=["Enter"," ","Escape"],O5={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ya;(function(e){e.Strict="strict",e.Loose="loose"})(ya||(ya={}));var Jo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Jo||(Jo={}));var mc;(function(e){e.Partial="partial",e.Full="full"})(mc||(mc={}));const z5={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var eo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(eo||(eo={}));var bf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bf||(bf={}));var xe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xe||(xe={}));const Zw={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top};function L5(e){return e===null?null:e?"valid":"invalid"}const $5=e=>"id"in e&&"source"in e&&"target"in e,X$=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ry=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Dc=(e,t=[0,0])=>{const{width:n,height:r}=ks(e),s=e.origin??t,i=n*s[0],a=r*s[1];return{x:e.position.x-i,y:e.position.y-a}},Y$=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let a=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(a=i?t.nodeLookup.get(s):Ry(s)?s:t.nodeLookup.get(s.id));const u=a?wf(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Xf(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yf(n)},Oc=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Xf(n,wf(s)),r=!0)}),r?Yf(n):{x:0,y:0,width:0,height:0}},Py=(e,t,[n,r,s]=[0,0,1],i=!1,a=!1)=>{const u={...Lc(t,[n,r,s]),width:t.width/s,height:t.height/s},d=[];for(const f of e.values()){const{measured:m,selectable:h=!0,hidden:g=!1}=f;if(a&&!h||g)continue;const x=m.width??f.width??f.initialWidth??null,v=m.height??f.height??f.initialHeight??null,b=gc(u,va(f)),S=(x??0)*(v??0),_=i&&b>0;(!f.internals.handleBounds||_||b>=S||f.dragging)&&d.push(f)}return d},J$=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Q$(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function Z$({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},a){if(e.size===0)return Promise.resolve(!0);const u=Q$(e,a),d=Oc(u),f=Iy(d,t,n,(a==null?void 0:a.minZoom)??s,(a==null?void 0:a.maxZoom)??i,(a==null?void 0:a.padding)??.1);return await r.setViewport(f,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function B5({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const a=n.get(e),u=a.parentId?n.get(a.parentId):void 0,{x:d,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},m=a.origin??r;let h=a.extent||s;if(a.extent==="parent"&&!a.expandParent)if(!u)i==null||i("005",Hr.error005());else{const x=u.measured.width,v=u.measured.height;x&&v&&(h=[[d,f],[d+x,f+v]])}else u&&ba(a.extent)&&(h=[[a.extent[0][0]+d,a.extent[0][1]+f],[a.extent[1][0]+d,a.extent[1][1]+f]]);const g=ba(h)?si(t,h,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(i==null||i("015",Hr.error015())),{position:{x:g.x-d+(a.measured.width??0)*m[0],y:g.y-f+(a.measured.height??0)*m[1]},positionAbsolute:g}}async function eB({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(g=>g.id)),a=[];for(const g of n){if(g.deletable===!1)continue;const x=i.has(g.id),v=!x&&g.parentId&&a.find(b=>b.id===g.parentId);(x||v)&&a.push(g)}const u=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),m=J$(a,d);for(const g of d)u.has(g.id)&&!m.find(v=>v.id===g.id)&&m.push(g);if(!s)return{edges:m,nodes:a};const h=await s({nodes:a,edges:m});return typeof h=="boolean"?h?{edges:m,nodes:a}:{edges:[],nodes:[]}:h}const xa=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),si=(e={x:0,y:0},t,n)=>({x:xa(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:xa(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function V5(e,t,n){const{width:r,height:s}=ks(n),{x:i,y:a}=n.internals.positionAbsolute;return si(e,[[i,a],[i+r,a+s]],t)}const e2=(e,t,n)=>e<t?xa(Math.abs(e-t),1,t)/t:e>n?-xa(Math.abs(e-n),1,t)/t:0,W5=(e,t,n=15,r=40)=>{const s=e2(e.x,r,t.width-r)*n,i=e2(e.y,r,t.height-r)*n;return[s,i]},Xf=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),t0=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Yf=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),va=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=Ry(e)?e.internals.positionAbsolute:Dc(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},wf=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=Ry(e)?e.internals.positionAbsolute:Dc(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},U5=(e,t)=>Yf(Xf(t0(e),t0(t))),gc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},t2=e=>yr(e.width)&&yr(e.height)&&yr(e.x)&&yr(e.y),yr=e=>!isNaN(e)&&isFinite(e),tB=(e,t)=>{},zc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Lc=({x:e,y:t},[n,r,s],i=!1,a=[1,1])=>{const u={x:(e-n)/s,y:(t-r)/s};return i?zc(u,a):u},Sf=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Ui(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function nB(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ui(e,n),s=Ui(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Ui(e.top??e.y??0,n),s=Ui(e.bottom??e.y??0,n),i=Ui(e.left??e.x??0,t),a=Ui(e.right??e.x??0,t);return{top:r,right:a,bottom:s,left:i,x:i+a,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function rB(e,t,n,r,s,i){const{x:a,y:u}=Sf(e,[t,n,r]),{x:d,y:f}=Sf({x:e.x+e.width,y:e.y+e.height},[t,n,r]),m=s-d,h=i-f;return{left:Math.floor(a),top:Math.floor(u),right:Math.floor(m),bottom:Math.floor(h)}}const Iy=(e,t,n,r,s,i)=>{const a=nB(i,t,n),u=(t-a.x)/e.width,d=(n-a.y)/e.height,f=Math.min(u,d),m=xa(f,r,s),h=e.x+e.width/2,g=e.y+e.height/2,x=t/2-h*m,v=n/2-g*m,b=rB(e,x,v,m,t,n),S={left:Math.min(b.left-a.left,0),top:Math.min(b.top-a.top,0),right:Math.min(b.right-a.right,0),bottom:Math.min(b.bottom-a.bottom,0)};return{x:x-S.left+S.right,y:v-S.top+S.bottom,zoom:m}},yc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ba(e){return e!=null&&e!=="parent"}function ks(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function H5(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function G5(e,t={width:0,height:0},n,r,s){const i={...e},a=r.get(n);if(a){const u=a.origin||s;i.x+=a.internals.positionAbsolute.x-(t.width??0)*u[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*u[1]}return i}function n2(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function sB(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function oB(e){return{...O5,...e||{}}}function Kl(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:a}=xr(e),u=Lc({x:i-((s==null?void 0:s.left)??0),y:a-((s==null?void 0:s.top)??0)},r),{x:d,y:f}=n?zc(u,t):u;return{xSnapped:d,ySnapped:f,...u}}const Ay=e=>({width:e.offsetWidth,height:e.offsetHeight}),q5=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},iB=["INPUT","SELECT","TEXTAREA"];function K5(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:iB.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const X5=e=>"clientX"in e,xr=(e,t)=>{var i,a;const n=X5(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},r2=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:s,position:a.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...Ay(a)}})};function Y5({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:u}){const d=e*.125+s*.375+a*.375+n*.125,f=t*.125+i*.375+u*.375+r*.125,m=Math.abs(d-e),h=Math.abs(f-t);return[d,f,m,h]}function bd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function s2({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case xe.Left:return[t-bd(t-r,i),n];case xe.Right:return[t+bd(r-t,i),n];case xe.Top:return[t,n-bd(n-s,i)];case xe.Bottom:return[t,n+bd(s-n,i)]}}function J5({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:r,targetY:s,targetPosition:i=xe.Top,curvature:a=.25}){const[u,d]=s2({pos:n,x1:e,y1:t,x2:r,y2:s,c:a}),[f,m]=s2({pos:i,x1:r,y1:s,x2:e,y2:t,c:a}),[h,g,x,v]=Y5({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:m});return[`M${e},${t} C${u},${d} ${f},${m} ${r},${s}`,h,g,x,v]}function Q5({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,a=Math.abs(r-t)/2,u=r<t?r+a:r-a;return[i,u,s,a]}function aB({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const a=s&&n?r+1e3:r,u=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return a+u}function lB({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Xf(wf(e),wf(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return gc(a,Yf(i))>0}const cB=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,uB=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Z5=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||cB;let s;return $5(e)?s={...e}:s={...e,id:r(e)},uB(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function eC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,a,u]=Q5({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,a,u]}const o2={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},dB=({source:e,sourcePosition:t=xe.Bottom,target:n})=>t===xe.Left||t===xe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},i2=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function fB({source:e,sourcePosition:t=xe.Bottom,target:n,targetPosition:r=xe.Top,center:s,offset:i,stepPosition:a}){const u=o2[t],d=o2[r],f={x:e.x+u.x*i,y:e.y+u.y*i},m={x:n.x+d.x*i,y:n.y+d.y*i},h=dB({source:f,sourcePosition:t,target:m}),g=h.x!==0?"x":"y",x=h[g];let v=[],b,S;const _={x:0,y:0},E={x:0,y:0},[,,w,T]=Q5({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*d[g]===-1){g==="x"?(b=s.x??f.x+(m.x-f.x)*a,S=s.y??(f.y+m.y)/2):(b=s.x??(f.x+m.x)/2,S=s.y??f.y+(m.y-f.y)*a);const C=[{x:b,y:f.y},{x:b,y:m.y}],R=[{x:f.x,y:S},{x:m.x,y:S}];u[g]===x?v=g==="x"?C:R:v=g==="x"?R:C}else{const C=[{x:f.x,y:m.y}],R=[{x:m.x,y:f.y}];if(g==="x"?v=u.x===x?R:C:v=u.y===x?C:R,t===r){const H=Math.abs(e[g]-n[g]);if(H<=i){const Y=Math.min(i-1,i-H);u[g]===x?_[g]=(f[g]>e[g]?-1:1)*Y:E[g]=(m[g]>n[g]?-1:1)*Y}}if(t!==r){const H=g==="x"?"y":"x",Y=u[g]===d[H],V=f[H]>m[H],X=f[H]<m[H];(u[g]===1&&(!Y&&V||Y&&X)||u[g]!==1&&(!Y&&X||Y&&V))&&(v=g==="x"?C:R)}const I={x:f.x+_.x,y:f.y+_.y},A={x:m.x+E.x,y:m.y+E.y},U=Math.max(Math.abs(I.x-v[0].x),Math.abs(A.x-v[0].x)),$=Math.max(Math.abs(I.y-v[0].y),Math.abs(A.y-v[0].y));U>=$?(b=(I.x+A.x)/2,S=v[0].y):(b=v[0].x,S=(I.y+A.y)/2)}return[[e,{x:f.x+_.x,y:f.y+_.y},...v,{x:m.x+E.x,y:m.y+E.y},n],b,S,w,T]}function hB(e,t,n,r){const s=Math.min(i2(e,t)/2,i2(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const f=e.x<n.x?-1:1,m=e.y<n.y?1:-1;return`L ${i+s*f},${a}Q ${i},${a} ${i},${a+s*m}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${i},${a+s*d}Q ${i},${a} ${i+s*u},${a}`}function n0({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:r,targetY:s,targetPosition:i=xe.Top,borderRadius:a=5,centerX:u,centerY:d,offset:f=20,stepPosition:m=.5}){const[h,g,x,v,b]=fB({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:u,y:d},offset:f,stepPosition:m});return[h.reduce((_,E,w)=>{let T="";return w>0&&w<h.length-1?T=hB(h[w-1],E,h[w+1],a):T=`${w===0?"M":"L"}${E.x} ${E.y}`,_+=T,_},""),g,x,v,b]}function a2(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function pB(e){var h;const{sourceNode:t,targetNode:n}=e;if(!a2(t)||!a2(n))return null;const r=t.internals.handleBounds||l2(t.handles),s=n.internals.handleBounds||l2(n.handles),i=c2((r==null?void 0:r.source)??[],e.sourceHandle),a=c2(e.connectionMode===ya.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!a)return(h=e.onError)==null||h.call(e,"008",Hr.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=(i==null?void 0:i.position)||xe.Bottom,d=(a==null?void 0:a.position)||xe.Top,f=oi(t,i,u),m=oi(n,a,d);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:u,targetPosition:d}}function l2(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function oi(e,t,n=xe.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:u}=t??ks(e);if(r)return{x:s+a/2,y:i+u/2};switch((t==null?void 0:t.position)??n){case xe.Top:return{x:s+a/2,y:i};case xe.Right:return{x:s+a,y:i+u/2};case xe.Bottom:return{x:s+a/2,y:i+u};case xe.Left:return{x:s,y:i+u/2}}}function c2(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function r0(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function mB(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((a,u)=>([u.markerStart||r,u.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const f=r0(d,t);i.has(f)||(a.push({id:f,color:d.color||n,...d}),i.add(f))}}),a),[]).sort((a,u)=>a.id.localeCompare(u.id))}const tC=1e3,gB=10,My={nodeOrigin:[0,0],nodeExtent:pc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},yB={...My,checkEquality:!0};function Fy(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function xB(e,t,n){const r=Fy(My,n);for(const s of e.values())if(s.parentId)Oy(s,e,t,r);else{const i=Dc(s,r.nodeOrigin),a=ba(s.extent)?s.extent:r.nodeExtent,u=si(i,a,ks(s));s.internals.positionAbsolute=u}}function vB(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function Dy(e){return e==="manual"}function s0(e,t,n,r={}){var f,m;const s=Fy(yB,r),i={i:0},a=new Map(t),u=s!=null&&s.elevateNodesOnSelect&&!Dy(s.zIndexMode)?tC:0;let d=e.length>0;t.clear(),n.clear();for(const h of e){let g=a.get(h.id);if(s.checkEquality&&h===(g==null?void 0:g.internals.userNode))t.set(h.id,g);else{const x=Dc(h,s.nodeOrigin),v=ba(h.extent)?h.extent:s.nodeExtent,b=si(x,v,ks(h));g={...s.defaults,...h,measured:{width:(f=h.measured)==null?void 0:f.width,height:(m=h.measured)==null?void 0:m.height},internals:{positionAbsolute:b,handleBounds:vB(h,g),z:nC(h,u,s.zIndexMode),userNode:h}},t.set(h.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),h.parentId&&Oy(g,t,n,r,i)}return d}function bB(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Oy(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:u,zIndexMode:d}=Fy(My,r),f=e.parentId,m=t.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}bB(e,n),s&&!m.parentId&&m.internals.rootParentIndex===void 0&&d==="auto"&&(m.internals.rootParentIndex=++s.i,m.internals.z=m.internals.z+s.i*gB),s&&m.internals.rootParentIndex!==void 0&&(s.i=m.internals.rootParentIndex);const h=i&&!Dy(d)?tC:0,{x:g,y:x,z:v}=wB(e,m,a,u,h,d),{positionAbsolute:b}=e.internals,S=g!==b.x||x!==b.y;(S||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:g,y:x}:b,z:v}})}function nC(e,t,n){const r=yr(e.zIndex)?e.zIndex:0;return Dy(n)?r:r+(e.selected?t:0)}function wB(e,t,n,r,s,i){const{x:a,y:u}=t.internals.positionAbsolute,d=ks(e),f=Dc(e,n),m=ba(e.extent)?si(f,e.extent,d):f;let h=si({x:a+m.x,y:u+m.y},r,d);e.extent==="parent"&&(h=V5(h,d,t));const g=nC(e,s,i),x=t.internals.z??0;return{x:h.x,y:h.y,z:x>=g?x+1:g}}function zy(e,t,n,r=[0,0]){var a;const s=[],i=new Map;for(const u of e){const d=t.get(u.parentId);if(!d)continue;const f=((a=i.get(u.parentId))==null?void 0:a.expandedRect)??va(d),m=U5(f,u.rect);i.set(u.parentId,{expandedRect:m,parent:d})}return i.size>0&&i.forEach(({expandedRect:u,parent:d},f)=>{var w;const m=d.internals.positionAbsolute,h=ks(d),g=d.origin??r,x=u.x<m.x?Math.round(Math.abs(m.x-u.x)):0,v=u.y<m.y?Math.round(Math.abs(m.y-u.y)):0,b=Math.max(h.width,Math.round(u.width)),S=Math.max(h.height,Math.round(u.height)),_=(b-h.width)*g[0],E=(S-h.height)*g[1];(x>0||v>0||_||E)&&(s.push({id:f,type:"position",position:{x:d.position.x-x+_,y:d.position.y-v+E}}),(w=n.get(f))==null||w.forEach(T=>{e.some(P=>P.id===T.id)||s.push({id:T.id,type:"position",position:{x:T.position.x+x,y:T.position.y+v}})})),(h.width<u.width||h.height<u.height||x||v)&&s.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:b+(x?g[0]*x-_:0),height:S+(v?g[1]*v-E:0)}})}),s}function SB(e,t,n,r,s,i,a){const u=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const f=[],m=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(m.transform),g=[];for(const x of e.values()){const v=t.get(x.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),d=!0;continue}const b=Ay(x.nodeElement),S=v.measured.width!==b.width||v.measured.height!==b.height;if(!!(b.width&&b.height&&(S||!v.internals.handleBounds||x.force))){const E=x.nodeElement.getBoundingClientRect(),w=ba(v.extent)?v.extent:i;let{positionAbsolute:T}=v.internals;v.parentId&&v.extent==="parent"?T=V5(T,b,t.get(v.parentId)):w&&(T=si(T,w,b));const P={...v,measured:b,internals:{...v.internals,positionAbsolute:T,handleBounds:{source:r2("source",x.nodeElement,E,h,v.id),target:r2("target",x.nodeElement,E,h,v.id)}}};t.set(v.id,P),v.parentId&&Oy(P,t,n,{nodeOrigin:s,zIndexMode:a}),d=!0,S&&(f.push({id:v.id,type:"dimensions",dimensions:b}),v.expandParent&&v.parentId&&g.push({id:v.id,parentId:v.parentId,rect:va(P,s)}))}}if(g.length>0){const x=zy(g,t,n,s);f.push(...x)}return{changes:f,updatedInternals:d}}async function kB({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),u=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(u)}function u2(e,t,n,r,s,i){let a=s;const u=r.get(a)||new Map;r.set(a,u.set(n,t)),a=`${s}-${e}`;const d=r.get(a)||new Map;if(r.set(a,d.set(n,t)),i){a=`${s}-${e}-${i}`;const f=r.get(a)||new Map;r.set(a,f.set(n,t))}}function rC(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:a=null,targetHandle:u=null}=r,d={edgeId:r.id,source:s,target:i,sourceHandle:a,targetHandle:u},f=`${s}-${a}--${i}-${u}`,m=`${i}-${u}--${s}-${a}`;u2("source",d,m,e,s,a),u2("target",d,f,e,i,u),t.set(r.id,r)}}function sC(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:sC(n,t):!1}function d2(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function jB(e,t,n,r){const s=new Map;for(const[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!sC(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const u=e.get(i);u&&s.set(i,{id:i,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return s}function Bm({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,u,d;const s=[];for(const[f,m]of t){const h=(a=n.get(f))==null?void 0:a.internals.userNode;h&&s.push({...h,position:m.position,dragging:r})}if(!e)return[s[0],s];const i=(u=n.get(e))==null?void 0:u.internals.userNode;return[i?{...i,position:((d=t.get(e))==null?void 0:d.position)||i.position,dragging:r}:s[0],s]}function CB({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},a=zc(i,t);return{x:a.x-i.x,y:a.y-i.y}}function _B({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},a=0,u=new Map,d=!1,f={x:0,y:0},m=null,h=!1,g=null,x=!1,v=!1,b=null;function S({noDragClassName:E,handleSelector:w,domNode:T,isSelectable:P,nodeId:C,nodeClickDistance:R=0}){g=Mn(T);function I({x:H,y:Y}){const{nodeLookup:V,nodeExtent:X,snapGrid:z,snapToGrid:W,nodeOrigin:M,onNodeDrag:B,onSelectionDrag:O,onError:D,updateNodePositions:L}=t();i={x:H,y:Y};let K=!1;const Z=u.size>1,q=Z&&X?t0(Oc(u)):null,J=Z&&W?CB({dragItems:u,snapGrid:z,x:H,y:Y}):null;for(const[ne,te]of u){if(!V.has(ne))continue;let se={x:H-te.distance.x,y:Y-te.distance.y};W&&(se=J?{x:Math.round(se.x+J.x),y:Math.round(se.y+J.y)}:zc(se,z));let le=null;if(Z&&X&&!te.extent&&q){const{positionAbsolute:ge}=te.internals,Ee=ge.x-q.x+X[0][0],Oe=ge.x+te.measured.width-q.x2+X[1][0],Re=ge.y-q.y+X[0][1],We=ge.y+te.measured.height-q.y2+X[1][1];le=[[Ee,Re],[Oe,We]]}const{position:ce,positionAbsolute:ue}=B5({nodeId:ne,nextPosition:se,nodeLookup:V,nodeExtent:le||X,nodeOrigin:M,onError:D});K=K||te.position.x!==ce.x||te.position.y!==ce.y,te.position=ce,te.internals.positionAbsolute=ue}if(v=v||K,!!K&&(L(u,!0),b&&(r||B||!C&&O))){const[ne,te]=Bm({nodeId:C,dragItems:u,nodeLookup:V});r==null||r(b,u,ne,te),B==null||B(b,ne,te),C||O==null||O(b,te)}}async function A(){if(!m)return;const{transform:H,panBy:Y,autoPanSpeed:V,autoPanOnNodeDrag:X}=t();if(!X){d=!1,cancelAnimationFrame(a);return}const[z,W]=W5(f,m,V);(z!==0||W!==0)&&(i.x=(i.x??0)-z/H[2],i.y=(i.y??0)-W/H[2],await Y({x:z,y:W})&&I(i)),a=requestAnimationFrame(A)}function U(H){var Z;const{nodeLookup:Y,multiSelectionActive:V,nodesDraggable:X,transform:z,snapGrid:W,snapToGrid:M,selectNodesOnDrag:B,onNodeDragStart:O,onSelectionDragStart:D,unselectNodesAndEdges:L}=t();h=!0,(!B||!P)&&!V&&C&&((Z=Y.get(C))!=null&&Z.selected||L()),P&&B&&C&&(e==null||e(C));const K=Kl(H.sourceEvent,{transform:z,snapGrid:W,snapToGrid:M,containerBounds:m});if(i=K,u=jB(Y,X,K,C),u.size>0&&(n||O||!C&&D)){const[q,J]=Bm({nodeId:C,dragItems:u,nodeLookup:Y});n==null||n(H.sourceEvent,u,q,J),O==null||O(H.sourceEvent,q,J),C||D==null||D(H.sourceEvent,J)}}const $=b5().clickDistance(R).on("start",H=>{const{domNode:Y,nodeDragThreshold:V,transform:X,snapGrid:z,snapToGrid:W}=t();m=(Y==null?void 0:Y.getBoundingClientRect())||null,x=!1,v=!1,b=H.sourceEvent,V===0&&U(H),i=Kl(H.sourceEvent,{transform:X,snapGrid:z,snapToGrid:W,containerBounds:m}),f=xr(H.sourceEvent,m)}).on("drag",H=>{const{autoPanOnNodeDrag:Y,transform:V,snapGrid:X,snapToGrid:z,nodeDragThreshold:W,nodeLookup:M}=t(),B=Kl(H.sourceEvent,{transform:V,snapGrid:X,snapToGrid:z,containerBounds:m});if(b=H.sourceEvent,(H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1||C&&!M.has(C))&&(x=!0),!x){if(!d&&Y&&h&&(d=!0,A()),!h){const O=xr(H.sourceEvent,m),D=O.x-f.x,L=O.y-f.y;Math.sqrt(D*D+L*L)>W&&U(H)}(i.x!==B.xSnapped||i.y!==B.ySnapped)&&u&&h&&(f=xr(H.sourceEvent,m),I(B))}}).on("end",H=>{if(!(!h||x)&&(d=!1,h=!1,cancelAnimationFrame(a),u.size>0)){const{nodeLookup:Y,updateNodePositions:V,onNodeDragStop:X,onSelectionDragStop:z}=t();if(v&&(V(u,!1),v=!1),s||X||!C&&z){const[W,M]=Bm({nodeId:C,dragItems:u,nodeLookup:Y,dragging:!1});s==null||s(H.sourceEvent,u,W,M),X==null||X(H.sourceEvent,W,M),C||z==null||z(H.sourceEvent,M)}}}).filter(H=>{const Y=H.target;return!H.button&&(!E||!d2(Y,`.${E}`,T))&&(!w||d2(Y,w,T))});g.call($)}function _(){g==null||g.on(".drag",null)}return{update:S,destroy:_}}function EB(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())gc(s,va(i))>0&&r.push(i);return r}const TB=250;function NB(e,t,n,r){var u,d;let s=[],i=1/0;const a=EB(e,n,t+TB);for(const f of a){const m=[...((u=f.internals.handleBounds)==null?void 0:u.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const h of m){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:g,y:x}=oi(f,h,h.position,!0),v=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(x-e.y,2));v>t||(v<i?(s=[{...h,x:g,y:x}],i=v):v===i&&s.push({...h,x:g,y:x}))}}if(!s.length)return null;if(s.length>1){const f=r.type==="source"?"target":"source";return s.find(m=>m.type===f)??s[0]}return s[0]}function oC(e,t,n,r,s,i=!1){var f,m,h;const a=r.get(e);if(!a)return null;const u=s==="strict"?(f=a.internals.handleBounds)==null?void 0:f[t]:[...((m=a.internals.handleBounds)==null?void 0:m.source)??[],...((h=a.internals.handleBounds)==null?void 0:h.target)??[]],d=(n?u==null?void 0:u.find(g=>g.id===n):u==null?void 0:u[0])??null;return d&&i?{...d,...oi(a,d,d.position,!0)}:d}function iC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function RB(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const aC=()=>!0;function PB(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:a,domNode:u,nodeLookup:d,lib:f,autoPanOnConnect:m,flowId:h,panBy:g,cancelConnection:x,onConnectStart:v,onConnect:b,onConnectEnd:S,isValidConnection:_=aC,onReconnectEnd:E,updateConnection:w,getTransform:T,getFromHandle:P,autoPanSpeed:C,dragThreshold:R=1,handleDomNode:I}){const A=q5(e.target);let U=0,$;const{x:H,y:Y}=xr(e),V=iC(i,I),X=u==null?void 0:u.getBoundingClientRect();let z=!1;if(!X||!V)return;const W=oC(s,V,r,d,t);if(!W)return;let M=xr(e,X),B=!1,O=null,D=!1,L=null;function K(){if(!m||!X)return;const[ce,ue]=W5(M,X,C);g({x:ce,y:ue}),U=requestAnimationFrame(K)}const Z={...W,nodeId:s,type:V,position:W.position},q=d.get(s);let ne={inProgress:!0,isValid:null,from:oi(q,Z,xe.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:q,to:M,toHandle:null,toPosition:Zw[Z.position],toNode:null,pointer:M};function te(){z=!0,w(ne),v==null||v(e,{nodeId:s,handleId:r,handleType:V})}R===0&&te();function se(ce){if(!z){const{x:We,y:Tt}=xr(ce),Be=We-H,zt=Tt-Y;if(!(Be*Be+zt*zt>R*R))return;te()}if(!P()||!Z){le(ce);return}const ue=T();M=xr(ce,X),$=NB(Lc(M,ue,!1,[1,1]),n,d,Z),B||(K(),B=!0);const ge=lC(ce,{handle:$,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:a?"target":"source",isValidConnection:_,doc:A,lib:f,flowId:h,nodeLookup:d});L=ge.handleDomNode,O=ge.connection,D=RB(!!$,ge.isValid);const Ee=d.get(s),Oe=Ee?oi(Ee,Z,xe.Left,!0):ne.from,Re={...ne,from:Oe,isValid:D,to:ge.toHandle&&D?Sf({x:ge.toHandle.x,y:ge.toHandle.y},ue):M,toHandle:ge.toHandle,toPosition:D&&ge.toHandle?ge.toHandle.position:Zw[Z.position],toNode:ge.toHandle?d.get(ge.toHandle.nodeId):null,pointer:M};w(Re),ne=Re}function le(ce){if(!("touches"in ce&&ce.touches.length>0)){if(z){($||L)&&O&&D&&(b==null||b(O));const{inProgress:ue,...ge}=ne,Ee={...ge,toPosition:ne.toHandle?ne.toPosition:null};S==null||S(ce,Ee),i&&(E==null||E(ce,Ee))}x(),cancelAnimationFrame(U),B=!1,D=!1,O=null,L=null,A.removeEventListener("mousemove",se),A.removeEventListener("mouseup",le),A.removeEventListener("touchmove",se),A.removeEventListener("touchend",le)}}A.addEventListener("mousemove",se),A.addEventListener("mouseup",le),A.addEventListener("touchmove",se),A.addEventListener("touchend",le)}function lC(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:a,lib:u,flowId:d,isValidConnection:f=aC,nodeLookup:m}){const h=i==="target",g=t?a.querySelector(`.${u}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:v}=xr(e),b=a.elementFromPoint(x,v),S=b!=null&&b.classList.contains(`${u}-flow__handle`)?b:g,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const E=iC(void 0,S),w=S.getAttribute("data-nodeid"),T=S.getAttribute("data-handleid"),P=S.classList.contains("connectable"),C=S.classList.contains("connectableend");if(!w||!E)return _;const R={source:h?w:r,sourceHandle:h?T:s,target:h?r:w,targetHandle:h?s:T};_.connection=R;const A=P&&C&&(n===ya.Strict?h&&E==="source"||!h&&E==="target":w!==r||T!==s);_.isValid=A&&f(R),_.toHandle=oC(w,E,T,m,n,!0)}return _}const o0={onPointerDown:PB,isValid:lC};function IB({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Mn(e);function i({translateExtent:u,width:d,height:f,zoomStep:m=1,pannable:h=!0,zoomable:g=!0,inversePan:x=!1}){const v=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const T=n(),P=w.sourceEvent.ctrlKey&&yc()?10:1,C=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*m,R=T[2]*Math.pow(2,C*P);t.scaleTo(R)};let b=[0,0];const S=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(b=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},_=w=>{const T=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const P=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],C=[P[0]-b[0],P[1]-b[1]];b=P;const R=r()*Math.max(T[2],Math.log(T[2]))*(x?-1:1),I={x:T[0]-C[0]*R,y:T[1]-C[1]*R},A=[[0,0],[d,f]];t.setViewportConstrained({x:I.x,y:I.y,zoom:T[2]},A,u)},E=F5().on("start",S).on("zoom",h?_:null).on("zoom.wheel",g?v:null);s.call(E,{})}function a(){s.on("zoom",null)}return{update:i,destroy:a,pointer:pr}}const Jf=e=>({x:e.x,y:e.y,zoom:e.k}),Vm=({x:e,y:t,zoom:n})=>Kf.translate(e,t).scale(n),oa=(e,t)=>e.target.closest(`.${t}`),cC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),AB=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Wm=(e,t=0,n=AB,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},uC=e=>{const t=e.ctrlKey&&yc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function MB({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:f}){return m=>{if(oa(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(m.ctrlKey&&a){const S=pr(m),_=uC(m),E=h*Math.pow(2,_);r.scaleTo(n,E,S,m);return}const g=m.deltaMode===1?20:1;let x=s===Jo.Vertical?0:m.deltaX*g,v=s===Jo.Horizontal?0:m.deltaY*g;!yc()&&m.shiftKey&&s!==Jo.Vertical&&(x=m.deltaY*g,v=0),r.translateBy(n,-(x/h)*i,-(v/h)*i,{internal:!0});const b=Jf(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(m,b),e.panScrollTimeout=setTimeout(()=>{f==null||f(m,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u==null||u(m,b))}}function FB({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",a=!t&&i&&!r.ctrlKey,u=oa(r,e);if(r.ctrlKey&&i&&u&&r.preventDefault(),a||u)return null;r.preventDefault(),n.call(this,r,s)}}function DB({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,a,u;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Jf(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((u=r.sourceEvent)==null?void 0:u.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function OB({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var a,u;e.usedRightMouseButton=!!(n&&cC(t,e.mouseButton??0)),(a=i.sourceEvent)!=null&&a.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((u=i.sourceEvent)!=null&&u.internal)&&(s==null||s(i.sourceEvent,Jf(i.transform)))}}function zB({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return a=>{var u;if(!((u=a.sourceEvent)!=null&&u.internal)&&(e.isZoomingOrPanning=!1,i&&cC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const d=Jf(a.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(a.sourceEvent,d)},n?150:0)}}}function LB({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:u,noPanClassName:d,lib:f,connectionInProgress:m}){return h=>{var S;const g=e||t,x=n&&h.ctrlKey,v=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(oa(h,`${f}-flow__node`)||oa(h,`${f}-flow__edge`)))return!0;if(!r&&!g&&!s&&!i&&!n||a||m&&!v||oa(h,u)&&v||oa(h,d)&&(!v||s&&v&&!e)||!n&&h.ctrlKey&&v)return!1;if(!n&&h.type==="touchstart"&&((S=h.touches)==null?void 0:S.length)>1)return h.preventDefault(),!1;if(!g&&!s&&!x&&v||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||v)&&b}}function $B({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),h=F5().scaleExtent([t,n]).translateExtent(r),g=Mn(e).call(h);E({x:s.x,y:s.y,zoom:xa(s.zoom,t,n)},[[0,0],[m.width,m.height]],r);const x=g.on("wheel.zoom"),v=g.on("dblclick.zoom");h.wheelDelta(uC);function b($,H){return g?new Promise(Y=>{h==null||h.interpolate((H==null?void 0:H.interpolate)==="linear"?ql:Ud).transform(Wm(g,H==null?void 0:H.duration,H==null?void 0:H.ease,()=>Y(!0)),$)}):Promise.resolve(!1)}function S({noWheelClassName:$,noPanClassName:H,onPaneContextMenu:Y,userSelectionActive:V,panOnScroll:X,panOnDrag:z,panOnScrollMode:W,panOnScrollSpeed:M,preventScrolling:B,zoomOnPinch:O,zoomOnScroll:D,zoomOnDoubleClick:L,zoomActivationKeyPressed:K,lib:Z,onTransformChange:q,connectionInProgress:J,paneClickDistance:ne,selectionOnDrag:te}){V&&!f.isZoomingOrPanning&&_();const se=X&&!K&&!V;h.clickDistance(te?1/0:!yr(ne)||ne<0?0:ne);const le=se?MB({zoomPanValues:f,noWheelClassName:$,d3Selection:g,d3Zoom:h,panOnScrollMode:W,panOnScrollSpeed:M,zoomOnPinch:O,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:u}):FB({noWheelClassName:$,preventScrolling:B,d3ZoomHandler:x});if(g.on("wheel.zoom",le,{passive:!1}),!V){const ue=DB({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:a});h.on("start",ue);const ge=OB({zoomPanValues:f,panOnDrag:z,onPaneContextMenu:!!Y,onPanZoom:i,onTransformChange:q});h.on("zoom",ge);const Ee=zB({zoomPanValues:f,panOnDrag:z,panOnScroll:X,onPaneContextMenu:Y,onPanZoomEnd:u,onDraggingChange:d});h.on("end",Ee)}const ce=LB({zoomActivationKeyPressed:K,panOnDrag:z,zoomOnScroll:D,panOnScroll:X,zoomOnDoubleClick:L,zoomOnPinch:O,userSelectionActive:V,noPanClassName:H,noWheelClassName:$,lib:Z,connectionInProgress:J});h.filter(ce),L?g.on("dblclick.zoom",v):g.on("dblclick.zoom",null)}function _(){h.on("zoom",null)}async function E($,H,Y){const V=Vm($),X=h==null?void 0:h.constrain()(V,H,Y);return X&&await b(X),new Promise(z=>z(X))}async function w($,H){const Y=Vm($);return await b(Y,H),new Promise(V=>V(Y))}function T($){if(g){const H=Vm($),Y=g.property("__zoom");(Y.k!==$.zoom||Y.x!==$.x||Y.y!==$.y)&&(h==null||h.transform(g,H,null,{sync:!0}))}}function P(){const $=g?M5(g.node()):{x:0,y:0,k:1};return{x:$.x,y:$.y,zoom:$.k}}function C($,H){return g?new Promise(Y=>{h==null||h.interpolate((H==null?void 0:H.interpolate)==="linear"?ql:Ud).scaleTo(Wm(g,H==null?void 0:H.duration,H==null?void 0:H.ease,()=>Y(!0)),$)}):Promise.resolve(!1)}function R($,H){return g?new Promise(Y=>{h==null||h.interpolate((H==null?void 0:H.interpolate)==="linear"?ql:Ud).scaleBy(Wm(g,H==null?void 0:H.duration,H==null?void 0:H.ease,()=>Y(!0)),$)}):Promise.resolve(!1)}function I($){h==null||h.scaleExtent($)}function A($){h==null||h.translateExtent($)}function U($){const H=!yr($)||$<0?0:$;h==null||h.clickDistance(H)}return{update:S,destroy:_,setViewport:w,setViewportConstrained:E,getViewport:P,scaleTo:C,scaleBy:R,setScaleExtent:I,setTranslateExtent:A,syncViewport:T,setClickDistance:U}}var wa;(function(e){e.Line="line",e.Handle="handle"})(wa||(wa={}));function BB({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const a=e-t,u=n-r,d=[a>0?1:a<0?-1:0,u>0?1:u<0?-1:0];return a&&s&&(d[0]=d[0]*-1),u&&i&&(d[1]=d[1]*-1),d}function f2(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function Gs(e,t){return Math.max(0,t-e)}function qs(e,t){return Math.max(0,e-t)}function wd(e,t,n){return Math.max(0,t-e,e-n)}function h2(e,t){return e?!t:t}function VB(e,t,n,r,s,i,a,u){let{affectsX:d,affectsY:f}=t;const{isHorizontal:m,isVertical:h}=t,g=m&&h,{xSnapped:x,ySnapped:v}=n,{minWidth:b,maxWidth:S,minHeight:_,maxHeight:E}=r,{x:w,y:T,width:P,height:C,aspectRatio:R}=e;let I=Math.floor(m?x-e.pointerX:0),A=Math.floor(h?v-e.pointerY:0);const U=P+(d?-I:I),$=C+(f?-A:A),H=-i[0]*P,Y=-i[1]*C;let V=wd(U,b,S),X=wd($,_,E);if(a){let M=0,B=0;d&&I<0?M=Gs(w+I+H,a[0][0]):!d&&I>0&&(M=qs(w+U+H,a[1][0])),f&&A<0?B=Gs(T+A+Y,a[0][1]):!f&&A>0&&(B=qs(T+$+Y,a[1][1])),V=Math.max(V,M),X=Math.max(X,B)}if(u){let M=0,B=0;d&&I>0?M=qs(w+I,u[0][0]):!d&&I<0&&(M=Gs(w+U,u[1][0])),f&&A>0?B=qs(T+A,u[0][1]):!f&&A<0&&(B=Gs(T+$,u[1][1])),V=Math.max(V,M),X=Math.max(X,B)}if(s){if(m){const M=wd(U/R,_,E)*R;if(V=Math.max(V,M),a){let B=0;!d&&!f||d&&!f&&g?B=qs(T+Y+U/R,a[1][1])*R:B=Gs(T+Y+(d?I:-I)/R,a[0][1])*R,V=Math.max(V,B)}if(u){let B=0;!d&&!f||d&&!f&&g?B=Gs(T+U/R,u[1][1])*R:B=qs(T+(d?I:-I)/R,u[0][1])*R,V=Math.max(V,B)}}if(h){const M=wd($*R,b,S)/R;if(X=Math.max(X,M),a){let B=0;!d&&!f||f&&!d&&g?B=qs(w+$*R+H,a[1][0])/R:B=Gs(w+(f?A:-A)*R+H,a[0][0])/R,X=Math.max(X,B)}if(u){let B=0;!d&&!f||f&&!d&&g?B=Gs(w+$*R,u[1][0])/R:B=qs(w+(f?A:-A)*R,u[0][0])/R,X=Math.max(X,B)}}}A=A+(A<0?X:-X),I=I+(I<0?V:-V),s&&(g?U>$*R?A=(h2(d,f)?-I:I)/R:I=(h2(d,f)?-A:A)*R:m?(A=I/R,f=d):(I=A*R,d=f));const z=d?w+I:w,W=f?T+A:T;return{width:P+(d?-I:I),height:C+(f?-A:A),x:i[0]*I*(d?-1:1)+z,y:i[1]*A*(f?-1:1)+W}}const dC={width:0,height:0,x:0,y:0},WB={...dC,pointerX:0,pointerY:0,aspectRatio:1};function UB(e){return[[0,0],[e.measured.width,e.measured.height]]}function HB(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,u=n[0]*i,d=n[1]*a;return[[r-u,s-d],[r+i-u,s+a-d]]}function GB({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=Mn(e);let a={controlDirection:f2("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:m,keepAspectRatio:h,resizeDirection:g,onResizeStart:x,onResize:v,onResizeEnd:b,shouldResize:S}){let _={...dC},E={...WB};a={boundaries:m,resizeDirection:g,keepAspectRatio:h,controlDirection:f2(f)};let w,T=null,P=[],C,R,I,A=!1;const U=b5().on("start",$=>{const{nodeLookup:H,transform:Y,snapGrid:V,snapToGrid:X,nodeOrigin:z,paneDomNode:W}=n();if(w=H.get(t),!w)return;T=(W==null?void 0:W.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:B}=Kl($.sourceEvent,{transform:Y,snapGrid:V,snapToGrid:X,containerBounds:T});_={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},E={..._,pointerX:M,pointerY:B,aspectRatio:_.width/_.height},C=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(C=H.get(w.parentId),R=C&&w.extent==="parent"?UB(C):void 0),P=[],I=void 0;for(const[O,D]of H)if(D.parentId===t&&(P.push({id:O,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const L=HB(D,w,D.origin??z);I?I=[[Math.min(L[0][0],I[0][0]),Math.min(L[0][1],I[0][1])],[Math.max(L[1][0],I[1][0]),Math.max(L[1][1],I[1][1])]]:I=L}x==null||x($,{..._})}).on("drag",$=>{const{transform:H,snapGrid:Y,snapToGrid:V,nodeOrigin:X}=n(),z=Kl($.sourceEvent,{transform:H,snapGrid:Y,snapToGrid:V,containerBounds:T}),W=[];if(!w)return;const{x:M,y:B,width:O,height:D}=_,L={},K=w.origin??X,{width:Z,height:q,x:J,y:ne}=VB(E,a.controlDirection,z,a.boundaries,a.keepAspectRatio,K,R,I),te=Z!==O,se=q!==D,le=J!==M&&te,ce=ne!==B&&se;if(!le&&!ce&&!te&&!se)return;if((le||ce||K[0]===1||K[1]===1)&&(L.x=le?J:_.x,L.y=ce?ne:_.y,_.x=L.x,_.y=L.y,P.length>0)){const Oe=J-M,Re=ne-B;for(const We of P)We.position={x:We.position.x-Oe+K[0]*(Z-O),y:We.position.y-Re+K[1]*(q-D)},W.push(We)}if((te||se)&&(L.width=te&&(!a.resizeDirection||a.resizeDirection==="horizontal")?Z:_.width,L.height=se&&(!a.resizeDirection||a.resizeDirection==="vertical")?q:_.height,_.width=L.width,_.height=L.height),C&&w.expandParent){const Oe=K[0]*(L.width??0);L.x&&L.x<Oe&&(_.x=Oe,E.x=E.x-(L.x-Oe));const Re=K[1]*(L.height??0);L.y&&L.y<Re&&(_.y=Re,E.y=E.y-(L.y-Re))}const ue=BB({width:_.width,prevWidth:O,height:_.height,prevHeight:D,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),ge={..._,direction:ue};(S==null?void 0:S($,ge))!==!1&&(A=!0,v==null||v($,ge),r(L,W))}).on("end",$=>{A&&(b==null||b($,{..._}),s==null||s({..._}),A=!1)});i.call(U)}function d(){i.on(".drag",null)}return{update:u,destroy:d}}var Um={exports:{}},Hm={},Gm={exports:{}},qm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function qB(){if(p2)return qm;p2=1;var e=Sc();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function u(h,g){var x=g(),v=r({inst:{value:x,getSnapshot:g}}),b=v[0].inst,S=v[1];return i(function(){b.value=x,b.getSnapshot=g,d(b)&&S({inst:b})},[h,x,g]),s(function(){return d(b)&&S({inst:b}),h(function(){d(b)&&S({inst:b})})},[h]),a(x),x}function d(h){var g=h.getSnapshot;h=h.value;try{var x=g();return!n(h,x)}catch{return!0}}function f(h,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return qm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,qm}var m2;function KB(){return m2||(m2=1,Gm.exports=qB()),Gm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function XB(){if(g2)return Hm;g2=1;var e=Sc(),t=KB();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Hm.useSyncExternalStoreWithSelector=function(f,m,h,g,x){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=u(function(){function _(C){if(!E){if(E=!0,w=C,C=g(C),x!==void 0&&b.hasValue){var R=b.value;if(x(R,C))return T=R}return T=C}if(R=T,r(w,C))return R;var I=g(C);return x!==void 0&&x(R,I)?(w=C,R):(w=C,T=I)}var E=!1,w,T,P=h===void 0?null:h;return[function(){return _(m())},P===null?void 0:function(){return _(P())}]},[m,h,g,x]);var S=s(f,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=S},[S]),d(S),S},Hm}var y2;function YB(){return y2||(y2=1,Um.exports=XB()),Um.exports}var JB=YB();const QB=Rf(JB),ZB={},x2=e=>{let t;const n=new Set,r=(m,h)=>{const g=typeof m=="function"?m(t):m;if(!Object.is(g,t)){const x=t;t=h??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(v=>v(t,x))}},s=()=>t,d={setState:r,getState:s,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(ZB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,s,d);return d},e9=e=>e?x2(e):x2,{useDebugValue:t9}=pe,{useSyncExternalStoreWithSelector:n9}=QB,r9=e=>e;function fC(e,t=r9,n){const r=n9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return t9(r),r}const v2=(e,t)=>{const n=e9(e),r=(s,i=t)=>fC(n,s,i);return Object.assign(r,n),r},s9=(e,t)=>e?v2(e,t):v2;function ot(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Qf=k.createContext(null),o9=Qf.Provider,hC=Hr.error001();function He(e,t){const n=k.useContext(Qf);if(n===null)throw new Error(hC);return fC(n,e,t)}function at(){const e=k.useContext(Qf);if(e===null)throw new Error(hC);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const b2={display:"none"},i9={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pC="react-flow__node-desc",mC="react-flow__edge-desc",a9="react-flow__aria-live",l9=e=>e.ariaLiveMessage,c9=e=>e.ariaLabelConfig;function u9({rfId:e}){const t=He(l9);return l.jsx("div",{id:`${a9}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:i9,children:t})}function d9({rfId:e,disableKeyboardA11y:t}){const n=He(c9);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${pC}-${e}`,style:b2,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${mC}-${e}`,style:b2,children:n["edge.a11yDescription.default"]}),!t&&l.jsx(u9,{rfId:e})]})}const Zf=k.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const a=`${e}`.split("-");return l.jsx("div",{className:Et(["react-flow__panel",n,...a]),style:r,ref:i,...s,children:t})});Zf.displayName="Panel";function f9({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx(Zf,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const h9=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Sd=e=>e.id;function p9(e,t){return ot(e.selectedNodes.map(Sd),t.selectedNodes.map(Sd))&&ot(e.selectedEdges.map(Sd),t.selectedEdges.map(Sd))}function m9({onSelectionChange:e}){const t=at(),{selectedNodes:n,selectedEdges:r}=He(h9,p9);return k.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const g9=e=>!!e.onSelectionChangeHandlers;function y9({onSelectionChange:e}){const t=He(g9);return e||t?l.jsx(m9,{onSelectionChange:e}):null}const gC=[0,0],x9={x:0,y:0,zoom:1},v9=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],w2=[...v9,"rfId"],b9=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),S2={translateExtent:pc,nodeOrigin:gC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function w9(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:a,reset:u,setDefaultNodesAndEdges:d}=He(b9,ot),f=at();k.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=S2,u()}),[]);const m=k.useRef(S2);return k.useEffect(()=>{for(const h of w2){const g=e[h],x=m.current[h];g!==x&&(typeof e[h]>"u"||(h==="nodes"?t(g):h==="edges"?n(g):h==="minZoom"?r(g):h==="maxZoom"?s(g):h==="translateExtent"?i(g):h==="nodeExtent"?a(g):h==="ariaLabelConfig"?f.setState({ariaLabelConfig:oB(g)}):h==="fitView"?f.setState({fitViewQueued:g}):h==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[h]:g})))}m.current=e},w2.map(h=>e[h])),null}function k2(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function S9(e){var r;const[t,n]=k.useState(e==="system"?null:e);return k.useEffect(()=>{if(e!=="system"){n(e);return}const s=k2(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=k2())!=null&&r.matches?"dark":"light"}const j2=typeof document<"u"?document:null;function xc(e=null,t={target:j2,actInsideInputWithModifier:!0}){const[n,r]=k.useState(!1),s=k.useRef(!1),i=k.useRef(new Set([])),[a,u]=k.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((h,g)=>h.concat(...g),[]);return[f,m]}return[[],[]]},[e]);return k.useEffect(()=>{const d=(t==null?void 0:t.target)??j2,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const m=x=>{var S,_;if(s.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!s.current||s.current&&!f)&&K5(x))return!1;const b=_2(x.code,u);if(i.current.add(x[b]),C2(a,i.current,!1)){const E=((_=(S=x.composedPath)==null?void 0:S.call(x))==null?void 0:_[0])||x.target,w=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(s.current||!w)&&x.preventDefault(),r(!0)}},h=x=>{const v=_2(x.code,u);C2(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[v]),x.key==="Meta"&&i.current.clear(),s.current=!1},g=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",m),d==null||d.addEventListener("keyup",h),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",m),d==null||d.removeEventListener("keyup",h),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function C2(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function _2(e,t){return t.includes(e)?"code":"key"}const k9=()=>{const e=at();return k.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:a,panZoom:u}=e.getState(),d=Iy(t,r,s,i,a,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;const{x:u,y:d}=a.getBoundingClientRect(),f={x:t.x-u,y:t.y-d},m=n.snapGrid??s,h=n.snapToGrid??i;return Lc(f,r,h,m)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),a=Sf(t,n);return{x:a.x+s,y:a.y+i}}}),[])};function yC(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const a=r.get(i.id);a?a.push(i):r.set(i.id,[i])}for(const i of t){const a=r.get(i.id);if(!a){n.push(i);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const u={...i};for(const d of a)j9(d,u);n.push(u)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function j9(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function xC(e,t){return yC(e,t)}function vC(e,t){return yC(e,t)}function Vo(e,t){return{id:e,type:"select",selected:t}}function ia(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const a=t.has(s);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),r.push(Vo(i.id,a)))}return r}function E2({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,a]of e.entries()){const u=t.get(a.id),d=((s=u==null?void 0:u.internals)==null?void 0:s.userNode)??u;d!==void 0&&d!==a&&n.push({id:a.id,item:a,type:"replace"}),d===void 0&&n.push({item:a,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function T2(e){return{id:e.id,type:"remove"}}const N2=e=>X$(e),C9=e=>$5(e);function bC(e){return k.forwardRef(e)}const _9=typeof window<"u"?k.useLayoutEffect:k.useEffect;function R2(e){const[t,n]=k.useState(BigInt(0)),[r]=k.useState(()=>E9(()=>n(s=>s+BigInt(1))));return _9(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function E9(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const wC=k.createContext(null);function T9({children:e}){const t=at(),n=k.useCallback(u=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:m,onNodesChange:h,nodeLookup:g,fitViewQueued:x,onNodesChangeMiddlewareMap:v}=t.getState();let b=d;for(const _ of u)b=typeof _=="function"?_(b):_;let S=E2({items:b,lookup:g});for(const _ of v.values())S=_(S);m&&f(b),S.length>0?h==null||h(S):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:E,setNodes:w}=t.getState();_&&w(E)})},[]),r=R2(n),s=k.useCallback(u=>{const{edges:d=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:h,edgeLookup:g}=t.getState();let x=d;for(const v of u)x=typeof v=="function"?v(x):v;m?f(x):h&&h(E2({items:x,lookup:g}))},[]),i=R2(s),a=k.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return l.jsx(wC.Provider,{value:a,children:e})}function N9(){const e=k.useContext(wC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const R9=e=>!!e.panZoom;function Ly(){const e=k9(),t=at(),n=N9(),r=He(R9),s=k.useMemo(()=>{const i=h=>t.getState().nodeLookup.get(h),a=h=>{n.nodeQueue.push(h)},u=h=>{n.edgeQueue.push(h)},d=h=>{var _,E;const{nodeLookup:g,nodeOrigin:x}=t.getState(),v=N2(h)?h:g.get(h.id),b=v.parentId?G5(v.position,v.measured,v.parentId,g,x):v.position,S={...v,position:b,width:((_=v.measured)==null?void 0:_.width)??v.width,height:((E=v.measured)==null?void 0:E.height)??v.height};return va(S)},f=(h,g,x={replace:!1})=>{a(v=>v.map(b=>{if(b.id===h){const S=typeof g=="function"?g(b):g;return x.replace&&N2(S)?S:{...b,...S}}return b}))},m=(h,g,x={replace:!1})=>{u(v=>v.map(b=>{if(b.id===h){const S=typeof g=="function"?g(b):g;return x.replace&&C9(S)?S:{...b,...S}}return b}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var g;return(g=i(h))==null?void 0:g.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(g=>({...g}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:a,setEdges:u,addNodes:h=>{const g=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...g])},addEdges:h=>{const g=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...g])},toObject:()=>{const{nodes:h=[],edges:g=[],transform:x}=t.getState(),[v,b,S]=x;return{nodes:h.map(_=>({..._})),edges:g.map(_=>({..._})),viewport:{x:v,y:b,zoom:S}}},deleteElements:async({nodes:h=[],edges:g=[]})=>{const{nodes:x,edges:v,onNodesDelete:b,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:E,onDelete:w,onBeforeDelete:T}=t.getState(),{nodes:P,edges:C}=await eB({nodesToRemove:h,edgesToRemove:g,nodes:x,edges:v,onBeforeDelete:T}),R=C.length>0,I=P.length>0;if(R){const A=C.map(T2);S==null||S(C),E(A)}if(I){const A=P.map(T2);b==null||b(P),_(A)}return(I||R)&&(w==null||w({nodes:P,edges:C})),{deletedNodes:P,deletedEdges:C}},getIntersectingNodes:(h,g=!0,x)=>{const v=t2(h),b=v?h:d(h),S=x!==void 0;return b?(x||t.getState().nodes).filter(_=>{const E=t.getState().nodeLookup.get(_.id);if(E&&!v&&(_.id===h.id||!E.internals.positionAbsolute))return!1;const w=va(S?_:E),T=gc(w,b);return g&&T>0||T>=w.width*w.height||T>=b.width*b.height}):[]},isNodeIntersecting:(h,g,x=!0)=>{const b=t2(h)?h:d(h);if(!b)return!1;const S=gc(b,g);return x&&S>0||S>=g.width*g.height||S>=b.width*b.height},updateNode:f,updateNodeData:(h,g,x={replace:!1})=>{f(h,v=>{const b=typeof g=="function"?g(v):g;return x.replace?{...v,data:b}:{...v,data:{...v.data,...b}}},x)},updateEdge:m,updateEdgeData:(h,g,x={replace:!1})=>{m(h,v=>{const b=typeof g=="function"?g(v):g;return x.replace?{...v,data:b}:{...v,data:{...v.data,...b}}},x)},getNodesBounds:h=>{const{nodeLookup:g,nodeOrigin:x}=t.getState();return Y$(h,{nodeLookup:g,nodeOrigin:x})},getHandleConnections:({type:h,id:g,nodeId:x})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${x}-${h}${g?`-${g}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:h,handleId:g,nodeId:x})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${x}${h?g?`-${h}-${g}`:`-${h}`:""}`))==null?void 0:v.values())??[])},fitView:async h=>{const g=t.getState().fitViewResolver??sB();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:g}),n.nodeQueue.push(x=>[...x]),g.promise}}},[]);return k.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const P2=e=>e.selected,P9=typeof window<"u"?window:void 0;function I9({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=at(),{deleteElements:r}=Ly(),s=xc(e,{actInsideInputWithModifier:!1}),i=xc(t,{target:P9});k.useEffect(()=>{if(s){const{edges:a,nodes:u}=n.getState();r({nodes:u.filter(P2),edges:a.filter(P2)}),n.setState({nodesSelectionActive:!1})}},[s]),k.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function A9(e){const t=at();k.useEffect(()=>{const n=()=>{var s,i,a,u;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=Ay(e.current);(r.height===0||r.width===0)&&((u=(a=t.getState()).onError)==null||u.call(a,"004",Hr.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const eh={position:"absolute",width:"100%",height:"100%",top:0,left:0},M9=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function F9({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Jo.Free,zoomOnDoubleClick:a=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:m,maxZoom:h,zoomActivationKeyCode:g,preventScrolling:x=!0,children:v,noWheelClassName:b,noPanClassName:S,onViewportChange:_,isControlledViewport:E,paneClickDistance:w,selectionOnDrag:T}){const P=at(),C=k.useRef(null),{userSelectionActive:R,lib:I,connectionInProgress:A}=He(M9,ot),U=xc(g),$=k.useRef();A9(C);const H=k.useCallback(Y=>{_==null||_({x:Y[0],y:Y[1],zoom:Y[2]}),E||P.setState({transform:Y})},[_,E]);return k.useEffect(()=>{if(C.current){$.current=$B({domNode:C.current,minZoom:m,maxZoom:h,translateExtent:f,viewport:d,onDraggingChange:z=>P.setState({paneDragging:z}),onPanZoomStart:(z,W)=>{const{onViewportChangeStart:M,onMoveStart:B}=P.getState();B==null||B(z,W),M==null||M(W)},onPanZoom:(z,W)=>{const{onViewportChange:M,onMove:B}=P.getState();B==null||B(z,W),M==null||M(W)},onPanZoomEnd:(z,W)=>{const{onViewportChangeEnd:M,onMoveEnd:B}=P.getState();B==null||B(z,W),M==null||M(W)}});const{x:Y,y:V,zoom:X}=$.current.getViewport();return P.setState({panZoom:$.current,transform:[Y,V,X],domNode:C.current.closest(".react-flow")}),()=>{var z;(z=$.current)==null||z.destroy()}}},[]),k.useEffect(()=>{var Y;(Y=$.current)==null||Y.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:a,panOnDrag:u,zoomActivationKeyPressed:U,preventScrolling:x,noPanClassName:S,userSelectionActive:R,noWheelClassName:b,lib:I,onTransformChange:H,connectionInProgress:A,selectionOnDrag:T,paneClickDistance:w})},[e,t,n,r,s,i,a,u,U,x,S,R,b,I,H,A,T,w]),l.jsx("div",{className:"react-flow__renderer",ref:C,style:eh,children:v})}const D9=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function O9(){const{userSelectionActive:e,userSelectionRect:t}=He(D9,ot);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Km=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},z9=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function L9({isSelecting:e,selectionKeyPressed:t,selectionMode:n=mc.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:h,onPaneMouseMove:g,onPaneMouseLeave:x,children:v}){const b=at(),{userSelectionActive:S,elementsSelectable:_,dragging:E,connectionInProgress:w}=He(z9,ot),T=_&&(e||S),P=k.useRef(null),C=k.useRef(),R=k.useRef(new Set),I=k.useRef(new Set),A=k.useRef(!1),U=M=>{if(A.current||w){A.current=!1;return}d==null||d(M),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},$=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}f==null||f(M)},H=m?M=>m(M):void 0,Y=M=>{A.current&&(M.stopPropagation(),A.current=!1)},V=M=>{var q,J;const{domNode:B}=b.getState();if(C.current=B==null?void 0:B.getBoundingClientRect(),!C.current)return;const O=M.target===P.current;if(!O&&!!M.target.closest(".nokey")||!e||!(i&&O||t)||M.button!==0||!M.isPrimary)return;(J=(q=M.target)==null?void 0:q.setPointerCapture)==null||J.call(q,M.pointerId),A.current=!1;const{x:K,y:Z}=xr(M.nativeEvent,C.current);b.setState({userSelectionRect:{width:0,height:0,startX:K,startY:Z,x:K,y:Z}}),O||(M.stopPropagation(),M.preventDefault())},X=M=>{const{userSelectionRect:B,transform:O,nodeLookup:D,edgeLookup:L,connectionLookup:K,triggerNodeChanges:Z,triggerEdgeChanges:q,defaultEdgeOptions:J,resetSelectedElements:ne}=b.getState();if(!C.current||!B)return;const{x:te,y:se}=xr(M.nativeEvent,C.current),{startX:le,startY:ce}=B;if(!A.current){const Re=t?0:s;if(Math.hypot(te-le,se-ce)<=Re)return;ne(),a==null||a(M)}A.current=!0;const ue={startX:le,startY:ce,x:te<le?te:le,y:se<ce?se:ce,width:Math.abs(te-le),height:Math.abs(se-ce)},ge=R.current,Ee=I.current;R.current=new Set(Py(D,ue,O,n===mc.Partial,!0).map(Re=>Re.id)),I.current=new Set;const Oe=(J==null?void 0:J.selectable)??!0;for(const Re of R.current){const We=K.get(Re);if(We)for(const{edgeId:Tt}of We.values()){const Be=L.get(Tt);Be&&(Be.selectable??Oe)&&I.current.add(Tt)}}if(!n2(ge,R.current)){const Re=ia(D,R.current,!0);Z(Re)}if(!n2(Ee,I.current)){const Re=ia(L,I.current);q(Re)}b.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},z=M=>{var B,O;M.button===0&&((O=(B=M.target)==null?void 0:B.releasePointerCapture)==null||O.call(B,M.pointerId),!S&&M.target===P.current&&b.getState().userSelectionRect&&(U==null||U(M)),b.setState({userSelectionActive:!1,userSelectionRect:null}),A.current&&(u==null||u(M),b.setState({nodesSelectionActive:R.current.size>0})))},W=r===!0||Array.isArray(r)&&r.includes(0);return l.jsxs("div",{className:Et(["react-flow__pane",{draggable:W,dragging:E,selection:e}]),onClick:T?void 0:Km(U,P),onContextMenu:Km($,P),onWheel:Km(H,P),onPointerEnter:T?void 0:h,onPointerMove:T?X:g,onPointerUp:T?z:void 0,onPointerDownCapture:T?V:void 0,onClickCapture:T?Y:void 0,onPointerLeave:x,ref:P,style:eh,children:[v,l.jsx(O9,{})]})}function i0({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:u,onError:d}=t.getState(),f=u.get(e);if(!f){d==null||d("012",Hr.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&a)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var m;return(m=r==null?void 0:r.current)==null?void 0:m.blur()})):s([e])}function SC({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:a}){const u=at(),[d,f]=k.useState(!1),m=k.useRef();return k.useEffect(()=>{m.current=_B({getStoreItems:()=>u.getState(),onNodeMouseDown:h=>{i0({id:h,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),k.useEffect(()=>{var h,g;if(t)(h=m.current)==null||h.destroy();else if(e.current)return(g=m.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:a}),()=>{var x;(x=m.current)==null||x.destroy()}},[n,r,t,i,e,s]),d}const $9=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function kC(){const e=at();return k.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:a,onError:u,updateNodePositions:d,nodeLookup:f,nodeOrigin:m}=e.getState(),h=new Map,g=$9(a),x=s?i[0]:5,v=s?i[1]:5,b=n.direction.x*x*n.factor,S=n.direction.y*v*n.factor;for(const[,_]of f){if(!g(_))continue;let E={x:_.internals.positionAbsolute.x+b,y:_.internals.positionAbsolute.y+S};s&&(E=zc(E,i));const{position:w,positionAbsolute:T}=B5({nodeId:_.id,nextPosition:E,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:u});_.position=w,_.internals.positionAbsolute=T,h.set(_.id,_)}d(h)},[])}const $y=k.createContext(null),B9=$y.Provider;$y.Consumer;const jC=()=>k.useContext($y),V9=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),W9=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:a}=r,{fromHandle:u,toHandle:d,isValid:f}=a,m=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n,connectingTo:m,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===ya.Strict?(u==null?void 0:u.type)!==n:e!==(u==null?void 0:u.nodeId)||t!==(u==null?void 0:u.id),connectionInProcess:!!u,clickConnectionInProcess:!!s,valid:m&&f}};function U9({type:e="source",position:t=xe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:u,children:d,className:f,onMouseDown:m,onTouchStart:h,...g},x){var X,z;const v=a||null,b=e==="target",S=at(),_=jC(),{connectOnClick:E,noPanClassName:w,rfId:T}=He(V9,ot),{connectingFrom:P,connectingTo:C,clickConnecting:R,isPossibleEndHandle:I,connectionInProcess:A,clickConnectionInProcess:U,valid:$}=He(W9(_,v,e),ot);_||(z=(X=S.getState()).onError)==null||z.call(X,"010",Hr.error010());const H=W=>{const{defaultEdgeOptions:M,onConnect:B,hasDefaultEdges:O}=S.getState(),D={...M,...W};if(O){const{edges:L,setEdges:K}=S.getState();K(Z5(D,L))}B==null||B(D),u==null||u(D)},Y=W=>{if(!_)return;const M=X5(W.nativeEvent);if(s&&(M&&W.button===0||!M)){const B=S.getState();o0.onPointerDown(W.nativeEvent,{handleDomNode:W.currentTarget,autoPanOnConnect:B.autoPanOnConnect,connectionMode:B.connectionMode,connectionRadius:B.connectionRadius,domNode:B.domNode,nodeLookup:B.nodeLookup,lib:B.lib,isTarget:b,handleId:v,nodeId:_,flowId:B.rfId,panBy:B.panBy,cancelConnection:B.cancelConnection,onConnectStart:B.onConnectStart,onConnectEnd:B.onConnectEnd,updateConnection:B.updateConnection,onConnect:H,isValidConnection:n||B.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:B.autoPanSpeed,dragThreshold:B.connectionDragThreshold})}M?m==null||m(W):h==null||h(W)},V=W=>{const{onClickConnectStart:M,onClickConnectEnd:B,connectionClickStartHandle:O,connectionMode:D,isValidConnection:L,lib:K,rfId:Z,nodeLookup:q,connection:J}=S.getState();if(!_||!O&&!s)return;if(!O){M==null||M(W.nativeEvent,{nodeId:_,handleId:v,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:_,type:e,id:v}});return}const ne=q5(W.target),te=n||L,{connection:se,isValid:le}=o0.isValid(W.nativeEvent,{handle:{nodeId:_,id:v,type:e},connectionMode:D,fromNodeId:O.nodeId,fromHandleId:O.id||null,fromType:O.type,isValidConnection:te,flowId:Z,doc:ne,lib:K,nodeLookup:q});le&&se&&H(se);const ce=structuredClone(J);delete ce.inProgress,ce.toPosition=ce.toHandle?ce.toHandle.position:null,B==null||B(W,ce),S.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":v,"data-nodeid":_,"data-handlepos":t,"data-id":`${T}-${_}-${v}-${e}`,className:Et(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,f,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:i,clickconnecting:R,connectingfrom:P,connectingto:C,valid:$,connectionindicator:r&&(!A||I)&&(A||U?i:s)}]),onMouseDown:Y,onTouchStart:Y,onClick:E?V:void 0,ref:x,...g,children:d})}const _t=k.memo(bC(U9));function H9({data:e,isConnectable:t,sourcePosition:n=xe.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx(_t,{type:"source",position:n,isConnectable:t})]})}function G9({data:e,isConnectable:t,targetPosition:n=xe.Top,sourcePosition:r=xe.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(_t,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,l.jsx(_t,{type:"source",position:r,isConnectable:t})]})}function q9(){return null}function K9({data:e,isConnectable:t,targetPosition:n=xe.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(_t,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const kf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},I2={input:H9,default:G9,output:K9,group:q9};function X9(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const Y9=e=>{const{width:t,height:n,x:r,y:s}=Oc(e.nodeLookup,{filter:i=>!!i.selected});return{width:yr(t)?t:null,height:yr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function J9({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=at(),{width:s,height:i,transformString:a,userSelectionActive:u}=He(Y9,ot),d=kC(),f=k.useRef(null);if(k.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),SC({nodeRef:f}),u||!s||!i)return null;const m=e?g=>{const x=r.getState().nodes.filter(v=>v.selected);e(g,x)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(kf,g.key)&&(g.preventDefault(),d({direction:kf[g.key],factor:g.shiftKey?4:1}))};return l.jsx("div",{className:Et(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:l.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:s,height:i}})})}const A2=typeof window<"u"?window:void 0,Q9=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function CC({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:h,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:v,panActivationKeyCode:b,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:w,panOnScroll:T,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:R,panOnDrag:I,defaultViewport:A,translateExtent:U,minZoom:$,maxZoom:H,preventScrolling:Y,onSelectionContextMenu:V,noWheelClassName:X,noPanClassName:z,disableKeyboardA11y:W,onViewportChange:M,isControlledViewport:B}){const{nodesSelectionActive:O,userSelectionActive:D}=He(Q9,ot),L=xc(f,{target:A2}),K=xc(b,{target:A2}),Z=K||I,q=K||T,J=m&&Z!==!0,ne=L||D||J;return I9({deleteKeyCode:d,multiSelectionKeyCode:v}),l.jsx(F9,{onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:w,panOnScroll:q,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:R,panOnDrag:!L&&Z,defaultViewport:A,translateExtent:U,minZoom:$,maxZoom:H,zoomActivationKeyCode:S,preventScrolling:Y,noWheelClassName:X,noPanClassName:z,onViewportChange:M,isControlledViewport:B,paneClickDistance:u,selectionOnDrag:J,children:l.jsxs(L9,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:Z,isSelecting:!!ne,selectionMode:h,selectionKeyPressed:L,paneClickDistance:u,selectionOnDrag:J,children:[e,O&&l.jsx(J9,{onSelectionContextMenu:V,noPanClassName:z,disableKeyboardA11y:W})]})})}CC.displayName="FlowRenderer";const Z9=k.memo(CC),e7=e=>t=>e?Py(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function t7(e){return He(k.useCallback(e7(e),[e]),ot)}const n7=e=>e.updateNodeInternals;function r7(){const e=He(n7),[t]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return k.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function s7({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=at(),i=k.useRef(null),a=k.useRef(null),u=k.useRef(e.sourcePosition),d=k.useRef(e.targetPosition),f=k.useRef(t),m=n&&!!e.internals.handleBounds;return k.useEffect(()=>{i.current&&!e.hidden&&(!m||a.current!==i.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(i.current),a.current=i.current)},[m,e.hidden]),k.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),k.useEffect(()=>{if(i.current){const h=f.current!==t,g=u.current!==e.sourcePosition,x=d.current!==e.targetPosition;(h||g||x)&&(f.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function o7({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:a,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:m,resizeObserver:h,noDragClassName:g,noPanClassName:x,disableKeyboardA11y:v,rfId:b,nodeTypes:S,nodeClickDistance:_,onError:E}){const{node:w,internals:T,isParent:P}=He(te=>{const se=te.nodeLookup.get(e),le=te.parentLookup.has(e);return{node:se,internals:se.internals,isParent:le}},ot);let C=w.type||"default",R=(S==null?void 0:S[C])||I2[C];R===void 0&&(E==null||E("003",Hr.error003(C)),C="default",R=(S==null?void 0:S.default)||I2.default);const I=!!(w.draggable||u&&typeof w.draggable>"u"),A=!!(w.selectable||d&&typeof w.selectable>"u"),U=!!(w.connectable||f&&typeof w.connectable>"u"),$=!!(w.focusable||m&&typeof w.focusable>"u"),H=at(),Y=H5(w),V=s7({node:w,nodeType:C,hasDimensions:Y,resizeObserver:h}),X=SC({nodeRef:V,disabled:w.hidden||!I,noDragClassName:g,handleSelector:w.dragHandle,nodeId:e,isSelectable:A,nodeClickDistance:_}),z=kC();if(w.hidden)return null;const W=ks(w),M=X9(w),B=A||I||t||n||r||s,O=n?te=>n(te,{...T.userNode}):void 0,D=r?te=>r(te,{...T.userNode}):void 0,L=s?te=>s(te,{...T.userNode}):void 0,K=i?te=>i(te,{...T.userNode}):void 0,Z=a?te=>a(te,{...T.userNode}):void 0,q=te=>{const{selectNodesOnDrag:se,nodeDragThreshold:le}=H.getState();A&&(!se||!I||le>0)&&i0({id:e,store:H,nodeRef:V}),t&&t(te,{...T.userNode})},J=te=>{if(!(K5(te.nativeEvent)||v)){if(D5.includes(te.key)&&A){const se=te.key==="Escape";i0({id:e,store:H,unselect:se,nodeRef:V})}else if(I&&w.selected&&Object.prototype.hasOwnProperty.call(kf,te.key)){te.preventDefault();const{ariaLabelConfig:se}=H.getState();H.setState({ariaLiveMessage:se["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~T.positionAbsolute.x,y:~~T.positionAbsolute.y})}),z({direction:kf[te.key],factor:te.shiftKey?4:1})}}},ne=()=>{var Ee;if(v||!((Ee=V.current)!=null&&Ee.matches(":focus-visible")))return;const{transform:te,width:se,height:le,autoPanOnNodeFocus:ce,setCenter:ue}=H.getState();if(!ce)return;Py(new Map([[e,w]]),{x:0,y:0,width:se,height:le},te,!0).length>0||ue(w.position.x+W.width/2,w.position.y+W.height/2,{zoom:te[2]})};return l.jsx("div",{className:Et(["react-flow__node",`react-flow__node-${C}`,{[x]:I},w.className,{selected:w.selected,selectable:A,parent:P,draggable:I,dragging:X}]),ref:V,style:{zIndex:T.z,transform:`translate(${T.positionAbsolute.x}px,${T.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:Y?"visible":"hidden",...w.style,...M},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:O,onMouseMove:D,onMouseLeave:L,onContextMenu:K,onClick:q,onDoubleClick:Z,onKeyDown:$?J:void 0,tabIndex:$?0:void 0,onFocus:$?ne:void 0,role:w.ariaRole??($?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${pC}-${b}`,"aria-label":w.ariaLabel,...w.domAttributes,children:l.jsx(B9,{value:e,children:l.jsx(R,{id:e,data:w.data,type:C,positionAbsoluteX:T.positionAbsolute.x,positionAbsoluteY:T.positionAbsolute.y,selected:w.selected??!1,selectable:A,draggable:I,deletable:w.deletable??!0,isConnectable:U,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:X,dragHandle:w.dragHandle,zIndex:T.z,parentId:w.parentId,...W})})})}var i7=k.memo(o7);const a7=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function _C(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=He(a7,ot),a=t7(e.onlyRenderVisibleElements),u=r7();return l.jsx("div",{className:"react-flow__nodes",style:eh,children:a.map(d=>l.jsx(i7,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}_C.displayName="NodeRenderer";const l7=k.memo(_C);function c7(e){return He(k.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),a=n.nodeLookup.get(s.target);i&&a&&lB({sourceNode:i,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),ot)}const u7=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},d7=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},M2={[bf.Arrow]:u7,[bf.ArrowClosed]:d7};function f7(e){const t=at();return k.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(M2,e)?M2[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",Hr.error009(e)),null)},[e])}const h7=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:u="auto-start-reverse"})=>{const d=f7(t);return d?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:u,refX:"0",refY:"0",children:l.jsx(d,{color:n,strokeWidth:a})}):null},EC=({defaultColor:e,rfId:t})=>{const n=He(i=>i.edges),r=He(i=>i.defaultEdgeOptions),s=k.useMemo(()=>mB(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:s.map(i=>l.jsx(h7,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};EC.displayName="MarkerDefinitions";var p7=k.memo(EC);function TC({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...m}){const[h,g]=k.useState({x:1,y:0,width:0,height:0}),x=Et(["react-flow__edge-textwrapper",f]),v=k.useRef(null);return k.useEffect(()=>{if(v.current){const b=v.current.getBBox();g({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),n?l.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...m,children:[s&&l.jsx("rect",{width:h.width+2*a[0],x:-a[0],y:-a[1],height:h.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:u,ry:u}),l.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:v,style:r,children:n}),d]}):null}TC.displayName="EdgeText";const m7=k.memo(TC);function th({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...m}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...m,d:e,fill:"none",className:Et(["react-flow__edge-path",m.className])}),f?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&yr(t)&&yr(n)?l.jsx(m7,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function F2({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===xe.Left||e===xe.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function NC({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:r,targetY:s,targetPosition:i=xe.Top}){const[a,u]=F2({pos:n,x1:e,y1:t,x2:r,y2:s}),[d,f]=F2({pos:i,x1:r,y1:s,x2:e,y2:t}),[m,h,g,x]=Y5({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${a},${u} ${d},${f} ${r},${s}`,m,h,g,x]}function RC(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:a,targetPosition:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:x,style:v,markerEnd:b,markerStart:S,interactionWidth:_})=>{const[E,w,T]=NC({sourceX:n,sourceY:r,sourcePosition:a,targetX:s,targetY:i,targetPosition:u}),P=e.isInternal?void 0:t;return l.jsx(th,{id:P,path:E,labelX:w,labelY:T,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:x,style:v,markerEnd:b,markerStart:S,interactionWidth:_})})}const g7=RC({isInternal:!1}),PC=RC({isInternal:!0});g7.displayName="SimpleBezierEdge";PC.displayName="SimpleBezierEdgeInternal";function IC(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:g,sourcePosition:x=xe.Bottom,targetPosition:v=xe.Top,markerEnd:b,markerStart:S,pathOptions:_,interactionWidth:E})=>{const[w,T,P]=n0({sourceX:n,sourceY:r,sourcePosition:x,targetX:s,targetY:i,targetPosition:v,borderRadius:_==null?void 0:_.borderRadius,offset:_==null?void 0:_.offset,stepPosition:_==null?void 0:_.stepPosition}),C=e.isInternal?void 0:t;return l.jsx(th,{id:C,path:w,labelX:T,labelY:P,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:g,markerEnd:b,markerStart:S,interactionWidth:E})})}const AC=IC({isInternal:!1}),MC=IC({isInternal:!0});AC.displayName="SmoothStepEdge";MC.displayName="SmoothStepEdgeInternal";function FC(e){return k.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return l.jsx(AC,{...n,id:r,pathOptions:k.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const y7=FC({isInternal:!1}),DC=FC({isInternal:!0});y7.displayName="StepEdge";DC.displayName="StepEdgeInternal";function OC(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:g,markerEnd:x,markerStart:v,interactionWidth:b})=>{const[S,_,E]=eC({sourceX:n,sourceY:r,targetX:s,targetY:i}),w=e.isInternal?void 0:t;return l.jsx(th,{id:w,path:S,labelX:_,labelY:E,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:g,markerEnd:x,markerStart:v,interactionWidth:b})})}const x7=OC({isInternal:!1}),zC=OC({isInternal:!0});x7.displayName="StraightEdge";zC.displayName="StraightEdgeInternal";function LC(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:a=xe.Bottom,targetPosition:u=xe.Top,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:x,style:v,markerEnd:b,markerStart:S,pathOptions:_,interactionWidth:E})=>{const[w,T,P]=J5({sourceX:n,sourceY:r,sourcePosition:a,targetX:s,targetY:i,targetPosition:u,curvature:_==null?void 0:_.curvature}),C=e.isInternal?void 0:t;return l.jsx(th,{id:C,path:w,labelX:T,labelY:P,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:x,style:v,markerEnd:b,markerStart:S,interactionWidth:E})})}const v7=LC({isInternal:!1}),$C=LC({isInternal:!0});v7.displayName="BezierEdge";$C.displayName="BezierEdgeInternal";const D2={default:$C,straight:zC,step:DC,smoothstep:MC,simplebezier:PC},O2={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},b7=(e,t,n)=>n===xe.Left?e-t:n===xe.Right?e+t:e,w7=(e,t,n)=>n===xe.Top?e-t:n===xe.Bottom?e+t:e,z2="react-flow__edgeupdater";function L2({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:u}){return l.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:Et([z2,`${z2}-${u}`]),cx:b7(t,r,e),cy:w7(n,r,e),r,stroke:"transparent",fill:"transparent"})}function S7({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:a,sourcePosition:u,targetPosition:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,setReconnecting:g,setUpdateHover:x}){const v=at(),b=(T,P)=>{if(T.button!==0)return;const{autoPanOnConnect:C,domNode:R,isValidConnection:I,connectionMode:A,connectionRadius:U,lib:$,onConnectStart:H,onConnectEnd:Y,cancelConnection:V,nodeLookup:X,rfId:z,panBy:W,updateConnection:M}=v.getState(),B=P.type==="target",O=(K,Z)=>{g(!1),h==null||h(K,n,P.type,Z)},D=K=>f==null?void 0:f(n,K),L=(K,Z)=>{g(!0),m==null||m(T,n,P.type),H==null||H(K,Z)};o0.onPointerDown(T.nativeEvent,{autoPanOnConnect:C,connectionMode:A,connectionRadius:U,domNode:R,handleId:P.id,nodeId:P.nodeId,nodeLookup:X,isTarget:B,edgeUpdaterType:P.type,lib:$,flowId:z,cancelConnection:V,panBy:W,isValidConnection:I,onConnect:D,onConnectStart:L,onConnectEnd:Y,onReconnectEnd:O,updateConnection:M,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:T.currentTarget})},S=T=>b(T,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=T=>b(T,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>x(!0),w=()=>x(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(L2,{position:u,centerX:r,centerY:s,radius:t,onMouseDown:S,onMouseEnter:E,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&l.jsx(L2,{position:d,centerX:i,centerY:a,radius:t,onMouseDown:_,onMouseEnter:E,onMouseOut:w,type:"target"})]})}function k7({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:a,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:m,onReconnect:h,onReconnectStart:g,onReconnectEnd:x,rfId:v,edgeTypes:b,noPanClassName:S,onError:_,disableKeyboardA11y:E}){let w=He(ue=>ue.edgeLookup.get(e));const T=He(ue=>ue.defaultEdgeOptions);w=T?{...T,...w}:w;let P=w.type||"default",C=(b==null?void 0:b[P])||D2[P];C===void 0&&(_==null||_("011",Hr.error011(P)),P="default",C=(b==null?void 0:b.default)||D2.default);const R=!!(w.focusable||t&&typeof w.focusable>"u"),I=typeof h<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),A=!!(w.selectable||r&&typeof w.selectable>"u"),U=k.useRef(null),[$,H]=k.useState(!1),[Y,V]=k.useState(!1),X=at(),{zIndex:z,sourceX:W,sourceY:M,targetX:B,targetY:O,sourcePosition:D,targetPosition:L}=He(k.useCallback(ue=>{const ge=ue.nodeLookup.get(w.source),Ee=ue.nodeLookup.get(w.target);if(!ge||!Ee)return{zIndex:w.zIndex,...O2};const Oe=pB({id:e,sourceNode:ge,targetNode:Ee,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:ue.connectionMode,onError:_});return{zIndex:aB({selected:w.selected,zIndex:w.zIndex,sourceNode:ge,targetNode:Ee,elevateOnSelect:ue.elevateEdgesOnSelect,zIndexMode:ue.zIndexMode}),...Oe||O2}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),ot),K=k.useMemo(()=>w.markerStart?`url('#${r0(w.markerStart,v)}')`:void 0,[w.markerStart,v]),Z=k.useMemo(()=>w.markerEnd?`url('#${r0(w.markerEnd,v)}')`:void 0,[w.markerEnd,v]);if(w.hidden||W===null||M===null||B===null||O===null)return null;const q=ue=>{var Re;const{addSelectedEdges:ge,unselectNodesAndEdges:Ee,multiSelectionActive:Oe}=X.getState();A&&(X.setState({nodesSelectionActive:!1}),w.selected&&Oe?(Ee({nodes:[],edges:[w]}),(Re=U.current)==null||Re.blur()):ge([e])),s&&s(ue,w)},J=i?ue=>{i(ue,{...w})}:void 0,ne=a?ue=>{a(ue,{...w})}:void 0,te=u?ue=>{u(ue,{...w})}:void 0,se=d?ue=>{d(ue,{...w})}:void 0,le=f?ue=>{f(ue,{...w})}:void 0,ce=ue=>{var ge;if(!E&&D5.includes(ue.key)&&A){const{unselectNodesAndEdges:Ee,addSelectedEdges:Oe}=X.getState();ue.key==="Escape"?((ge=U.current)==null||ge.blur(),Ee({edges:[w]})):Oe([e])}};return l.jsx("svg",{style:{zIndex:z},children:l.jsxs("g",{className:Et(["react-flow__edge",`react-flow__edge-${P}`,w.className,S,{selected:w.selected,animated:w.animated,inactive:!A&&!s,updating:$,selectable:A}]),onClick:q,onDoubleClick:J,onContextMenu:ne,onMouseEnter:te,onMouseMove:se,onMouseLeave:le,onKeyDown:R?ce:void 0,tabIndex:R?0:void 0,role:w.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":R?`${mC}-${v}`:void 0,ref:U,...w.domAttributes,children:[!Y&&l.jsx(C,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:A,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:W,sourceY:M,targetX:B,targetY:O,sourcePosition:D,targetPosition:L,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:K,markerEnd:Z,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),I&&l.jsx(S7,{edge:w,isReconnectable:I,reconnectRadius:m,onReconnect:h,onReconnectStart:g,onReconnectEnd:x,sourceX:W,sourceY:M,targetX:B,targetY:O,sourcePosition:D,targetPosition:L,setUpdateHover:H,setReconnecting:V})]})})}var j7=k.memo(k7);const C7=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function BC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:h,onEdgeDoubleClick:g,onReconnectStart:x,onReconnectEnd:v,disableKeyboardA11y:b}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:E,onError:w}=He(C7,ot),T=c7(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(p7,{defaultColor:e,rfId:n}),T.map(P=>l.jsx(j7,{id:P,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:E,noPanClassName:s,onReconnect:i,onContextMenu:a,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:m,reconnectRadius:h,onDoubleClick:g,onReconnectStart:x,onReconnectEnd:v,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:b},P))]})}BC.displayName="EdgeRenderer";const _7=k.memo(BC),E7=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function T7({children:e}){const t=He(E7);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function N7(e){const t=Ly(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const R7=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function P7(e){const t=He(R7),n=at();return k.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function I7(e){return e.connection.inProgress?{...e.connection,to:Lc(e.connection.to,e.transform)}:{...e.connection}}function A7(e){return I7}function M7(e){const t=A7();return He(t,ot)}const F7=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function D7({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:a,isValid:u,inProgress:d}=He(F7,ot);return!(i&&s&&d)?null:l.jsx("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:Et(["react-flow__connection",L5(u)]),children:l.jsx(VC,{style:t,type:n,CustomComponent:r,isValid:u})})})}const VC=({style:e,type:t=eo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:a,fromHandle:u,fromPosition:d,to:f,toNode:m,toHandle:h,toPosition:g,pointer:x}=M7();if(!s)return;if(n)return l.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:u,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:L5(r),toNode:m,toHandle:h,pointer:x});let v="";const b={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case eo.Bezier:[v]=J5(b);break;case eo.SimpleBezier:[v]=NC(b);break;case eo.Step:[v]=n0({...b,borderRadius:0});break;case eo.SmoothStep:[v]=n0(b);break;default:[v]=eC(b)}return l.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:e})};VC.displayName="ConnectionLine";const O7={};function $2(e=O7){k.useRef(e),at(),k.useEffect(()=>{},[e])}function z7(){at(),k.useRef(!1),k.useEffect(()=>{},[])}function WC({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:h,onSelectionStart:g,onSelectionEnd:x,connectionLineType:v,connectionLineStyle:b,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:w,selectionMode:T,multiSelectionKeyCode:P,panActivationKeyCode:C,zoomActivationKeyCode:R,deleteKeyCode:I,onlyRenderVisibleElements:A,elementsSelectable:U,defaultViewport:$,translateExtent:H,minZoom:Y,maxZoom:V,preventScrolling:X,defaultMarkerColor:z,zoomOnScroll:W,zoomOnPinch:M,panOnScroll:B,panOnScrollSpeed:O,panOnScrollMode:D,zoomOnDoubleClick:L,panOnDrag:K,onPaneClick:Z,onPaneMouseEnter:q,onPaneMouseMove:J,onPaneMouseLeave:ne,onPaneScroll:te,onPaneContextMenu:se,paneClickDistance:le,nodeClickDistance:ce,onEdgeContextMenu:ue,onEdgeMouseEnter:ge,onEdgeMouseMove:Ee,onEdgeMouseLeave:Oe,reconnectRadius:Re,onReconnect:We,onReconnectStart:Tt,onReconnectEnd:Be,noDragClassName:zt,noWheelClassName:Ut,noPanClassName:Ue,disableKeyboardA11y:Lt,nodeExtent:Yr,rfId:$n,viewport:yt,onViewportChange:Nt}){return $2(e),$2(t),z7(),N7(n),P7(yt),l.jsx(Z9,{onPaneClick:Z,onPaneMouseEnter:q,onPaneMouseMove:J,onPaneMouseLeave:ne,onPaneContextMenu:se,onPaneScroll:te,paneClickDistance:le,deleteKeyCode:I,selectionKeyCode:E,selectionOnDrag:w,selectionMode:T,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:P,panActivationKeyCode:C,zoomActivationKeyCode:R,elementsSelectable:U,zoomOnScroll:W,zoomOnPinch:M,zoomOnDoubleClick:L,panOnScroll:B,panOnScrollSpeed:O,panOnScrollMode:D,panOnDrag:K,defaultViewport:$,translateExtent:H,minZoom:Y,maxZoom:V,onSelectionContextMenu:h,preventScrolling:X,noDragClassName:zt,noWheelClassName:Ut,noPanClassName:Ue,disableKeyboardA11y:Lt,onViewportChange:Nt,isControlledViewport:!!yt,children:l.jsxs(T7,{children:[l.jsx(_7,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:a,onReconnect:We,onReconnectStart:Tt,onReconnectEnd:Be,onlyRenderVisibleElements:A,onEdgeContextMenu:ue,onEdgeMouseEnter:ge,onEdgeMouseMove:Ee,onEdgeMouseLeave:Oe,reconnectRadius:Re,defaultMarkerColor:z,noPanClassName:Ue,disableKeyboardA11y:Lt,rfId:$n}),l.jsx(D7,{style:b,type:v,component:S,containerStyle:_}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(l7,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:ce,onlyRenderVisibleElements:A,noPanClassName:Ue,noDragClassName:zt,disableKeyboardA11y:Lt,nodeExtent:Yr,rfId:$n}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}WC.displayName="GraphView";const L7=k.memo(WC),B2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:a,fitViewOptions:u,minZoom:d=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:h,zIndexMode:g="basic"}={})=>{const x=new Map,v=new Map,b=new Map,S=new Map,_=r??t??[],E=n??e??[],w=m??[0,0],T=h??pc;rC(b,S,_);const P=s0(E,x,v,{nodeOrigin:w,nodeExtent:T,zIndexMode:g});let C=[0,0,1];if(a&&s&&i){const R=Oc(x,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:I,y:A,zoom:U}=Iy(R,s,i,d,f,(u==null?void 0:u.padding)??.1);C=[I,A,U]}return{rfId:"1",width:s??0,height:i??0,transform:C,nodes:E,nodesInitialized:P,nodeLookup:x,parentLookup:v,edges:_,edgeLookup:S,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:pc,nodeExtent:T,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ya.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:u,fitViewResolver:null,connection:{...z5},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:tB,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:O5,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},$7=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:a,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:h,zIndexMode:g})=>s9((x,v)=>{async function b(){const{nodeLookup:S,panZoom:_,fitViewOptions:E,fitViewResolver:w,width:T,height:P,minZoom:C,maxZoom:R}=v();_&&(await Z$({nodes:S,width:T,height:P,panZoom:_,minZoom:C,maxZoom:R},E),w==null||w.resolve(!0),x({fitViewResolver:null}))}return{...B2({nodes:e,edges:t,width:s,height:i,fitView:a,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:h,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:S=>{const{nodeLookup:_,parentLookup:E,nodeOrigin:w,elevateNodesOnSelect:T,fitViewQueued:P,zIndexMode:C}=v(),R=s0(S,_,E,{nodeOrigin:w,nodeExtent:h,elevateNodesOnSelect:T,checkEquality:!0,zIndexMode:C});P&&R?(b(),x({nodes:S,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:S,nodesInitialized:R})},setEdges:S=>{const{connectionLookup:_,edgeLookup:E}=v();rC(_,E,S),x({edges:S})},setDefaultNodesAndEdges:(S,_)=>{if(S){const{setNodes:E}=v();E(S),x({hasDefaultNodes:!0})}if(_){const{setEdges:E}=v();E(_),x({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:_,nodeLookup:E,parentLookup:w,domNode:T,nodeOrigin:P,nodeExtent:C,debug:R,fitViewQueued:I,zIndexMode:A}=v(),{changes:U,updatedInternals:$}=SB(S,E,w,T,P,C,A);$&&(xB(E,w,{nodeOrigin:P,nodeExtent:C,zIndexMode:A}),I?(b(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(U==null?void 0:U.length)>0&&(R&&console.log("React Flow: trigger node changes",U),_==null||_(U)))},updateNodePositions:(S,_=!1)=>{const E=[];let w=[];const{nodeLookup:T,triggerNodeChanges:P,connection:C,updateConnection:R,onNodesChangeMiddlewareMap:I}=v();for(const[A,U]of S){const $=T.get(A),H=!!($!=null&&$.expandParent&&($!=null&&$.parentId)&&(U!=null&&U.position)),Y={id:A,type:"position",position:H?{x:Math.max(0,U.position.x),y:Math.max(0,U.position.y)}:U.position,dragging:_};if($&&C.inProgress&&C.fromNode.id===$.id){const V=oi($,C.fromHandle,xe.Left,!0);R({...C,from:V})}H&&$.parentId&&E.push({id:A,parentId:$.parentId,rect:{...U.internals.positionAbsolute,width:U.measured.width??0,height:U.measured.height??0}}),w.push(Y)}if(E.length>0){const{parentLookup:A,nodeOrigin:U}=v(),$=zy(E,T,A,U);w.push(...$)}for(const A of I.values())w=A(w);P(w)},triggerNodeChanges:S=>{const{onNodesChange:_,setNodes:E,nodes:w,hasDefaultNodes:T,debug:P}=v();if(S!=null&&S.length){if(T){const C=xC(S,w);E(C)}P&&console.log("React Flow: trigger node changes",S),_==null||_(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:_,setEdges:E,edges:w,hasDefaultEdges:T,debug:P}=v();if(S!=null&&S.length){if(T){const C=vC(S,w);E(C)}P&&console.log("React Flow: trigger edge changes",S),_==null||_(S)}},addSelectedNodes:S=>{const{multiSelectionActive:_,edgeLookup:E,nodeLookup:w,triggerNodeChanges:T,triggerEdgeChanges:P}=v();if(_){const C=S.map(R=>Vo(R,!0));T(C);return}T(ia(w,new Set([...S]),!0)),P(ia(E))},addSelectedEdges:S=>{const{multiSelectionActive:_,edgeLookup:E,nodeLookup:w,triggerNodeChanges:T,triggerEdgeChanges:P}=v();if(_){const C=S.map(R=>Vo(R,!0));P(C);return}P(ia(E,new Set([...S]))),T(ia(w,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:_}={})=>{const{edges:E,nodes:w,nodeLookup:T,triggerNodeChanges:P,triggerEdgeChanges:C}=v(),R=S||w,I=_||E,A=R.map($=>{const H=T.get($.id);return H&&(H.selected=!1),Vo($.id,!1)}),U=I.map($=>Vo($.id,!1));P(A),C(U)},setMinZoom:S=>{const{panZoom:_,maxZoom:E}=v();_==null||_.setScaleExtent([S,E]),x({minZoom:S})},setMaxZoom:S=>{const{panZoom:_,minZoom:E}=v();_==null||_.setScaleExtent([E,S]),x({maxZoom:S})},setTranslateExtent:S=>{var _;(_=v().panZoom)==null||_.setTranslateExtent(S),x({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:_,triggerNodeChanges:E,triggerEdgeChanges:w,elementsSelectable:T}=v();if(!T)return;const P=_.reduce((R,I)=>I.selected?[...R,Vo(I.id,!1)]:R,[]),C=S.reduce((R,I)=>I.selected?[...R,Vo(I.id,!1)]:R,[]);E(P),w(C)},setNodeExtent:S=>{const{nodes:_,nodeLookup:E,parentLookup:w,nodeOrigin:T,elevateNodesOnSelect:P,nodeExtent:C,zIndexMode:R}=v();S[0][0]===C[0][0]&&S[0][1]===C[0][1]&&S[1][0]===C[1][0]&&S[1][1]===C[1][1]||(s0(_,E,w,{nodeOrigin:T,nodeExtent:S,elevateNodesOnSelect:P,checkEquality:!1,zIndexMode:R}),x({nodeExtent:S}))},panBy:S=>{const{transform:_,width:E,height:w,panZoom:T,translateExtent:P}=v();return kB({delta:S,panZoom:T,transform:_,translateExtent:P,width:E,height:w})},setCenter:async(S,_,E)=>{const{width:w,height:T,maxZoom:P,panZoom:C}=v();if(!C)return Promise.resolve(!1);const R=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:P;return await C.setViewport({x:w/2-S*R,y:T/2-_*R,zoom:R},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...z5}})},updateConnection:S=>{x({connection:S})},reset:()=>x({...B2()})}},Object.is);function B7({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:a,initialMaxZoom:u,initialFitViewOptions:d,fitView:f,nodeOrigin:m,nodeExtent:h,zIndexMode:g,children:x}){const[v]=k.useState(()=>$7({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:f,minZoom:a,maxZoom:u,fitViewOptions:d,nodeOrigin:m,nodeExtent:h,zIndexMode:g}));return l.jsx(o9,{value:v,children:l.jsx(T9,{children:x})})}function V7({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:a,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:m,nodeOrigin:h,nodeExtent:g,zIndexMode:x}){return k.useContext(Qf)?l.jsx(l.Fragment,{children:e}):l.jsx(B7,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:a,fitView:u,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:h,nodeExtent:g,zIndexMode:x,children:e})}const W7={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function U7({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:a,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:m,onMoveStart:h,onMoveEnd:g,onConnect:x,onConnectStart:v,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:E,onNodeMouseMove:w,onNodeMouseLeave:T,onNodeContextMenu:P,onNodeDoubleClick:C,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:A,onNodesDelete:U,onEdgesDelete:$,onDelete:H,onSelectionChange:Y,onSelectionDragStart:V,onSelectionDrag:X,onSelectionDragStop:z,onSelectionContextMenu:W,onSelectionStart:M,onSelectionEnd:B,onBeforeDelete:O,connectionMode:D,connectionLineType:L=eo.Bezier,connectionLineStyle:K,connectionLineComponent:Z,connectionLineContainerStyle:q,deleteKeyCode:J="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:te=!1,selectionMode:se=mc.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ce=yc()?"Meta":"Control",zoomActivationKeyCode:ue=yc()?"Meta":"Control",snapToGrid:ge,snapGrid:Ee,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Re,nodesDraggable:We,autoPanOnNodeFocus:Tt,nodesConnectable:Be,nodesFocusable:zt,nodeOrigin:Ut=gC,edgesFocusable:Ue,edgesReconnectable:Lt,elementsSelectable:Yr=!0,defaultViewport:$n=x9,minZoom:yt=.5,maxZoom:Nt=2,translateExtent:Qn=pc,preventScrolling:Zn=!0,nodeExtent:Ve,defaultMarkerColor:Zt="#b1b1b7",zoomOnScroll:mn=!0,zoomOnPinch:er=!0,panOnScroll:Jr=!1,panOnScrollSpeed:js=.5,panOnScrollMode:Cs=Jo.Free,zoomOnDoubleClick:go=!0,panOnDrag:Qr=!0,onPaneClick:gn,onPaneMouseEnter:yo,onPaneMouseMove:_r,onPaneMouseLeave:tr,onPaneScroll:xo,onPaneContextMenu:ze,paneClickDistance:lt=1,nodeClickDistance:xt=0,children:$t,onReconnect:Er,onReconnectStart:ht,onReconnectEnd:wt,onEdgeContextMenu:Tr,onEdgeDoubleClick:Rt,onEdgeMouseEnter:on,onEdgeMouseMove:Nr,onEdgeMouseLeave:yn,reconnectRadius:vo=10,onNodesChange:Ba,onEdgesChange:gh,noDragClassName:yh="nodrag",noWheelClassName:xh="nowheel",noPanClassName:Rr="nopan",fitView:Va,fitViewOptions:Wa,connectOnClick:vh,attributionPosition:Wc,proOptions:Uc,defaultEdgeOptions:Hc,elevateNodesOnSelect:Gc=!0,elevateEdgesOnSelect:bh=!1,disableKeyboardA11y:qc=!1,autoPanOnConnect:ct,autoPanOnNodeDrag:wh,autoPanSpeed:Ua,connectionRadius:Kc,isValidConnection:di,onError:Sh,style:Xc,id:bo,nodeDragThreshold:Bn,connectionDragThreshold:kh,viewport:_n,onViewportChange:jh,width:Ch,height:_h,colorMode:fi="light",debug:hi,onScroll:Pr,ariaLabelConfig:pi,zIndexMode:Yc="basic",...Eh},Ha){const mi=bo||"1",Ga=S9(fi),wo=k.useCallback(Jc=>{Jc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Pr==null||Pr(Jc)},[Pr]);return l.jsx("div",{"data-testid":"rf__wrapper",...Eh,onScroll:wo,style:{...Xc,...W7},ref:Ha,className:Et(["react-flow",s,Ga]),id:bo,role:"application",children:l.jsxs(V7,{nodes:e,edges:t,width:Ch,height:_h,fitView:Va,fitViewOptions:Wa,minZoom:yt,maxZoom:Nt,nodeOrigin:Ut,nodeExtent:Ve,zIndexMode:Yc,children:[l.jsx(L7,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:E,onNodeMouseMove:w,onNodeMouseLeave:T,onNodeContextMenu:P,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:a,connectionLineType:L,connectionLineStyle:K,connectionLineComponent:Z,connectionLineContainerStyle:q,selectionKeyCode:ne,selectionOnDrag:te,selectionMode:se,deleteKeyCode:J,multiSelectionKeyCode:ce,panActivationKeyCode:le,zoomActivationKeyCode:ue,onlyRenderVisibleElements:Oe,defaultViewport:$n,translateExtent:Qn,minZoom:yt,maxZoom:Nt,preventScrolling:Zn,zoomOnScroll:mn,zoomOnPinch:er,zoomOnDoubleClick:go,panOnScroll:Jr,panOnScrollSpeed:js,panOnScrollMode:Cs,panOnDrag:Qr,onPaneClick:gn,onPaneMouseEnter:yo,onPaneMouseMove:_r,onPaneMouseLeave:tr,onPaneScroll:xo,onPaneContextMenu:ze,paneClickDistance:lt,nodeClickDistance:xt,onSelectionContextMenu:W,onSelectionStart:M,onSelectionEnd:B,onReconnect:Er,onReconnectStart:ht,onReconnectEnd:wt,onEdgeContextMenu:Tr,onEdgeDoubleClick:Rt,onEdgeMouseEnter:on,onEdgeMouseMove:Nr,onEdgeMouseLeave:yn,reconnectRadius:vo,defaultMarkerColor:Zt,noDragClassName:yh,noWheelClassName:xh,noPanClassName:Rr,rfId:mi,disableKeyboardA11y:qc,nodeExtent:Ve,viewport:_n,onViewportChange:jh}),l.jsx(w9,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:v,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:We,autoPanOnNodeFocus:Tt,nodesConnectable:Be,nodesFocusable:zt,edgesFocusable:Ue,edgesReconnectable:Lt,elementsSelectable:Yr,elevateNodesOnSelect:Gc,elevateEdgesOnSelect:bh,minZoom:yt,maxZoom:Nt,nodeExtent:Ve,onNodesChange:Ba,onEdgesChange:gh,snapToGrid:ge,snapGrid:Ee,connectionMode:D,translateExtent:Qn,connectOnClick:vh,defaultEdgeOptions:Hc,fitView:Va,fitViewOptions:Wa,onNodesDelete:U,onEdgesDelete:$,onDelete:H,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:A,onSelectionDrag:X,onSelectionDragStart:V,onSelectionDragStop:z,onMove:m,onMoveStart:h,onMoveEnd:g,noPanClassName:Rr,nodeOrigin:Ut,rfId:mi,autoPanOnConnect:ct,autoPanOnNodeDrag:wh,autoPanSpeed:Ua,onError:Sh,connectionRadius:Kc,isValidConnection:di,selectNodesOnDrag:Re,nodeDragThreshold:Bn,connectionDragThreshold:kh,onBeforeDelete:O,debug:hi,ariaLabelConfig:pi,zIndexMode:Yc}),l.jsx(y9,{onSelectionChange:Y}),$t,l.jsx(f9,{proOptions:Uc,position:Wc}),l.jsx(d9,{rfId:mi,disableKeyboardA11y:qc})]})})}var H7=bC(U7);function G7(e){const[t,n]=k.useState(e),r=k.useCallback(s=>n(i=>xC(s,i)),[]);return[t,n,r]}function q7(e){const[t,n]=k.useState(e),r=k.useCallback(s=>n(i=>vC(s,i)),[]);return[t,n,r]}function K7({dimensions:e,lineWidth:t,variant:n,className:r}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Et(["react-flow__background-pattern",n,r])})}function X7({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:Et(["react-flow__background-pattern","dots",t])})}var ps;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ps||(ps={}));const Y7={[ps.Dots]:1,[ps.Lines]:1,[ps.Cross]:6},J7=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function UC({id:e,variant:t=ps.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:a,bgColor:u,style:d,className:f,patternClassName:m}){const h=k.useRef(null),{transform:g,patternId:x}=He(J7,ot),v=r||Y7[t],b=t===ps.Dots,S=t===ps.Cross,_=Array.isArray(n)?n:[n,n],E=[_[0]*g[2]||1,_[1]*g[2]||1],w=v*g[2],T=Array.isArray(i)?i:[i,i],P=S?[w,w]:E,C=[T[0]*g[2]||1+P[0]/2,T[1]*g[2]||1+P[1]/2],R=`${x}${e||""}`;return l.jsxs("svg",{className:Et(["react-flow__background",f]),style:{...d,...eh,"--xy-background-color-props":u,"--xy-background-pattern-color-props":a},ref:h,"data-testid":"rf__background",children:[l.jsx("pattern",{id:R,x:g[0]%E[0],y:g[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:b?l.jsx(X7,{radius:w/2,className:m}):l.jsx(K7,{dimensions:P,lineWidth:s,variant:t,className:m})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}UC.displayName="Background";const Q7=k.memo(UC);function Z7(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function eV(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function tV(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function nV(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function rV(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function kd({children:e,className:t,...n}){return l.jsx("button",{type:"button",className:Et(["react-flow__controls-button",t]),...n,children:e})}const sV=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function HC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:u,onInteractiveChange:d,className:f,children:m,position:h="bottom-left",orientation:g="vertical","aria-label":x}){const v=at(),{isInteractive:b,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:E}=He(sV,ot),{zoomIn:w,zoomOut:T,fitView:P}=Ly(),C=()=>{w(),i==null||i()},R=()=>{T(),a==null||a()},I=()=>{P(s),u==null||u()},A=()=>{v.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),d==null||d(!b)},U=g==="horizontal"?"horizontal":"vertical";return l.jsxs(Zf,{className:Et(["react-flow__controls",U,f]),position:h,style:e,"data-testid":"rf__controls","aria-label":x??E["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(kd,{onClick:C,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:_,children:l.jsx(Z7,{})}),l.jsx(kd,{onClick:R,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:S,children:l.jsx(eV,{})})]}),n&&l.jsx(kd,{className:"react-flow__controls-fitview",onClick:I,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:l.jsx(tV,{})}),r&&l.jsx(kd,{className:"react-flow__controls-interactive",onClick:A,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:b?l.jsx(rV,{}):l.jsx(nV,{})}),m]})}HC.displayName="Controls";const oV=k.memo(HC);function iV({id:e,x:t,y:n,width:r,height:s,style:i,color:a,strokeColor:u,strokeWidth:d,className:f,borderRadius:m,shapeRendering:h,selected:g,onClick:x}){const{background:v,backgroundColor:b}=i||{},S=a||v||b;return l.jsx("rect",{className:Et(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:m,ry:m,width:r,height:s,style:{fill:S,stroke:u,strokeWidth:d},shapeRendering:h,onClick:x?_=>x(_,e):void 0})}const aV=k.memo(iV),lV=e=>e.nodes.map(t=>t.id),Xm=e=>e instanceof Function?e:()=>e;function cV({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=aV,onClick:a}){const u=He(lV,ot),d=Xm(t),f=Xm(e),m=Xm(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:u.map(g=>l.jsx(dV,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:a,shapeRendering:h},g))})}function uV({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:u,onClick:d}){const{node:f,x:m,y:h,width:g,height:x}=He(v=>{const{internals:b}=v.nodeLookup.get(e),S=b.userNode,{x:_,y:E}=b.positionAbsolute,{width:w,height:T}=ks(S);return{node:S,x:_,y:E,width:w,height:T}},ot);return!f||f.hidden||!H5(f)?null:l.jsx(u,{x:m,y:h,width:g,height:x,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:s,strokeColor:n(f),strokeWidth:i,shapeRendering:a,onClick:d,id:f.id})}const dV=k.memo(uV);var fV=k.memo(cV);const hV=200,pV=150,mV=e=>!e.hidden,gV=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?U5(Oc(e.nodeLookup,{filter:mV}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},yV="react-flow__minimap-desc";function GC({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:m,maskStrokeWidth:h,position:g="bottom-right",onClick:x,onNodeClick:v,pannable:b=!1,zoomable:S=!1,ariaLabel:_,inversePan:E,zoomStep:w=1,offsetScale:T=5}){const P=at(),C=k.useRef(null),{boundingRect:R,viewBB:I,rfId:A,panZoom:U,translateExtent:$,flowWidth:H,flowHeight:Y,ariaLabelConfig:V}=He(gV,ot),X=(e==null?void 0:e.width)??hV,z=(e==null?void 0:e.height)??pV,W=R.width/X,M=R.height/z,B=Math.max(W,M),O=B*X,D=B*z,L=T*B,K=R.x-(O-R.width)/2-L,Z=R.y-(D-R.height)/2-L,q=O+L*2,J=D+L*2,ne=`${yV}-${A}`,te=k.useRef(0),se=k.useRef();te.current=B,k.useEffect(()=>{if(C.current&&U)return se.current=IB({domNode:C.current,panZoom:U,getTransform:()=>P.getState().transform,getViewScale:()=>te.current}),()=>{var ge;(ge=se.current)==null||ge.destroy()}},[U]),k.useEffect(()=>{var ge;(ge=se.current)==null||ge.update({translateExtent:$,width:H,height:Y,inversePan:E,pannable:b,zoomStep:w,zoomable:S})},[b,S,E,w,$,H,Y]);const le=x?ge=>{var Re;const[Ee,Oe]=((Re=se.current)==null?void 0:Re.pointer(ge))||[0,0];x(ge,{x:Ee,y:Oe})}:void 0,ce=v?k.useCallback((ge,Ee)=>{const Oe=P.getState().nodeLookup.get(Ee).internals.userNode;v(ge,Oe)},[]):void 0,ue=_??V["minimap.ariaLabel"];return l.jsx(Zf,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*B:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Et(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:X,height:z,viewBox:`${K} ${Z} ${q} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ne,ref:C,onClick:le,children:[ue&&l.jsx("title",{id:ne,children:ue}),l.jsx(fV,{onClick:ce,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:u}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-L},${Z-L}h${q+L*2}v${J+L*2}h${-q-L*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}GC.displayName="MiniMap";const xV=k.memo(GC),vV=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,bV={[wa.Line]:"right",[wa.Handle]:"bottom-right"};function wV({nodeId:e,position:t,variant:n=wa.Handle,className:r,style:s=void 0,children:i,color:a,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:g,autoScale:x=!0,shouldResize:v,onResizeStart:b,onResize:S,onResizeEnd:_}){const E=jC(),w=typeof e=="string"?e:E,T=at(),P=k.useRef(null),C=n===wa.Handle,R=He(k.useCallback(vV(C&&x),[C,x]),ot),I=k.useRef(null),A=t??bV[n];k.useEffect(()=>{if(!(!P.current||!w))return I.current||(I.current=GB({domNode:P.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:$,transform:H,snapGrid:Y,snapToGrid:V,nodeOrigin:X,domNode:z}=T.getState();return{nodeLookup:$,transform:H,snapGrid:Y,snapToGrid:V,nodeOrigin:X,paneDomNode:z}},onChange:($,H)=>{const{triggerNodeChanges:Y,nodeLookup:V,parentLookup:X,nodeOrigin:z}=T.getState(),W=[],M={x:$.x,y:$.y},B=V.get(w);if(B&&B.expandParent&&B.parentId){const O=B.origin??z,D=$.width??B.measured.width??0,L=$.height??B.measured.height??0,K={id:B.id,parentId:B.parentId,rect:{width:D,height:L,...G5({x:$.x??B.position.x,y:$.y??B.position.y},{width:D,height:L},B.parentId,V,O)}},Z=zy([K],V,X,z);W.push(...Z),M.x=$.x?Math.max(O[0]*D,$.x):void 0,M.y=$.y?Math.max(O[1]*L,$.y):void 0}if(M.x!==void 0&&M.y!==void 0){const O={id:w,type:"position",position:{...M}};W.push(O)}if($.width!==void 0&&$.height!==void 0){const D={id:w,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:$.width,height:$.height}};W.push(D)}for(const O of H){const D={...O,type:"position"};W.push(D)}Y(W)},onEnd:({width:$,height:H})=>{const Y={id:w,type:"dimensions",resizing:!1,dimensions:{width:$,height:H}};T.getState().triggerNodeChanges([Y])}})),I.current.update({controlPosition:A,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:m},keepAspectRatio:h,resizeDirection:g,onResizeStart:b,onResize:S,onResizeEnd:_,shouldResize:v}),()=>{var $;($=I.current)==null||$.destroy()}},[A,u,d,f,m,h,b,S,_,v]);const U=A.split("-");return l.jsx("div",{className:Et(["react-flow__resize-control","nodrag",...U,n,r]),ref:P,style:{...s,scale:R,...a&&{[C?"backgroundColor":"borderColor"]:a}},children:i})}k.memo(wV);function SV({data:e,selected:t}){return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.05) 100%)",border:t?"2px solid #f59e0b":"1px solid rgba(245, 158, 11, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(245, 158, 11, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(245, 158, 11, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($f,{size:18,style:{color:"#f59e0b"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Start"})]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:"Flow starting point"}),l.jsx(_t,{type:"source",position:xe.Bottom,style:{background:"#f59e0b",width:"12px",height:"12px",border:"2px solid white"}})]})}function kV({data:e,selected:t}){var n,r;return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(6, 182, 212, 0.05) 100%)",border:t?"2px solid #06b6d4":"1px solid rgba(6, 182, 212, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(6, 182, 212, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#06b6d4",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(fy,{size:18,style:{color:"#06b6d4"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Send Template"})]}),((n=e.config)==null?void 0:n.templateName)&&l.jsxs("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#06b6d4",fontWeight:500,marginBottom:"4px"},children:[" ",e.config.templateName]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:(r=e.config)!=null&&r.templateId?"Template configured":"Send WhatsApp template"}),l.jsx(_t,{type:"source",position:xe.Bottom,style:{background:"#06b6d4",width:"12px",height:"12px",border:"2px solid white"}})]})}function jV({data:e,selected:t}){return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.05) 100%)",border:t?"2px solid #3b82f6":"1px solid rgba(59, 130, 246, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(59, 130, 246, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#3b82f6",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(59, 130, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Ur,{size:18,style:{color:"#3b82f6"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Wait Reply"})]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:"Wait for user response"}),l.jsx(_t,{type:"source",position:xe.Bottom,style:{background:"#3b82f6",width:"12px",height:"12px",border:"2px solid white"}})]})}function CV({data:e,selected:t}){var n,r,s;return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0.05) 100%)",border:t?"2px solid #8b5cf6":"1px solid rgba(139, 92, 246, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(139, 92, 246, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#8b5cf6",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(dy,{size:18,style:{color:"#8b5cf6"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Condition"})]}),((n=e.config)==null?void 0:n.variable)&&((r=e.config)==null?void 0:r.value)&&l.jsxs("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#8b5cf6",fontWeight:500,marginBottom:"4px",padding:"6px 8px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:[e.config.variable," ",e.config.operator==="equals"?"==":e.config.operator==="not_equals"?"!=":e.config.operator==="contains"?"":"~"," ",e.config.value]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:(s=e.config)!=null&&s.variable?"Condition configured":"Branch based on logic"}),l.jsx(_t,{type:"source",position:xe.Bottom,id:"true",style:{background:"#10b981",width:"12px",height:"12px",border:"2px solid white",left:"30%"}}),l.jsx(_t,{type:"source",position:xe.Bottom,id:"false",style:{background:"#ef4444",width:"12px",height:"12px",border:"2px solid white",left:"70%"}})]})}function _V({data:e,selected:t}){return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%)",border:t?"2px solid #10b981":"1px solid rgba(16, 185, 129, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(16, 185, 129, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#10b981",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Dj,{size:18,style:{color:"#10b981"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Delay"})]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:"Wait for duration"}),l.jsx(_t,{type:"source",position:xe.Bottom,style:{background:"#10b981",width:"12px",height:"12px",border:"2px solid white"}})]})}function EV({data:e,selected:t}){var a,u,d;const n=e.config,r=((a=n==null?void 0:n.questions)==null?void 0:a.length)||0,s=(n==null?void 0:n.enableConfirmation)||!1,i=((u=n==null?void 0:n.onMaxRetry)==null?void 0:u.action)==="jump_to_node"&&((d=n==null?void 0:n.onMaxRetry)==null?void 0:d.jumpToNodeId);return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(5, 150, 105, 0.08) 100%)",border:t?"2px solid #10b981":"1px solid rgba(16, 185, 129, 0.3)",minWidth:"220px",boxShadow:t?"0 8px 24px rgba(16, 185, 129, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#10b981",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Pj,{size:18,style:{color:"#10b981"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Guest Form"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:r>0?`${r} question${r>1?"s":""}`:"No questions yet"}),s&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.7rem",color:"#059669"},children:[l.jsx(Of,{size:12}),l.jsx("span",{children:"Confirmation enabled"})]}),i&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.7rem",color:"#f59e0b"},children:[l.jsx(my,{size:12}),l.jsx("span",{children:"Retry jump configured"})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"12px",paddingTop:"8px",borderTop:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",position:"relative"},children:[l.jsx(_t,{type:"source",position:xe.Bottom,id:"confirmed",style:{position:"relative",transform:"none",background:"#10b981",width:"10px",height:"10px",border:"2px solid white",left:0,bottom:0}}),l.jsx("span",{style:{fontSize:"0.65rem",color:"#059669",fontWeight:500},children:"Confirmed"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",position:"relative"},children:[l.jsx("span",{style:{fontSize:"0.65rem",color:"#f59e0b",fontWeight:500},children:"Max Retry"}),l.jsx(_t,{type:"source",position:xe.Bottom,id:"max_retry",style:{position:"relative",transform:"none",background:"#f59e0b",width:"10px",height:"10px",border:"2px solid white",right:0,bottom:0}})]})]})]})}function TV({data:e,selected:t}){return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(236, 72, 153, 0.15) 0%, rgba(236, 72, 153, 0.05) 100%)",border:t?"2px solid #ec4899":"1px solid rgba(236, 72, 153, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(236, 72, 153, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#ec4899",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(236, 72, 153, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(yy,{size:18,style:{color:"#ec4899"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"Update Guest"})]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:"Modify guest data"}),l.jsx(_t,{type:"source",position:xe.Bottom,style:{background:"#ec4899",width:"12px",height:"12px",border:"2px solid white"}})]})}function NV({data:e,selected:t}){return l.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(100, 116, 139, 0.15) 0%, rgba(100, 116, 139, 0.05) 100%)",border:t?"2px solid #64748b":"1px solid rgba(100, 116, 139, 0.3)",minWidth:"200px",boxShadow:t?"0 8px 24px rgba(100, 116, 139, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[l.jsx(_t,{type:"target",position:xe.Top,style:{background:"#64748b",width:"12px",height:"12px",border:"2px solid white"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(100, 116, 139, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Ij,{size:18,style:{color:"#64748b"}})}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e.label||"End"})]}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:"End conversation"})]})}const RV={trigger:SV,send_template:kV,wait_reply:jV,condition:CV,delay:_V,guest_form:EV,update_guest:TV,end:NV};function PV({nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onNodeSelect:s,isLocked:i=!1}){const[a,u,d]=G7(e),[f,m,h]=q7(t),[g,x]=k.useState(null),v=k.useMemo(()=>{const C=[];return e.forEach(R=>{var I;if(R.type==="guest_form"){const A=R.data.config;((I=A==null?void 0:A.onMaxRetry)==null?void 0:I.action)==="jump_to_node"&&A.onMaxRetry.jumpToNodeId&&e.some($=>$.id===A.onMaxRetry.jumpToNodeId)&&C.push({id:`ghost_${R.id}_${A.onMaxRetry.jumpToNodeId}`,source:R.id,target:A.onMaxRetry.jumpToNodeId,sourceHandle:"max_retry",type:"smoothstep",animated:!0,style:{stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5,5",opacity:.7},label:"Max Retry",labelStyle:{fontSize:10,fill:"#f59e0b",fontWeight:600},labelBgStyle:{fill:"rgba(255, 255, 255, 0.9)"},selectable:!1,deletable:!1,data:{isGhost:!0}})}}),C},[e]);k.useEffect(()=>{u(e)},[e,u]),k.useEffect(()=>{m(t)},[t,m]),k.useEffect(()=>{const C=R=>{if(!i&&(R.key==="Delete"||R.key==="Backspace")&&g){if(g.startsWith("ghost_"))return;const I=f.filter(A=>A.id!==g);m(I),r(I),x(null)}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[g,f,m,r,i]);const b=k.useCallback(C=>{if(i)return;const R=Z5({...C,type:"smoothstep",animated:!0,style:{stroke:"rgba(139, 92, 246, 0.6)",strokeWidth:2}},f);m(R),r(R)},[f,m,r,i]),S=k.useCallback((C,R)=>{x(null),s(R)},[s]),_=k.useCallback((C,R)=>{R.id.startsWith("ghost_")||(x(R.id),s(null))},[s]),E=k.useCallback(()=>{x(null),s(null)},[s]),w=k.useCallback(C=>{i||(C.preventDefault(),C.dataTransfer.dropEffect="move")},[i]),T=k.useCallback(C=>{if(i)return;C.preventDefault();const R=C.dataTransfer.getData("application/reactflow");if(!R)return;const I={x:C.clientX-250,y:C.clientY-100},A={trigger:"Start",send_template:"Send Template",wait_reply:"Wait Reply",condition:"Condition",delay:"Delay",guest_form:"Guest Form",update_guest:"Update Guest",end:"End"},U={id:`${R}_${Date.now()}`,type:R,position:I,data:{label:A[R]||`New ${R.replace("_"," ")}`,config:null}},$=[...a,U];u($),n($)},[a,u,n,i]),P=k.useMemo(()=>[...f.map(R=>({...R,style:{...R.style,stroke:g===R.id?"#ef4444":"rgba(139, 92, 246, 0.6)",strokeWidth:g===R.id?3:2}})),...v],[f,v,g]);return l.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[g&&!g.startsWith("ghost_")&&l.jsxs("div",{style:{position:"absolute",top:"16px",left:"50%",transform:"translateX(-50%)",zIndex:10,padding:"8px 16px",background:"rgba(239, 68, 68, 0.9)",color:"white",borderRadius:"8px",fontSize:"0.875rem",fontWeight:500,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:["Press ",l.jsx("strong",{children:"Delete"})," or ",l.jsx("strong",{children:"Backspace"})," to remove connection"]}),l.jsxs(H7,{nodes:a,edges:P,onNodesChange:C=>{d(C),u(R=>(n(R),R))},onEdgesChange:C=>{const R=C.filter(I=>"id"in I&&typeof I.id=="string"?!I.id.startsWith("ghost_"):!0);h(R),r(f)},onConnect:b,onNodeClick:S,onEdgeClick:_,onPaneClick:E,onDragOver:w,onDrop:T,nodeTypes:RV,fitView:!0,deleteKeyCode:null,style:{background:"rgba(255, 255, 255, 0.5)"},children:[l.jsx(Q7,{variant:ps.Dots,gap:20,size:1,color:"rgba(245, 158, 11, 0.15)"}),l.jsx(oV,{style:{background:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.2)"}}),l.jsx(xV,{style:{background:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.2)"},nodeColor:C=>({trigger:"#f59e0b",send_template:"#06b6d4",wait_reply:"#3b82f6",condition:"#8b5cf6",delay:"#10b981",guest_form:"#10b981",update_guest:"#ec4899",end:"#64748b"})[C.type||"default"]||"#999"})]})]})}function Yt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function IV(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const jd=43200,V2=1440;let AV={};function MV(){return AV}function W2(e){const t=Yt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Kd(e,t){const n=Yt(e),r=Yt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function FV(e){return IV(e,Date.now())}function DV(e,t){const n=Yt(e),r=Yt(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function OV(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function zV(e,t){return+Yt(e)-+Yt(t)}function LV(e){const t=Yt(e);return t.setHours(23,59,59,999),t}function $V(e){const t=Yt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function BV(e){const t=Yt(e);return+LV(t)==+$V(t)}function VV(e,t){const n=Yt(e),r=Yt(t),s=Kd(n,r),i=Math.abs(DV(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let u=Kd(n,r)===-s;BV(Yt(e))&&i===1&&Kd(e,r)===1&&(u=!1),a=s*(i-Number(u))}return a===0?0:a}function WV(e,t,n){const r=zV(e,t)/1e3;return OV(n==null?void 0:n.roundingMethod)(r)}const UV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HV=(e,t,n)=>{let r;const s=UV[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ym(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XV={date:Ym({formats:GV,defaultWidth:"full"}),time:Ym({formats:qV,defaultWidth:"full"}),dateTime:Ym({formats:KV,defaultWidth:"full"})},YV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JV=(e,t,n,r)=>YV[e];function Rl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=e.formattingValues[u]||e.formattingValues[a]}else{const a=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const QV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sW=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oW={ordinalNumber:sW,era:Rl({values:QV,defaultWidth:"wide"}),quarter:Rl({values:ZV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rl({values:eW,defaultWidth:"wide"}),day:Rl({values:tW,defaultWidth:"wide"}),dayPeriod:Rl({values:nW,defaultWidth:"wide",formattingValues:rW,defaultFormattingWidth:"wide"})};function Pl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?aW(u,h=>h.test(a)):iW(u,h=>h.test(a));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(a.length);return{value:f,rest:m}}}function iW(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function aW(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function lW(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=t.slice(s.length);return{value:a,rest:u}}}const cW=/^(\d+)(th|st|nd|rd)?/i,uW=/\d+/i,dW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fW={any:[/^b/i,/^(a|c)/i]},hW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pW={any:[/1/i,/2/i,/3/i,/4/i]},mW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wW={ordinalNumber:lW({matchPattern:cW,parsePattern:uW,valueCallback:e=>parseInt(e,10)}),era:Pl({matchPatterns:dW,defaultMatchWidth:"wide",parsePatterns:fW,defaultParseWidth:"any"}),quarter:Pl({matchPatterns:hW,defaultMatchWidth:"wide",parsePatterns:pW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pl({matchPatterns:mW,defaultMatchWidth:"wide",parsePatterns:gW,defaultParseWidth:"any"}),day:Pl({matchPatterns:yW,defaultMatchWidth:"wide",parsePatterns:xW,defaultParseWidth:"any"}),dayPeriod:Pl({matchPatterns:vW,defaultMatchWidth:"any",parsePatterns:bW,defaultParseWidth:"any"})},SW={code:"en-US",formatDistance:HV,formatLong:XV,formatRelative:JV,localize:oW,match:wW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kW(e,t,n){const r=MV(),s=(n==null?void 0:n.locale)??r.locale??SW,i=2520,a=Kd(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let d,f;a>0?(d=Yt(t),f=Yt(e)):(d=Yt(e),f=Yt(t));const m=WV(f,d),h=(W2(f)-W2(d))/1e3,g=Math.round((m-h)/60);let x;if(g<2)return n!=null&&n.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,u):m<10?s.formatDistance("lessThanXSeconds",10,u):m<20?s.formatDistance("lessThanXSeconds",20,u):m<40?s.formatDistance("halfAMinute",0,u):m<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):g===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",g,u);if(g<45)return s.formatDistance("xMinutes",g,u);if(g<90)return s.formatDistance("aboutXHours",1,u);if(g<V2){const v=Math.round(g/60);return s.formatDistance("aboutXHours",v,u)}else{if(g<i)return s.formatDistance("xDays",1,u);if(g<jd){const v=Math.round(g/V2);return s.formatDistance("xDays",v,u)}else if(g<jd*2)return x=Math.round(g/jd),s.formatDistance("aboutXMonths",x,u)}if(x=VV(f,d),x<12){const v=Math.round(g/jd);return s.formatDistance("xMonths",v,u)}else{const v=x%12,b=Math.trunc(x/12);return v<3?s.formatDistance("aboutXYears",b,u):v<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}}function jW(e,t){return kW(e,FV(e),t)}function CW({chatflow:e,onClose:t}){const{templates:n}=Ma(),[r,s]=k.useState([]),[i,a]=k.useState([]),[u,d]=k.useState({"guest.name":"Test User","guest.phone":"+6281234567890","guest.email":"test@example.com","event.name":"Wedding Event","event.date":"January 20, 2026","event.venue":"Grand Ballroom"}),f=k.useRef(u);f.current=u;const m=k.useRef(null),h=k.useRef(null),[g,x]=k.useState(null),[v,b]=k.useState(!1),[S,_]=k.useState(!1),[E,w]=k.useState(""),[T,P]=k.useState(0),[C,R]=k.useState({isActive:!1,nodeId:null,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:0,isConfirmationPhase:!1,collectedAnswers:{}});k.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[i]),k.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[r]);const I=O=>{s(D=>[...D,{...O,id:Date.now().toString(),timestamp:new Date}])},A=O=>{a(D=>[...D,{...O,timestamp:new Date}])},U=O=>new Promise(D=>setTimeout(D,O)),$=(O,D)=>{const L=D?e.edges.find(K=>K.source===O&&K.sourceHandle===D):e.edges.find(K=>K.source===O);return L&&e.nodes.find(K=>K.id===L.target)||null},H=async O=>{var D,L;console.log(" [EXECUTE NODE] Starting:",O.type,O.data.label,O.id),x(O.id);try{switch(O.type){case"trigger":A({nodeId:O.id,nodeName:O.data.label,action:"Start Flow",result:"success",message:"Flow triggered"});const K=$(O.id);K&&(await U(500),await H(K));break;case"send_template":const Z=O.data.config,q=Z==null?void 0:Z.templateId,J=n.find(Ve=>Ve.id===q);if(J){A({nodeId:O.id,nodeName:O.data.label,action:"Send Template",result:"success",message:`Sending "${J.name}"`});let Ve=J.content.body.text;console.log(" [SEND TEMPLATE] Original message:",Ve),console.log(" [SEND TEMPLATE] Config variables:",Z==null?void 0:Z.variables),console.log(" [SEND TEMPLATE] Available variables:",f.current),Z!=null&&Z.variables&&Object.entries(Z.variables).forEach(([Zt,mn])=>{const er=mn.replace(/\{\{|\}\}/g,""),Jr=f.current[er]||`[${Zt}]`;console.log(` [SEND TEMPLATE] Replace {{${Zt}}} with "${Jr}" (from ${er})`);const js=new RegExp(`\\{\\{${Zt}\\}\\}`,"g");Ve=Ve.replace(js,Jr)}),Object.entries(f.current).forEach(([Zt,mn])=>{const er=new RegExp(`\\{\\{${Zt}\\}\\}`,"g");Ve=Ve.replace(er,mn)}),console.log(" [SEND TEMPLATE] Final message:",Ve),I({type:"sent",content:Ve})}else A({nodeId:O.id,nodeName:O.data.label,action:"Send Template",result:"error",message:"Template not found or not configured"}),I({type:"sent",content:"[Template not configured]"});const ne=$(O.id);ne&&(await U(1e3),await H(ne));break;case"wait_reply":const te=O.data.config;A({nodeId:O.id,nodeName:O.data.label,action:"Wait Reply",result:"waiting",message:te!=null&&te.expectedValues?`Waiting for user input (expected: ${te.expectedValues.join(", ")})...`:"Waiting for user input..."}),_(!0),P(0);break;case"condition":const se=O.data.config;console.log(" [CONDITION NODE] Starting evaluation:",{nodeId:O.id,nodeName:O.data.label,config:se,allVariables:f.current});const le=f.current[(se==null?void 0:se.variable)||""],ce=(se==null?void 0:se.value)||"",ue=(se==null?void 0:se.operator)||"equals",ge=(se==null?void 0:se.caseSensitive)||!1;console.log(" [CONDITION NODE] Values to compare:",{variableName:se==null?void 0:se.variable,variableValue:le,compareValue:ce,operator:ue,caseSensitive:ge});let Ee=le!==void 0?String(le):"",Oe=ce;ge||(Ee=Ee.toLowerCase(),Oe=Oe.toLowerCase()),console.log(" [CONDITION NODE] After case handling:",{varVal:Ee,compVal:Oe});let Re=!1;try{switch(ue){case"equals":Re=Ee===Oe;break;case"not_equals":Re=Ee!==Oe;break;case"contains":Re=Ee.includes(Oe);break;case"matches":Re=new RegExp(Oe,ge?"":"i").test(String(le));break;default:Re=!1}}catch(Ve){console.error("Error evaluating condition:",Ve),Re=!1}console.log(" [CONDITION NODE] Condition result:",Re),A({nodeId:O.id,nodeName:O.data.label,action:"Evaluate Condition",result:"success",message:`${se==null?void 0:se.variable} ${ue} "${ce}"  ${Re?"TRUE":"FALSE"} (value: "${le}")`});const We=e.edges.filter(Ve=>Ve.source===O.id);console.log(" [CONDITION NODE] All edges from this node:",We);const Tt=Re?"true":"false";console.log(" [CONDITION NODE] Looking for edge with sourceHandle:",Tt);const Be=$(O.id,Tt);console.log(" [CONDITION NODE] Next node found:",Be==null?void 0:Be.id,(D=Be==null?void 0:Be.data)==null?void 0:D.label),Be?(await U(800),await H(Be)):(A({nodeId:O.id,nodeName:O.data.label,action:"Condition Error",result:"error",message:`No ${Re?"TRUE":"FALSE"} path defined. Please connect both true and false edges.`}),b(!1));break;case"delay":const zt=((L=O.data.config)==null?void 0:L.duration)||1;A({nodeId:O.id,nodeName:O.data.label,action:"Delay",result:"success",message:`Waiting ${zt} seconds...`}),await U(zt*1e3);const Ut=$(O.id);Ut&&await H(Ut);break;case"set_variable":const Ue=O.data.config;Ue!=null&&Ue.variableName&&(Ue!=null&&Ue.value)?(d(Ve=>({...Ve,[Ue.variableName]:Ue.value})),A({nodeId:O.id,nodeName:O.data.label,action:"Set Variable",result:"success",message:`Set ${Ue.variableName} = "${Ue.value}"`})):A({nodeId:O.id,nodeName:O.data.label,action:"Set Variable",result:"error",message:"Variable name or value not configured"});const Lt=$(O.id);Lt&&(await U(500),await H(Lt));break;case"update_guest":const Yr=O.data.config;A({nodeId:O.id,nodeName:O.data.label,action:"Update Guest",result:"success",message:"Guest data would be updated (simulation only)"});const $n=$(O.id);$n&&(await U(500),await H($n));break;case"guest_form":const yt=O.data.config;if(!yt||!yt.questions||yt.questions.length===0){A({nodeId:O.id,nodeName:O.data.label,action:"Guest Form Error",result:"error",message:"No questions configured in guest form"});const Ve=$(O.id);Ve&&(await U(500),await H(Ve));break}A({nodeId:O.id,nodeName:O.data.label,action:"Start Guest Form",result:"success",message:`Starting form with ${yt.questions.length} question(s)`}),R({isActive:!0,nodeId:O.id,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:0,isConfirmationPhase:!1,collectedAnswers:{}});const Nt=yt.questions[0];let Zn=Nt.promptMessage||Nt.question;Nt.type==="choice"&&Nt.options&&Nt.options.length>0&&(Zn+=`

Pilihan: ${Nt.options.join(", ")}`),I({type:"sent",content:Zn}),A({nodeId:O.id,nodeName:O.data.label,action:"Ask Question",result:"waiting",message:`Q1/${yt.questions.length}: ${Nt.variableName}`}),_(!0);break;case"end":A({nodeId:O.id,nodeName:O.data.label,action:"End Flow",result:"success",message:"Flow completed"}),b(!1),x(null);break}}catch(K){console.error(" [EXECUTE NODE] Error executing node:",O.id,K),A({nodeId:O.id,nodeName:O.data.label,action:"Execution Error",result:"error",message:`Error: ${K instanceof Error?K.message:String(K)}`}),b(!1)}},Y=async()=>{if(console.log(" [SIMULATOR] Starting flow test..."),!e||!e.nodes||e.nodes.length===0){console.error(" [SIMULATOR] No nodes in chatflow!"),A({nodeId:"system",nodeName:"System",action:"Error",result:"error",message:"No nodes found in chatflow. Please add nodes to the flow first."});return}const O=e.nodes.find(D=>D.type==="trigger");if(!O){console.error(" [SIMULATOR] No trigger node found!"),A({nodeId:"system",nodeName:"System",action:"Error",result:"error",message:"No trigger node found. Please add a Trigger node to start the flow."}),b(!0);return}s([]),a([]),d({"guest.name":"Test User","guest.phone":"+6281234567890","guest.email":"test@example.com","event.name":"Wedding Event","event.date":"January 20, 2026","event.venue":"Grand Ballroom"}),b(!0),_(!1),P(0);try{await H(O)}catch(D){console.error(" [SIMULATOR] Execution error:",D),A({nodeId:"system",nodeName:"System",action:"Error",result:"error",message:`Execution error: ${D instanceof Error?D.message:String(D)}`}),b(!1)}},V=async()=>{var K,Z,q;if(!E.trim()||!S)return;if(console.log(" [SEND REPLY] User input:",E),console.log(" [SEND REPLY] Current node ID:",g),console.log(" [SEND REPLY] Guest form active:",C.isActive),I({type:"received",content:E}),C.isActive&&C.nodeId){await X(E.trim()),w("");return}const O=e.nodes.find(J=>J.id===g);console.log(" [SEND REPLY] Current node:",O),console.log(" [SEND REPLY] Config saveAs:",(K=O==null?void 0:O.data.config)==null?void 0:K.saveAs);const D=O==null?void 0:O.data.config;if(D!=null&&D.expectedValues&&D.expectedValues.length>0){const J=D.caseSensitive||!1,ne=J?E.trim():E.trim().toLowerCase(),te=D.expectedValues.map(le=>J?le:le.toLowerCase());console.log(" [VALIDATION] Expected values:",te),console.log(" [VALIDATION] User input (normalized):",ne);const se=te.includes(ne);if(console.log(" [VALIDATION] Is valid:",se),se)A({nodeId:O.id,nodeName:O.data.label,action:"Validation Success",result:"success",message:`Valid input: "${E}"`}),P(0);else{const le=D.maxRetries||3,ce=T+1;if(console.log(" [VALIDATION] Invalid input. Retry",ce,"/",le),ce<le){const ue=D.retryMessage||`Maaf, mohon jawab dengan salah satu dari: ${D.expectedValues.join(", ")}`;I({type:"sent",content:ue}),A({nodeId:O.id,nodeName:O.data.label,action:"Validation Failed",result:"error",message:`Invalid input "${E}". Retry ${ce}/${le}`}),P(ce),w("");return}else{const ue=D.fallbackAction||"end",ge=D.fallbackMessage||"Maaf, kami tidak dapat memproses jawaban Anda.";if(A({nodeId:O.id,nodeName:O.data.label,action:"Max Retries Reached",result:"error",message:`Max retries (${le}) reached. Action: ${ue}`}),I({type:"sent",content:ge}),P(0),w(""),ue==="end"){_(!1),A({nodeId:O.id,nodeName:O.data.label,action:"End Flow",result:"error",message:"Flow ended due to max retries reached"}),b(!1),x(null);return}else if(ue==="wait_again"){A({nodeId:O.id,nodeName:O.data.label,action:"Wait for Reply Again",result:"error",message:"Waiting for user input again (unlimited retries after fallback)"});return}_(!1),A({nodeId:O.id,nodeName:O.data.label,action:"Continue with Invalid",result:"error",message:`Continuing flow with invalid input: "${E}"`})}}}let L=f.current;if((Z=O==null?void 0:O.data.config)!=null&&Z.saveAs){const J=O.data.config.saveAs;console.log(" [SEND REPLY] Saving to variable:",J,"=",E),L={...f.current,[J]:E},d(L),console.log(" [SEND REPLY] Updated variables:",L)}else console.log(" [SEND REPLY] No saveAs configured, variable NOT saved");if(w(""),_(!1),await U(100),g){const J=$(g);console.log(" [SEND REPLY] Next node:",J==null?void 0:J.id,(q=J==null?void 0:J.data)==null?void 0:q.label),J&&(await U(400),await H(J))}},X=async O=>{const D=e.nodes.find(te=>te.id===C.nodeId);if(!D)return;const L=D.data.config,K=L.questions;if(C.isConfirmationPhase){const te=L.confirmYesKeywords||["ya","yes","benar","ok"],se=L.confirmNoKeywords||["tidak","no","salah","ulang"],le=O.toLowerCase();if(te.some(ce=>le===ce.toLowerCase())){A({nodeId:D.id,nodeName:D.data.label,action:"Form Confirmed",result:"success",message:"User confirmed all answers"});const ce={...f.current,...C.collectedAnswers};d(ce),f.current=ce,R({isActive:!1,nodeId:null,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:0,isConfirmationPhase:!1,collectedAnswers:{}}),_(!1);const ue=$(D.id,"confirmed");if(ue)await U(500),await H(ue);else{const ge=$(D.id);ge&&(await U(500),await H(ge))}return}else if(se.some(ce=>le===ce.toLowerCase())){const ce=C.confirmRetryCount+1,ue=L.maxConfirmRetries||3;if(ce>=ue){A({nodeId:D.id,nodeName:D.data.label,action:"Max Confirm Retries",result:"error",message:`Max confirmation retries (${ue}) reached`}),await W(D,L);return}A({nodeId:D.id,nodeName:D.data.label,action:"Re-enter Data",result:"success",message:`User wants to re-enter. Retry ${ce}/${ue}`}),R(Oe=>({...Oe,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:ce,isConfirmationPhase:!1,collectedAnswers:{}}));const ge=K[0];let Ee=ge.promptMessage||ge.question;ge.type==="choice"&&ge.options&&(Ee+=`

Pilihan: ${ge.options.join(", ")}`),I({type:"sent",content:Ee});return}else{I({type:"sent",content:`Mohon jawab dengan "${te[0]}" atau "${se[0]}"`});return}}const Z=K[C.currentQuestionIndex],q=z(Z,O);if(!q.valid){const te=C.questionRetryCount+1,se=L.maxQuestionRetries||3;if(te>=se){A({nodeId:D.id,nodeName:D.data.label,action:"Max Question Retries",result:"error",message:`Max retries for question "${Z.variableName}"`}),await W(D,L);return}A({nodeId:D.id,nodeName:D.data.label,action:"Invalid Answer",result:"error",message:`${q.error}. Retry ${te}/${se}`}),R(ce=>({...ce,questionRetryCount:te}));const le=Z.errorMessage||q.error||"Jawaban tidak valid";I({type:"sent",content:le});return}const J={...C.collectedAnswers,[Z.variableName]:O};A({nodeId:D.id,nodeName:D.data.label,action:"Answer Saved",result:"success",message:`${Z.variableName} = "${O}"`});const ne=C.currentQuestionIndex+1;if(ne<K.length){R(le=>({...le,currentQuestionIndex:ne,questionRetryCount:0,collectedAnswers:J}));const te=K[ne];let se=te.promptMessage||te.question;te.type==="choice"&&te.options&&(se+=`

Pilihan: ${te.options.join(", ")}`),await U(500),I({type:"sent",content:se}),A({nodeId:D.id,nodeName:D.data.label,action:"Ask Question",result:"waiting",message:`Q${ne+1}/${K.length}: ${te.variableName}`})}else if(R(te=>({...te,collectedAnswers:J})),L.enableConfirmation){let te=L.confirmationMessage||`Data yang Anda masukkan:
`;Object.entries(J).forEach(([se,le])=>{const ce=new RegExp(`\\{\\{${se}\\}\\}`,"g");te=te.replace(ce,le)}),L.confirmationMessage||(te=`Data yang Anda masukkan:
`,K.forEach(se=>{te+=` ${se.question}: ${J[se.variableName]||"-"}
`}),te+=`
Apakah sudah benar? (Ya/Tidak)`),R(se=>({...se,isConfirmationPhase:!0,collectedAnswers:J})),await U(500),I({type:"sent",content:te}),A({nodeId:D.id,nodeName:D.data.label,action:"Confirm Data",result:"waiting",message:"Waiting for confirmation..."})}else{A({nodeId:D.id,nodeName:D.data.label,action:"Form Complete",result:"success",message:"All questions answered"});const te={...f.current,...J};d(te),f.current=te,R({isActive:!1,nodeId:null,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:0,isConfirmationPhase:!1,collectedAnswers:{}}),_(!1);const se=$(D.id,"confirmed")||$(D.id);se&&(await U(500),await H(se))}},z=(O,D)=>{if(O.required&&!D.trim())return{valid:!1,error:"Jawaban tidak boleh kosong"};switch(O.type){case"number":const L=parseInt(D);return isNaN(L)?{valid:!1,error:"Mohon masukkan angka"}:O.min!==void 0&&L<O.min?{valid:!1,error:`Minimal ${O.min}`}:O.max!==void 0&&L>O.max?{valid:!1,error:`Maksimal ${O.max}`}:{valid:!0};case"choice":return O.options&&O.options.length>0&&!O.options.map(Z=>Z.toLowerCase()).includes(D.toLowerCase())?{valid:!1,error:`Pilih salah satu: ${O.options.join(", ")}`}:{valid:!0};case"text":default:return{valid:!0}}},W=async(O,D)=>{const L=D.onMaxRetry;if(L!=null&&L.sendCSMessage&&L.csMessage&&I({type:"sent",content:L.csMessage}),R({isActive:!1,nodeId:null,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:0,isConfirmationPhase:!1,collectedAnswers:{}}),_(!1),(L==null?void 0:L.action)==="jump_to_node"&&L.jumpToNodeId){const Z=e.nodes.find(q=>q.id===L.jumpToNodeId);if(Z){A({nodeId:O.id,nodeName:O.data.label,action:"Jump to Node",result:"success",message:`Jumping to ${Z.data.label}`}),await U(500),await H(Z);return}}const K=$(O.id,"max_retry");K?(await U(500),await H(K)):(A({nodeId:O.id,nodeName:O.data.label,action:"End Flow",result:"error",message:"Flow ended due to max retries"}),b(!1),x(null))},M=()=>{s([]),a([]),d({"guest.name":"Test User","guest.phone":"+6281234567890","guest.email":"test@example.com","event.name":"Wedding Event","event.date":"January 20, 2026","event.venue":"Grand Ballroom"}),x(null),b(!1),_(!1),w(""),P(0),R({isActive:!1,nodeId:null,currentQuestionIndex:0,questionRetryCount:0,confirmRetryCount:0,isConfirmationPhase:!1,collectedAnswers:{}})},B=l.jsx(io,{children:l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:t,children:l.jsxs(ae.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:O=>O.stopPropagation(),style:{background:"#fff",borderRadius:"24px",width:"90vw",height:"85vh",maxWidth:"1200px",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.2)"},children:[l.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #f59e0b 0%, #f97316 100%)"},children:[l.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:600,color:"#fff"},children:["Flow Simulator - ",(e==null?void 0:e.name)||"Unknown"]}),l.jsx("button",{onClick:t,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer"},children:l.jsx(hn,{size:24,style:{color:"#fff"}})})]}),l.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"400px 300px",gap:"1px",background:"#e5e7eb",overflow:"hidden"},children:[l.jsxs("div",{style:{background:"#ece5dd",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsx("div",{style:{background:"#075e54",padding:"12px 16px",color:"#fff",fontSize:"0.875rem",fontWeight:600},children:"Test User"}),l.jsx("div",{ref:h,style:{flex:1,padding:"16px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px",minHeight:0},children:r.map(O=>l.jsx("div",{style:{alignSelf:O.type==="sent"?"flex-end":"flex-start",background:O.type==="sent"?"#dcf8c6":"#fff",padding:"8px 12px",borderRadius:"8px",maxWidth:"70%",fontSize:"0.875rem",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:O.content},O.id))}),l.jsxs("div",{style:{padding:"12px",background:"#f0f0f0",display:"flex",gap:"8px"},children:[l.jsx("input",{type:"text",value:E,onChange:O=>w(O.target.value),onKeyPress:O=>O.key==="Enter"&&V(),placeholder:S?"Type a message...":"Waiting for flow...",disabled:!S,style:{flex:1,padding:"8px 12px",borderRadius:"20px",border:"none",fontSize:"0.875rem"}}),l.jsx("button",{onClick:V,disabled:!S||!E.trim(),style:{background:S?"#25d366":"#ccc",color:"#fff",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:S?"pointer":"not-allowed"},children:l.jsx(Rc,{size:18})})]})]}),l.jsxs("div",{style:{background:"#fff",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",maxHeight:"200px",overflowY:"auto"},children:[l.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"12px"},children:"Variables"}),Object.entries(u).map(([O,D])=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",marginBottom:"6px",padding:"4px 8px",background:"#f9fafb",borderRadius:"4px"},children:[l.jsxs("span",{style:{color:"#6b7280"},children:[O,":"]}),l.jsx("span",{style:{fontWeight:500},children:JSON.stringify(D)})]},O)),Object.keys(u).length===0&&l.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:"No variables yet"})]}),l.jsxs("div",{ref:m,style:{flex:1,padding:"16px",overflowY:"auto",minHeight:0},children:[l.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"12px"},children:"Execution Log"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[i.map((O,D)=>l.jsxs("div",{style:{padding:"8px",background:O.result==="error"?"#fee2e2":O.result==="waiting"?"#fef3c7":"#d1fae5",borderRadius:"6px",fontSize:"0.75rem"},children:[l.jsx("div",{style:{fontWeight:600,marginBottom:"4px"},children:O.nodeName}),l.jsxs("div",{style:{color:"#6b7280",wordBreak:"break-word"},children:[O.action,": ",O.message]})]},D)),i.length===0&&l.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:"No logs yet. Click Start to begin."})]})]})]})]}),l.jsx("div",{style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px",justifyContent:"center",background:"#f9fafb",position:"relative",zIndex:10},children:v?l.jsxs("button",{onClick:M,style:{padding:"10px 24px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:[l.jsx(my,{size:16}),"Reset"]}):l.jsxs("button",{type:"button",onClick:Y,style:{padding:"10px 24px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[l.jsx(nc,{size:16}),"Start Flow Test"]})})]})})});return Ra.createPortal(B,document.body)}function _W({chatflowName:e,onBack:t,onSave:n,onTest:r,onUpdateName:s,onDelete:i,onToggleLock:a,isSaving:u=!1,hasUnsavedChanges:d=!1,lastSaved:f=null,validation:m,currentChatflow:h,isLocked:g=!1}){const[x,v]=k.useState(!1),[b,S]=k.useState(!1),[_,E]=k.useState(!1),[w,T]=k.useState(e),[P,C]=k.useState(!1),R=k.useRef(null),I=k.useRef(null);k.useEffect(()=>{const Y=V=>{R.current&&!R.current.contains(V.target)&&v(!1)};if(x)return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[x]),k.useEffect(()=>{_&&I.current&&(I.current.focus(),I.current.select())},[_]),k.useEffect(()=>{T(e)},[e]);const A=()=>{E(!0),T(e)},U=()=>{w.trim()&&w!==e&&(s==null||s(w.trim())),E(!1)},$=()=>{T(e),E(!1)},H=Y=>{Y.key==="Enter"?U():Y.key==="Escape"&&$()};return l.jsxs("div",{style:{height:"70px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(245, 158, 11, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 2rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},children:l.jsx(ci,{size:20,style:{color:"#f59e0b"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:500,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"2px"},children:"Chatflow Studio"}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:_?l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:I,type:"text",value:w,onChange:Y=>T(Y.target.value),onKeyDown:H,style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:600,color:"#1f2937",padding:"4px 8px",border:"2px solid #f59e0b",borderRadius:"6px",outline:"none",minWidth:"200px"}}),l.jsx("button",{onClick:U,style:{padding:"4px",background:"#10b981",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:l.jsx(Nc,{size:16,style:{color:"#fff"}})}),l.jsx("button",{onClick:$,style:{padding:"4px",background:"#ef4444",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:l.jsx(hn,{size:16,style:{color:"#fff"}})})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:600,color:"#1f2937",margin:0},children:e}),s&&l.jsx("button",{onClick:A,style:{padding:"4px",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.2)",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",transition:"all 0.2s ease"},title:"Edit chatflow name",children:l.jsx(py,{size:14,style:{color:"#f59e0b"}})})]})})]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"8px",marginLeft:"16px"},children:[u&&l.jsxs(l.Fragment,{children:[l.jsx(Ct,{size:14,style:{animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Saving..."})]}),!u&&d&&l.jsx("span",{children:"Unsaved changes"}),!u&&!d&&f&&l.jsxs("span",{children:["Saved ",jW(f,{addSuffix:!0})]})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",position:"relative"},children:[m&&!m.valid&&l.jsxs("div",{onClick:()=>v(!x),style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"#fee2e2",borderRadius:"8px",cursor:"pointer"},children:[l.jsx(w3,{size:16,style:{color:"#dc2626"}}),l.jsxs("span",{style:{fontSize:"0.875rem",color:"#dc2626",fontWeight:500},children:[m.errors.length," error(s)"]})]}),m&&m.valid&&m.warnings.length>0&&l.jsxs("div",{onClick:()=>v(!x),style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"#fef3c7",borderRadius:"8px",cursor:"pointer"},children:[l.jsx(cf,{size:16,style:{color:"#f59e0b"}}),l.jsxs("span",{style:{fontSize:"0.875rem",color:"#92400e",fontWeight:500},children:[m.warnings.length," warning(s)"]})]}),x&&m&&l.jsxs("div",{ref:R,onClick:Y=>Y.stopPropagation(),style:{position:"absolute",top:"50px",right:"0",background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",minWidth:"350px",maxWidth:"450px",maxHeight:"400px",overflow:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",zIndex:1e3},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[l.jsx("h3",{style:{fontSize:"1rem",fontWeight:600},children:"Validation Results"}),l.jsx("button",{onClick:()=>v(!1),style:{background:"none",border:"none",cursor:"pointer"},children:l.jsx(lo,{size:20,style:{color:"#6b7280"}})})]}),m.errors.map((Y,V)=>l.jsxs("div",{style:{display:"flex",gap:"8px",padding:"10px",background:"#fee2e2",borderRadius:"8px",marginBottom:"8px"},children:[l.jsx(lo,{size:16,style:{color:"#dc2626",flexShrink:0,marginTop:"2px"}}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#dc2626",flex:1},children:Y})]},`error-${V}`)),m.warnings.map((Y,V)=>l.jsxs("div",{style:{display:"flex",gap:"8px",padding:"10px",background:"#fef3c7",borderRadius:"8px",marginBottom:"8px"},children:[l.jsx(cf,{size:16,style:{color:"#f59e0b",flexShrink:0,marginTop:"2px"}}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#92400e",flex:1},children:Y})]},`warning-${V}`)),m.valid&&m.warnings.length===0&&l.jsxs("div",{style:{display:"flex",gap:"8px",padding:"10px",background:"#d1fae5",borderRadius:"8px"},children:[l.jsx(ao,{size:16,style:{color:"#10b981",flexShrink:0}}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#065f46"},children:"Flow is valid"})]})]}),l.jsxs(ae.button,{whileHover:{scale:u||!d?1:1.05},whileTap:{scale:u||!d?1:.95},onClick:n,disabled:u||!d,style:{padding:"10px 20px",borderRadius:"12px",background:d&&!u?"rgba(16, 185, 129, 0.1)":"rgba(156, 163, 175, 0.1)",border:d&&!u?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(156, 163, 175, 0.2)",display:"flex",alignItems:"center",gap:"8px",cursor:u||!d?"not-allowed":"pointer",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:d&&!u?"#10b981":"#9ca3af",transition:"all 0.2s ease",opacity:u||!d?.6:1},children:[u?l.jsx(Ct,{size:16,style:{animation:"spin 1s linear infinite"}}):l.jsx(f4,{size:16}),"Save"]}),l.jsxs(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!0),style:{padding:"10px 20px",borderRadius:"12px",background:"linear-gradient(135deg, #f59e0b 0%, #f97316 100%)",border:"none",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ffffff",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:[l.jsx(nc,{size:16}),"Test Flow"]}),l.jsx(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(100, 116, 139, 0.1)",border:"1px solid rgba(100, 116, 139, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},children:l.jsx(Pc,{size:18,style:{color:"#64748b"}})}),a&&l.jsx(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,title:g?"Unlock chatflow for editing":"Lock chatflow (set to active)",style:{width:"40px",height:"40px",borderRadius:"12px",background:g?"rgba(245, 158, 11, 0.1)":"rgba(100, 116, 139, 0.1)",border:g?"1px solid rgba(245, 158, 11, 0.3)":"1px solid rgba(100, 116, 139, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},children:g?l.jsx(gr,{size:18,style:{color:"#f59e0b"}}):l.jsx(Aj,{size:18,style:{color:"#64748b"}})}),i&&l.jsxs("div",{style:{position:"relative"},children:[l.jsx(ae.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),C(!0)},title:"Delete chatflow",style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},children:l.jsx(Ln,{size:18,style:{color:"#ef4444"}})}),P&&l.jsxs("div",{onClick:Y=>Y.stopPropagation(),style:{position:"absolute",top:"50px",right:"0",background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",minWidth:"280px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",zIndex:1e3},children:[l.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.95rem",fontWeight:600,color:"#1f2937"},children:"Delete Chatflow?"}),l.jsxs("p",{style:{margin:"0 0 16px 0",fontSize:"0.875rem",color:"#6b7280"},children:['This action cannot be undone. The chatflow "',e,'" will be permanently deleted.']}),l.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),C(!1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#fff",color:"#374151",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),C(!1),i()},style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"#ef4444",color:"#fff",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},children:"Delete"})]})]})]})]}),b&&h&&l.jsx(CW,{chatflow:h,onClose:()=>S(!1)})]})}const EW=[{type:"trigger",icon:$f,label:"Start",description:"Flow starting point",color:"#f59e0b"},{type:"send_template",icon:fy,label:"Send Template",description:"Send WhatsApp template",color:"#06b6d4"},{type:"wait_reply",icon:Ur,label:"Wait Reply",description:"Wait for user response",color:"#3b82f6"},{type:"condition",icon:dy,label:"Condition",description:"Branch based on logic",color:"#8b5cf6"},{type:"delay",icon:Dj,label:"Delay",description:"Wait for duration",color:"#10b981"},{type:"guest_form",icon:Pj,label:"Guest Form",description:"Collect guest information",color:"#10b981"},{type:"update_guest",icon:yy,label:"Update Guest",description:"Update guest data",color:"#ec4899"},{type:"end",icon:Ij,label:"End",description:"Flow ending point",color:"#64748b"}];function TW({onCollapse:e}){const t=(n,r)=>{n.dataTransfer.setData("application/reactflow",r),n.dataTransfer.effectAllowed="move"};return l.jsxs("div",{style:{width:"280px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(245, 158, 11, 0.1)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(0, 0, 0, 0.05)"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937",margin:0,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Node Palette"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280",margin:"4px 0 0 0"},children:"Drag nodes to canvas"})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1rem"},children:l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:EW.map(n=>{const r=n.icon;return l.jsx(ae.div,{draggable:!0,onDragStart:s=>t(s,n.type),whileHover:{scale:1.02,x:4},style:{padding:"12px",borderRadius:"12px",background:`linear-gradient(135deg, ${n.color}15 0%, ${n.color}08 100%)`,border:`1px solid ${n.color}30`,cursor:"grab",transition:"all 0.2s ease"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:`${n.color}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(r,{size:18,style:{color:n.color}})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937",marginBottom:"2px"},children:n.label}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#6b7280"},children:n.description})]})]})},n.type)})})})]})}function NW({node:e}){return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:"12px",border:"1px solid #bbf7d0"},children:[l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#166534",marginBottom:"8px"},children:"Start Node"}),l.jsxs("p",{style:{fontSize:"0.8125rem",color:"#15803d",lineHeight:"1.5"},children:["This is the ",l.jsx("strong",{children:"starting point"})," of your flow. Every flow must have exactly one Start node."]}),l.jsx("p",{style:{fontSize:"0.8125rem",color:"#15803d",lineHeight:"1.5",marginTop:"8px"},children:"The Start node doesn't trigger anything automatically - it simply marks where the flow begins when executed."})]}),l.jsx("div",{style:{padding:"12px",background:"#eff6ff",borderRadius:"8px",border:"1px solid #bfdbfe"},children:l.jsxs("p",{style:{fontSize:"0.75rem",color:"#1e40af",margin:0},children:[" ",l.jsx("strong",{children:"Tip:"})," Connect the Start node to your first action (usually Send Template)."]})})]})}function RW({node:e,onChange:t}){const{templates:n}=Ma(),r=e.data.config,s=n.filter(m=>m.status==="APPROVED"),i=s.find(m=>m.id===(r==null?void 0:r.templateId)),u=i?(m=>{if(!m)return[];const h=/\{\{(\w+)\}\}/g,g=m.matchAll(h),x=new Set;for(const v of g)x.add(v[1]);return Array.from(x)})(i.content.body.text):[],d=m=>{const h={...r||{templateId:"",templateName:""},...m};console.log(" SendTemplateConfig updating:",{nodeId:e.id,oldConfig:r,updates:m,newConfig:h}),t({...e,data:{...e.data,config:h}})},f=(m,h)=>{const g={...(r==null?void 0:r.variables)||{},[m]:h};d({variables:g})};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"WhatsApp Template"}),l.jsxs("select",{value:(r==null?void 0:r.templateId)||"",onChange:m=>{const h=s.find(g=>g.id===m.target.value);t({...e,data:{...e.data,label:(h==null?void 0:h.name)||"Send Template",config:{...r||{templateId:"",templateName:""},templateId:m.target.value,templateName:(h==null?void 0:h.name)||""}}})},style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"",children:"Select Template"}),s.map(m=>l.jsxs("option",{value:m.id,children:[m.name," (",m.category,")"]},m.id))]}),s.length===0&&l.jsx("p",{style:{fontSize:"0.75rem",color:"#dc2626",marginTop:"4px"},children:"No approved templates available. Create and approve a template first."})]}),i&&l.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"12px"},children:"Preview"}),l.jsx(by,{template:i,sampleData:Object.fromEntries(u.map(m=>{var h;return[m,((h=r==null?void 0:r.variables)==null?void 0:h[m])||`[${m}]`]}))})]}),u.length>0&&l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"12px"},children:"Variable Mapping"}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"12px"},children:"Map template variables to guest fields or flow variables"}),u.map(m=>{var g;const h=((g=r==null?void 0:r.variables)==null?void 0:g[m])||"";return l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("label",{style:{fontSize:"0.8125rem",fontWeight:500,color:"#6b7280",marginBottom:"6px",display:"block"},children:`{{${m}}}`}),l.jsxs("select",{value:h,onChange:x=>f(m,x.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"",children:"Select source"}),l.jsxs("optgroup",{label:"Guest Fields",children:[l.jsx("option",{value:"{{guest.name}}",children:"Guest Name"}),l.jsx("option",{value:"{{guest.phone}}",children:"Guest Phone"}),l.jsx("option",{value:"{{guest.email}}",children:"Guest Email"}),l.jsx("option",{value:"{{guest.table}}",children:"Table Number"}),l.jsx("option",{value:"{{guest.rsvpStatus}}",children:"RSVP Status"})]}),l.jsxs("optgroup",{label:"Event Fields",children:[l.jsx("option",{value:"{{event.name}}",children:"Event Name"}),l.jsx("option",{value:"{{event.date}}",children:"Event Date"}),l.jsx("option",{value:"{{event.venue}}",children:"Event Venue"})]})]})]},m)})]})]})}function PW({node:e,onChange:t}){const n=e.data.config,[r,s]=k.useState(""),i=h=>{const g={...n||{},...h};console.log(" WaitReplyConfig updating:",{nodeId:e.id,oldConfig:n,updates:h,newConfig:g}),t({...e,data:{...e.data,config:g}})},a=(n==null?void 0:n.expectedValues)||[],u=h=>{const g=h.trim();g&&!a.includes(g)&&i({expectedValues:[...a,g]}),s("")},d=h=>{i({expectedValues:a.filter(g=>g!==h)})},f=h=>{h.key==="Enter"||h.key===";"?(h.preventDefault(),u(r)):h.key==="Backspace"&&!r&&a.length>0&&d(a[a.length-1])},m=()=>{r.trim()&&u(r)};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Timeout (seconds)"}),l.jsx("input",{type:"number",value:(n==null?void 0:n.timeout)||300,onChange:h=>i({timeout:parseInt(h.target.value)||300}),min:0,placeholder:"300",style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem"}}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"How long to wait for a user reply (default: 300 seconds = 5 minutes)"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Timeout Action"}),l.jsxs("select",{value:(n==null?void 0:n.timeoutAction)||"continue",onChange:h=>i({timeoutAction:h.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"continue",children:"Continue to next node"}),l.jsx("option",{value:"end",children:"End flow"})]}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"What to do when timeout is reached"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Save Reply As Variable"}),l.jsx("input",{type:"text",value:(n==null?void 0:n.saveAs)||"",onChange:h=>i({saveAs:h.target.value}),placeholder:"e.g., userReply, rsvpResponse",style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem"}}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"Store the user's reply in a variable for later use"})]}),l.jsxs("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:"12px",border:"1px solid #bbf7d0"},children:[l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#166534",marginBottom:"12px"},children:"Input Validation (Optional)"}),l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Expected Values"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",padding:"8px 12px",borderRadius:"8px",border:"1px solid #d1d5db",background:"#fff",minHeight:"42px",alignItems:"center"},children:[a.map((h,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"6px",fontSize:"0.8125rem",fontWeight:500,color:"#166534"},children:[l.jsx("span",{children:h}),l.jsx("button",{type:"button",onClick:()=>d(h),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",padding:0,background:"rgba(22, 101, 52, 0.1)",border:"none",borderRadius:"50%",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:x=>x.currentTarget.style.background="rgba(22, 101, 52, 0.2)",onMouseLeave:x=>x.currentTarget.style.background="rgba(22, 101, 52, 0.1)",children:l.jsx(hn,{size:12,style:{color:"#166534"}})})]},g)),l.jsx("input",{type:"text",value:r,onChange:h=>s(h.target.value),onKeyDown:f,onBlur:m,placeholder:a.length===0?"Type and press Enter or ;":"Add more...",style:{flex:1,minWidth:"100px",padding:"4px",border:"none",outline:"none",fontSize:"0.875rem",background:"transparent"}})]}),l.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:["Type a value and press ",l.jsx("kbd",{style:{background:"#f3f4f6",padding:"1px 4px",borderRadius:"3px",border:"1px solid #d1d5db"},children:"Enter"})," or ",l.jsx("kbd",{style:{background:"#f3f4f6",padding:"1px 4px",borderRadius:"3px",border:"1px solid #d1d5db"},children:";"})," to add. Leave empty to accept any input."]})]}),l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Retry Message"}),l.jsx("textarea",{value:(n==null?void 0:n.retryMessage)||"",onChange:h=>i({retryMessage:h.target.value}),placeholder:"e.g., Maaf, mohon jawab dengan 'yes' atau 'no' saja.",rows:3,style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"0.875rem",fontFamily:"inherit",resize:"vertical"}}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"Message to send when user input is invalid"})]}),l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Max Retries"}),l.jsx("input",{type:"number",value:(n==null?void 0:n.maxRetries)||3,onChange:h=>i({maxRetries:parseInt(h.target.value)||3}),min:1,max:10,placeholder:"3",style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"0.875rem"}}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"Maximum number of retry attempts (default: 3)"})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:(n==null?void 0:n.caseSensitive)||!1,onChange:h=>i({caseSensitive:h.target.checked}),style:{width:"16px",height:"16px",cursor:"pointer"}}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:"Case sensitive validation"})]}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px",marginLeft:"24px"},children:'If checked, "YES" and "yes" will be treated as different'})]}),l.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"2px solid #bbf7d0"},children:[l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#166534",marginBottom:"12px"},children:"After Max Retries"}),l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Fallback Action"}),l.jsxs("select",{value:(n==null?void 0:n.fallbackAction)||"end",onChange:h=>i({fallbackAction:h.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"end",children:"End flow (stop execution)"}),l.jsx("option",{value:"continue",children:"Continue to next node"}),l.jsx("option",{value:"wait_again",children:"Wait for reply again (unlimited retries)"})]}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"What to do after max retry attempts reached"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Fallback Message"}),l.jsx("textarea",{value:(n==null?void 0:n.fallbackMessage)||"",onChange:h=>i({fallbackMessage:h.target.value}),placeholder:"e.g., Maaf kami tidak dapat memproses jawaban Anda. Silakan hubungi CS kami di +6281234567890",rows:3,style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"0.875rem",fontFamily:"inherit",resize:"vertical"}}),l.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:["Message to send before ",(n==null?void 0:n.fallbackAction)==="continue"?"continuing":"ending"," the flow"]})]})]})]})]})}function IW({node:e,onChange:t}){const n=e.data.config,r=s=>{const i={...n||{variable:"",operator:"equals",value:""},...s};console.log(" ConditionConfig updating:",{nodeId:e.id,oldConfig:n,updates:s,newConfig:i}),t({...e,data:{...e.data,config:i}})};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Variable to Check"}),l.jsx("input",{type:"text",value:(n==null?void 0:n.variable)||"",onChange:s=>r({variable:s.target.value}),placeholder:"e.g., userReply, rsvpStatus",style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem"}}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"Variable name from wait_reply or set_variable nodes"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Operator"}),l.jsxs("select",{value:(n==null?void 0:n.operator)||"equals",onChange:s=>r({operator:s.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"equals",children:"Equals"}),l.jsx("option",{value:"not_equals",children:"Not Equals"}),l.jsx("option",{value:"contains",children:"Contains"}),l.jsx("option",{value:"matches",children:"Matches (regex)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Value to Compare"}),l.jsx("input",{type:"text",value:(n==null?void 0:n.value)||"",onChange:s=>r({value:s.target.value}),placeholder:"e.g., yes, confirm, hadir",style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem"}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:(n==null?void 0:n.caseSensitive)||!1,onChange:s=>r({caseSensitive:s.target.checked}),style:{width:"16px",height:"16px",cursor:"pointer"}}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:"Case sensitive"})]}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px",marginLeft:"24px"},children:'If unchecked, "YES" and "yes" will be treated as the same'})]}),l.jsxs("div",{style:{padding:"12px",background:"#eff6ff",borderRadius:"8px",border:"1px solid #bfdbfe"},children:[l.jsxs("p",{style:{fontSize:"0.75rem",color:"#1e40af",fontWeight:500},children:[l.jsx("strong",{children:"Note:"})," Connect two edges from this node:"]}),l.jsxs("ul",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"4px",paddingLeft:"20px"},children:[l.jsx("li",{children:"True path: When condition matches"}),l.jsx("li",{children:"False path: When condition doesn't match"})]})]})]})}function AW({node:e,onChange:t}){const n=e.data.config,r=i=>{const a={...n||{duration:1,unit:"seconds"},...i};console.log(" DelayConfig updating:",{nodeId:e.id,oldConfig:n,updates:i,newConfig:a}),t({...e,data:{...e.data,config:a}})},s=()=>{const i=(n==null?void 0:n.duration)||1,a=(n==null?void 0:n.unit)||"seconds";return i===1?`1 ${a.slice(0,-1)}`:`${i} ${a}`};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Duration"}),l.jsx("input",{type:"number",value:(n==null?void 0:n.duration)||1,onChange:i=>r({duration:parseInt(i.target.value)||1}),min:1,style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Time Unit"}),l.jsxs("select",{value:(n==null?void 0:n.unit)||"seconds",onChange:i=>r({unit:i.target.value}),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"seconds",children:"Seconds"}),l.jsx("option",{value:"minutes",children:"Minutes"}),l.jsx("option",{value:"hours",children:"Hours"}),l.jsx("option",{value:"days",children:"Days"})]})]}),l.jsxs("div",{style:{padding:"12px",background:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[l.jsxs("p",{style:{fontSize:"0.875rem",color:"#166534",fontWeight:500},children:["Will wait for: ",l.jsx("strong",{children:s()})]}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#15803d",marginTop:"4px"},children:"The flow will pause before continuing to the next node"})]})]})}const MW=()=>({questions:[],enableConfirmation:!1,confirmationMessage:"",confirmYesKeywords:["ya","benar","ok","sudah"],confirmNoKeywords:["tidak","salah","ulang","bukan"],maxQuestionRetries:3,maxConfirmRetries:3,onMaxRetry:{sendCSMessage:!1,csMessage:"",action:"end",jumpToNodeId:void 0}}),FW=()=>({id:`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,question:"",type:"text",variableName:"",required:!0,promptMessage:"",errorMessage:"Jawaban tidak valid. Silakan coba lagi."});function DW({node:e,onChange:t,allNodes:n=[]}){var b,S,_,E,w,T,P,C,R;const r=e.data.config||MW(),[s,i]=k.useState(null),[a,u]=k.useState({questions:!0,confirmation:!1,retry:!1,maxRetry:!1}),d=I=>{const A={...r,...I};t({...e,data:{...e.data,config:A}})},f=()=>{const I=FW();d({questions:[...r.questions,I]}),i(I.id)},m=(I,A)=>{d({questions:r.questions.map(U=>U.id===I?{...U,...A}:U)})},h=I=>{d({questions:r.questions.filter(A=>A.id!==I)}),s===I&&i(null)},g=(I,A)=>{const U=[...r.questions],$=A==="up"?I-1:I+1;$<0||$>=U.length||([U[I],U[$]]=[U[$],U[I]],d({questions:U}))},x=I=>{u(A=>({...A,[I]:!A[I]}))},v=n.filter(I=>I.id!==e.id&&I.type!=="end");return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsx(Cd,{title:"Questions",count:r.questions.length,expanded:a.questions,onToggle:()=>x("questions")}),a.questions&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.questions.length===0?l.jsx("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",textAlign:"center",color:"#6b7280",fontSize:"0.875rem"},children:"No questions yet. Add your first question below."}):r.questions.map((I,A)=>l.jsx(OW,{question:I,index:A,isEditing:s===I.id,onEdit:()=>i(I.id),onSave:()=>i(null),onUpdate:U=>m(I.id,U),onDelete:()=>h(I.id),onMoveUp:()=>g(A,"up"),onMoveDown:()=>g(A,"down"),canMoveUp:A>0,canMoveDown:A<r.questions.length-1},I.id)),l.jsxs("button",{onClick:f,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"8px",border:"2px dashed #10b981",background:"rgba(16, 185, 129, 0.05)",color:"#10b981",fontWeight:600,fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s"},children:[l.jsx(Fn,{size:18}),"Add Question"]})]}),l.jsx(Cd,{title:"Confirmation",expanded:a.confirmation,onToggle:()=>x("confirmation"),badge:r.enableConfirmation?"ON":"OFF",badgeColor:r.enableConfirmation?"#10b981":"#6b7280"}),a.confirmation&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:r.enableConfirmation,onChange:I=>d({enableConfirmation:I.target.checked}),style:{width:"16px",height:"16px",accentColor:"#10b981"}}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:"Enable confirmation before submit"})]}),r.enableConfirmation&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Confirmation Message"}),l.jsx("textarea",{value:r.confirmationMessage||"",onChange:I=>d({confirmationMessage:I.target.value}),placeholder:"Data Anda:\\n- Nama: {{nama}}\\n- Jumlah: {{jumlah}} orang\\n\\nSudah benar? Balas 'Ya' atau 'Tidak'",style:{...un,minHeight:"100px",resize:"vertical"}}),l.jsxs("p",{style:Xd,children:["Use ","{{variableName}}"," to include collected values"]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Yes Keywords"}),l.jsx("input",{type:"text",value:((b=r.confirmYesKeywords)==null?void 0:b.join(", "))||"",onChange:I=>d({confirmYesKeywords:I.target.value.split(",").map(A=>A.trim()).filter(Boolean)}),placeholder:"ya, benar, ok",style:un})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"No Keywords"}),l.jsx("input",{type:"text",value:((S=r.confirmNoKeywords)==null?void 0:S.join(", "))||"",onChange:I=>d({confirmNoKeywords:I.target.value.split(",").map(A=>A.trim()).filter(Boolean)}),placeholder:"tidak, salah, ulang",style:un})]})]})]})]}),l.jsx(Cd,{title:"Retry Settings",expanded:a.retry,onToggle:()=>x("retry")}),a.retry&&l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Max Question Retries"}),l.jsx("input",{type:"number",min:1,max:10,value:r.maxQuestionRetries||3,onChange:I=>d({maxQuestionRetries:parseInt(I.target.value)||3}),style:un}),l.jsx("p",{style:Xd,children:"Per invalid answer"})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Max Confirm Retries"}),l.jsx("input",{type:"number",min:1,max:10,value:r.maxConfirmRetries||3,onChange:I=>d({maxConfirmRetries:parseInt(I.target.value)||3}),style:un}),l.jsx("p",{style:Xd,children:'When answering "No"'})]})]})}),l.jsx(Cd,{title:"After Max Retries",expanded:a.maxRetry,onToggle:()=>x("maxRetry")}),a.maxRetry&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:((_=r.onMaxRetry)==null?void 0:_.sendCSMessage)||!1,onChange:I=>d({onMaxRetry:{...r.onMaxRetry,sendCSMessage:I.target.checked}}),style:{width:"16px",height:"16px",accentColor:"#10b981"}}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:"Send CS contact message"})]}),((E=r.onMaxRetry)==null?void 0:E.sendCSMessage)&&l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"CS Message"}),l.jsx("input",{type:"text",value:((w=r.onMaxRetry)==null?void 0:w.csMessage)||"",onChange:I=>d({onMaxRetry:{...r.onMaxRetry,csMessage:I.target.value}}),placeholder:"Hubungi CS kami: +62812345678",style:un})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Then"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"radio",name:"maxRetryAction",checked:((T=r.onMaxRetry)==null?void 0:T.action)==="end",onChange:()=>d({onMaxRetry:{...r.onMaxRetry,action:"end",jumpToNodeId:void 0}}),style:{accentColor:"#10b981"}}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"End flow"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"radio",name:"maxRetryAction",checked:((P=r.onMaxRetry)==null?void 0:P.action)==="jump_to_node",onChange:()=>d({onMaxRetry:{...r.onMaxRetry,action:"jump_to_node"}}),style:{accentColor:"#10b981"}}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"Jump to node:"})]}),((C=r.onMaxRetry)==null?void 0:C.action)==="jump_to_node"&&l.jsxs("select",{value:((R=r.onMaxRetry)==null?void 0:R.jumpToNodeId)||"",onChange:I=>d({onMaxRetry:{...r.onMaxRetry,jumpToNodeId:I.target.value||void 0}}),style:{...un,marginLeft:"24px"},children:[l.jsx("option",{value:"",children:"Select target node..."}),v.map(I=>l.jsxs("option",{value:I.id,children:[I.data.label||I.type," (",I.type,")"]},I.id))]})]})]}),l.jsx("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"8px",border:"1px solid #fcd34d"},children:l.jsxs("p",{style:{fontSize:"0.75rem",color:"#92400e",margin:0},children:[l.jsx("strong",{children:"Note:"})," Max 3 global restarts per guest to prevent infinite loops."]})})]})]})}function Cd({title:e,count:t,expanded:n,onToggle:r,badge:s,badgeColor:i}){return l.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%)",cursor:"pointer",transition:"all 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:e}),t!==void 0&&l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",background:"#10b981",color:"white",fontSize:"0.7rem",fontWeight:600},children:t}),s&&l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",background:i||"#6b7280",color:"white",fontSize:"0.7rem",fontWeight:600},children:s})]}),n?l.jsx(cy,{size:18,color:"#6b7280"}):l.jsx(Pa,{size:18,color:"#6b7280"})]})}function OW({question:e,index:t,isEditing:n,onEdit:r,onSave:s,onUpdate:i,onDelete:a,onMoveUp:u,onMoveDown:d,canMoveUp:f,canMoveDown:m}){var h;return n?l.jsxs("div",{style:{padding:"16px",borderRadius:"12px",border:"2px solid #10b981",background:"rgba(16, 185, 129, 0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#10b981"},children:["Edit Question ",t+1]}),l.jsx("button",{onClick:s,style:Il,children:l.jsx(hn,{size:16})})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Question Text"}),l.jsx("input",{type:"text",value:e.question,onChange:g=>i({question:g.target.value}),placeholder:"Siapa nama lengkap Anda?",style:un})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Answer Type"}),l.jsxs("select",{value:e.type,onChange:g=>i({type:g.target.value}),style:un,children:[l.jsx("option",{value:"text",children:"Text (free input)"}),l.jsx("option",{value:"number",children:"Number"}),l.jsx("option",{value:"choice",children:"Choice (options)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Variable Name"}),l.jsx("input",{type:"text",value:e.variableName,onChange:g=>i({variableName:g.target.value.replace(/\s/g,"_")}),placeholder:"nama",style:un}),l.jsxs("p",{style:Xd,children:["Available as ","{{"+(e.variableName||"variableName")+"}}"]})]})]}),e.type==="number"&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Min Value"}),l.jsx("input",{type:"number",value:e.min||"",onChange:g=>i({min:g.target.value?parseInt(g.target.value):void 0}),placeholder:"1",style:un})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Max Value"}),l.jsx("input",{type:"number",value:e.max||"",onChange:g=>i({max:g.target.value?parseInt(g.target.value):void 0}),placeholder:"10",style:un})]})]}),e.type==="choice"&&l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Options (one per line)"}),l.jsx("textarea",{value:((h=e.options)==null?void 0:h.join(`
`))||"",onChange:g=>i({options:g.target.value.split(`
`).filter(Boolean)}),placeholder:"Halal\\nVegetarian\\nTidak ada",style:{...un,minHeight:"80px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Custom Prompt Message (optional)"}),l.jsx("input",{type:"text",value:e.promptMessage||"",onChange:g=>i({promptMessage:g.target.value}),placeholder:"Balas dengan nama lengkap Anda ya!",style:un})]}),l.jsxs("div",{children:[l.jsx("label",{style:cn,children:"Error Message"}),l.jsx("input",{type:"text",value:e.errorMessage||"",onChange:g=>i({errorMessage:g.target.value}),placeholder:"Jawaban tidak valid. Silakan coba lagi.",style:un})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:e.required,onChange:g=>i({required:g.target.checked}),style:{width:"16px",height:"16px",accentColor:"#10b981"}}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"Required"})]})]})]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#fff"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px",color:"#9ca3af"},children:[l.jsx("button",{onClick:u,disabled:!f,style:{...Il,opacity:f?1:.3},children:l.jsx(cy,{size:14})}),l.jsx("button",{onClick:d,disabled:!m,style:{...Il,opacity:m?1:.3},children:l.jsx(Pa,{size:14})})]}),l.jsx(L3,{size:16,color:"#9ca3af"}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:500,color:"#1f2937",marginBottom:"2px"},children:["Q",t+1,": ",e.question||"(no question text)"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[e.type," | ","{{",e.variableName||"?","}}"," | ",e.required?"Required":"Optional"]})]}),l.jsx("button",{onClick:r,style:Il,title:"Edit",children:l.jsx(py,{size:16,color:"#6b7280"})}),l.jsx("button",{onClick:a,style:Il,title:"Delete",children:l.jsx(Ln,{size:16,color:"#ef4444"})})]})}const cn={display:"block",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"6px"},un={width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",outline:"none",transition:"border-color 0.2s"},Xd={fontSize:"0.7rem",color:"#9ca3af",marginTop:"4px",margin:"4px 0 0 0"},Il={display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",borderRadius:"4px",border:"none",background:"transparent",cursor:"pointer",transition:"background 0.2s"},zW=[{value:"name",label:"Guest Name"},{value:"phone",label:"Phone Number"},{value:"email",label:"Email"},{value:"plus_one_count",label:"Plus One Count"},{value:"tags",label:"Tags (append)"},{value:"notes",label:"Notes"},{value:"rsvp_status",label:"RSVP Status"},{value:"table_number",label:"Table Number"},{value:"custom",label:"Custom Field..."}];function LW({node:e,onChange:t,allNodes:n=[]}){var f,m;const r=e.data.config,s=n.filter(h=>h.type==="guest_form").flatMap(h=>{var x;const g=h.data.config;return((x=g==null?void 0:g.questions)==null?void 0:x.map(v=>v.variableName).filter(Boolean))||[]}),i=h=>{const g={...r||{action:"update_rsvp"},...h};console.log("UpdateGuestConfig updating:",{nodeId:e.id,oldConfig:r,updates:h,newConfig:g}),t({...e,data:{...e.data,config:g}})},a=()=>{const h=(r==null?void 0:r.variableMappings)||[];i({variableMappings:[...h,{sourceVariable:"",targetField:"name"}]})},u=(h,g)=>{const v=[...(r==null?void 0:r.variableMappings)||[]];v[h]={...v[h],...g},i({variableMappings:v})},d=h=>{const g=(r==null?void 0:r.variableMappings)||[];i({variableMappings:g.filter((x,v)=>v!==h)})};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ls,children:"Action"}),l.jsxs("select",{value:(r==null?void 0:r.action)||"update_rsvp",onChange:h=>i({action:h.target.value}),style:_d,children:[l.jsx("option",{value:"map_from_variables",children:"Map from Variables (Guest Form)"}),l.jsx("option",{value:"add_tag",children:"Add Tag"}),l.jsx("option",{value:"remove_tag",children:"Remove Tag"}),l.jsx("option",{value:"update_rsvp",children:"Update RSVP Status"}),l.jsx("option",{value:"update_field",children:"Update Custom Field"})]})]}),(r==null?void 0:r.action)==="map_from_variables"&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[s.length>0&&l.jsx("div",{style:{padding:"12px",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:l.jsxs("p",{style:{fontSize:"0.75rem",color:"#065f46",margin:0},children:[l.jsx("strong",{children:"Available variables:"})," ",s.map(h=>`{{${h}}}`).join(", ")]})}),(((f=r==null?void 0:r.variableMappings)==null?void 0:f.length)||0)===0?l.jsx("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",textAlign:"center",color:"#6b7280",fontSize:"0.875rem"},children:"No mappings configured. Add mappings to save form data to guest record."}):(m=r==null?void 0:r.variableMappings)==null?void 0:m.map((h,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",background:"#fff",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{...ls,marginBottom:"4px",fontSize:"0.75rem"},children:"Variable"}),s.length>0?l.jsxs("select",{value:h.sourceVariable,onChange:x=>u(g,{sourceVariable:x.target.value}),style:_d,children:[l.jsx("option",{value:"",children:"Select variable..."}),s.map(x=>l.jsx("option",{value:x,children:`{{${x}}}`},x))]}):l.jsx("input",{type:"text",value:h.sourceVariable,onChange:x=>u(g,{sourceVariable:x.target.value}),placeholder:"variableName",style:Hi})]}),l.jsx("div",{style:{padding:"20px 8px 0",color:"#9ca3af",fontSize:"1.2rem"},children:""}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{...ls,marginBottom:"4px",fontSize:"0.75rem"},children:"Guest Field"}),l.jsx("select",{value:h.targetField,onChange:x=>u(g,{targetField:x.target.value}),style:_d,children:zW.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]}),h.targetField==="custom"&&l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{...ls,marginBottom:"4px",fontSize:"0.75rem"},children:"Field Name"}),l.jsx("input",{type:"text",value:h.customFieldName||"",onChange:x=>u(g,{customFieldName:x.target.value}),placeholder:"customField",style:Hi})]}),l.jsx("button",{onClick:()=>d(g),style:{...BW,marginTop:"20px"},title:"Delete mapping",children:l.jsx(Ln,{size:16,color:"#ef4444"})})]},g)),l.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"8px",border:"2px dashed #ec4899",background:"rgba(236, 72, 153, 0.05)",color:"#ec4899",fontWeight:600,fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s"},children:[l.jsx(Fn,{size:18}),"Add Mapping"]})]}),(r==null?void 0:r.action)==="add_tag"&&l.jsxs("div",{children:[l.jsx("label",{style:ls,children:"Tag Name"}),l.jsx("input",{type:"text",value:r.tagName||"",onChange:h=>i({tagName:h.target.value}),placeholder:"e.g., confirmed, vip, family",style:Hi})]}),(r==null?void 0:r.action)==="remove_tag"&&l.jsxs("div",{children:[l.jsx("label",{style:ls,children:"Tag Name"}),l.jsx("input",{type:"text",value:r.tagName||"",onChange:h=>i({tagName:h.target.value}),placeholder:"e.g., pending",style:Hi})]}),(r==null?void 0:r.action)==="update_rsvp"&&l.jsxs("div",{children:[l.jsx("label",{style:ls,children:"RSVP Status"}),l.jsxs("select",{value:r.rsvpStatus||"",onChange:h=>i({rsvpStatus:h.target.value}),style:_d,children:[l.jsx("option",{value:"",children:"Select status"}),l.jsx("option",{value:"confirmed",children:"Confirmed (Hadir)"}),l.jsx("option",{value:"declined",children:"Declined (Tidak Hadir)"}),l.jsx("option",{value:"maybe",children:"Maybe (Mungkin)"}),l.jsx("option",{value:"pending",children:"Pending"})]})]}),(r==null?void 0:r.action)==="update_field"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{style:ls,children:"Field Name"}),l.jsx("input",{type:"text",value:r.fieldName||"",onChange:h=>i({fieldName:h.target.value}),placeholder:"e.g., tableNumber, dietaryRestrictions",style:Hi})]}),l.jsxs("div",{children:[l.jsx("label",{style:ls,children:"Field Value"}),l.jsx("input",{type:"text",value:r.fieldValue||"",onChange:h=>i({fieldValue:h.target.value}),placeholder:"e.g., 5, vegetarian, {{userReply}}",style:Hi}),l.jsxs("p",{style:$W,children:["You can use variables like ",l.jsx("code",{children:"{{userReply}}"})]})]})]}),l.jsx("div",{style:{padding:"12px",background:"#fce7f3",borderRadius:"8px",border:"1px solid #fbcfe8"},children:l.jsxs("p",{style:{fontSize:"0.75rem",color:"#831843",fontWeight:500,margin:0},children:[l.jsx("strong",{children:"Note:"})," Changes will be applied to the guest record in the database"]})})]})}const ls={fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},Hi={width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff"},_d={width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},$W={fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},BW={display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer",transition:"background 0.2s"};function VW({node:e,onChange:t}){const n=e.data.config,r=s=>{console.log(" EndConfig updating:",{nodeId:e.id,oldConfig:n,newReason:s}),t({...e,data:{...e.data,config:{reason:s}}})};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"End Reason"}),l.jsxs("select",{value:(n==null?void 0:n.reason)||"completed",onChange:s=>r(s.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",background:"#fff",cursor:"pointer"},children:[l.jsx("option",{value:"completed",children:"Flow Completed"}),l.jsx("option",{value:"user_declined",children:"User Declined"}),l.jsx("option",{value:"timeout",children:"Timeout"}),l.jsx("option",{value:"error",children:"Error Occurred"}),l.jsx("option",{value:"custom",children:"Custom Reason"})]})]}),(n==null?void 0:n.reason)==="custom"&&l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"8px",display:"block"},children:"Custom Reason"}),l.jsx("textarea",{value:(n==null?void 0:n.customReason)||"",onChange:s=>t({...e,data:{...e.data,config:{reason:"custom",customReason:s.target.value}}}),placeholder:"Describe why the flow ended",rows:3,style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"0.875rem",resize:"vertical"}})]}),l.jsxs("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"8px",border:"1px solid #d1d5db"},children:[l.jsx("p",{style:{fontSize:"0.875rem",color:"#374151",fontWeight:500},children:"End Node"}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"This node marks the end of the conversation flow. No further nodes will be executed after this point."})]}),l.jsx("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"8px",border:"1px solid #bfdbfe"},children:l.jsxs("p",{style:{fontSize:"0.75rem",color:"#1e40af",fontWeight:500},children:[l.jsx("strong",{children:"Best Practice:"})," Always provide at least one end node in your flow to properly terminate the conversation."]})})]})}function WW({node:e,allNodes:t,isLocked:n=!1,onUpdate:r,onDelete:s,onClose:i}){const a=d=>{n||r({...e,data:{...e.data,label:d}})},u={trigger:"Trigger Node",send_template:"Send Template Node",wait_reply:"Wait Reply Node",condition:"Condition Node",delay:"Delay Node",guest_form:"Guest Form Node",update_guest:"Update Guest Node",end:"End Node"};return l.jsxs("div",{style:{width:"320px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderLeft:"1px solid rgba(245, 158, 11, 0.1)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(0, 0, 0, 0.05)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1f2937",margin:0,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Properties"}),n&&l.jsxs("div",{title:"Chatflow is locked (active)",style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"6px"},children:[l.jsx(gr,{size:12,style:{color:"#f59e0b"}}),l.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,color:"#f59e0b"},children:"Locked"})]})]}),l.jsx("button",{onClick:i,style:{width:"28px",height:"28px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.05)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(hn,{size:16,style:{color:"#6b7280"}})})]}),n&&l.jsxs("div",{style:{padding:"12px 1.5rem",background:"rgba(245, 158, 11, 0.1)",borderBottom:"1px solid rgba(245, 158, 11, 0.2)",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(gr,{size:14,style:{color:"#f59e0b"}}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#92400e"},children:"This chatflow is active. Unlock to edit."})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"8px"},children:"Node Type"}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",padding:"10px 12px",background:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:"1px solid rgba(245, 158, 11, 0.2)"},children:u[e.type]||e.type})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"8px"},children:"Label"}),l.jsx("input",{type:"text",value:e.data.label,onChange:d=>a(d.target.value),disabled:n,style:{width:"100%",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:n?"#9ca3af":"#1f2937",padding:"10px 12px",background:n?"rgba(0, 0, 0, 0.03)":"rgba(255, 255, 255, 0.9)",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.1)",outline:"none",cursor:n?"not-allowed":"text"}})]}),l.jsxs("div",{style:{marginBottom:"1.5rem",opacity:n?.6:1,pointerEvents:n?"none":"auto"},children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"12px"},children:"Configuration"}),e.type==="trigger"&&l.jsx(NW,{node:e,onChange:r}),e.type==="send_template"&&l.jsx(RW,{node:e,onChange:r}),e.type==="wait_reply"&&l.jsx(PW,{node:e,onChange:r}),e.type==="condition"&&l.jsx(IW,{node:e,onChange:r}),e.type==="delay"&&l.jsx(AW,{node:e,onChange:r}),e.type==="guest_form"&&l.jsx(DW,{node:e,onChange:r,allNodes:t}),e.type==="update_guest"&&l.jsx(LW,{node:e,onChange:r,allNodes:t}),e.type==="end"&&l.jsx(VW,{node:e,onChange:r})]})]}),!n&&l.jsx("div",{style:{padding:"1.5rem",borderTop:"1px solid rgba(0, 0, 0, 0.05)"},children:l.jsxs(ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,style:{width:"100%",padding:"12px",borderRadius:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ef4444",transition:"all 0.2s ease"},children:[l.jsx(Ln,{size:16}),"Delete Node"]})})]})}function UW({chatflow:e,onClick:t,onDelete:n}){const[r,s]=k.useState(!1),[i,a]=k.useState(!1),u={draft:{bg:"rgba(100, 116, 139, 0.1)",text:"#64748b"},active:{bg:"rgba(16, 185, 129, 0.1)",text:"#10b981"},paused:{bg:"rgba(245, 158, 11, 0.1)",text:"#f59e0b"},archived:{bg:"rgba(239, 68, 68, 0.1)",text:"#ef4444"}},d=u[e.status]||u.draft;return l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:t,style:{position:"relative",padding:"1.5rem",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(245, 158, 11, 0.2)",borderRadius:"24px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:r?"0 20px 60px rgba(245, 158, 11, 0.2)":"0 8px 32px rgba(0, 0, 0, 0.08)",transform:r?"scale(1.02)":"scale(1)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between",marginBottom:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"16px",background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.05) 100%)",border:"1px solid rgba(245, 158, 11, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($f,{size:24,style:{color:"#f59e0b"}})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.status==="active"&&l.jsx("div",{title:"Locked - Active chatflow",style:{width:"28px",height:"28px",borderRadius:"8px",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(gr,{size:14,style:{color:"#f59e0b"}})}),n&&l.jsxs("div",{style:{position:"relative"},children:[l.jsx("button",{type:"button",onClick:f=>{f.preventDefault(),f.stopPropagation(),a(!0)},title:"Delete chatflow",style:{width:"28px",height:"28px",borderRadius:"8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},children:l.jsx(Ln,{size:14,style:{color:"#ef4444"}})}),i&&l.jsxs("div",{onClick:f=>f.stopPropagation(),style:{position:"absolute",top:"36px",right:"0",background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",minWidth:"260px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",zIndex:1e3},children:[l.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",fontWeight:600,color:"#1f2937"},children:['Delete "',e.name,'"?']}),l.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.8rem",color:"#6b7280"},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:f=>{f.preventDefault(),f.stopPropagation(),a(!1)},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"#fff",color:"#374151",fontSize:"0.8rem",fontWeight:500,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{type:"button",onClick:f=>{f.preventDefault(),f.stopPropagation(),a(!1),n(e.id)},style:{padding:"6px 12px",borderRadius:"6px",border:"none",background:"#ef4444",color:"#fff",fontSize:"0.8rem",fontWeight:500,cursor:"pointer"},children:"Delete"})]})]})]}),l.jsx("div",{style:{padding:"4px 12px",background:d.bg,border:`1px solid ${d.text}30`,borderRadius:"8px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:d.text,textTransform:"capitalize"},children:e.status})]})]}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,color:"#1f2937",marginBottom:"0.5rem"},children:e.name}),e.description&&l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem",lineHeight:"1.5"},children:e.description}),l.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"1rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#9ca3af",marginBottom:"2px"},children:"Nodes"}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:e.nodes.length})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#9ca3af",marginBottom:"2px"},children:"Variables"}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:e.variables.length})]})]}),l.jsxs("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#9ca3af"},children:["Updated ",new Date(e.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})}function HW(){const e=Ot(),{chatflows:t,createChatflow:n,deleteChatflow:r,loading:s}=Sy(),{selectedProject:i}=kr(),[a,u]=k.useState(""),[d,f]=k.useState(!1),m=async()=>{if(!i){ve.error("Please select a project first");return}f(!0);try{const x=await n({name:`Untitled Flow ${t.length+1}`,description:"New chatflow",projectId:i.id});ve.success("Chatflow created successfully"),e(`/kabar-in/chatflow/${x.id}`)}catch{ve.error("Failed to create chatflow")}finally{f(!1)}},h=async x=>{try{await r(x),ve.success("Chatflow deleted successfully")}catch{ve.error("Failed to delete chatflow")}},g=t.filter(x=>x.name.toLowerCase().includes(a.toLowerCase()));return l.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, rgba(245, 158, 11, 0.03) 0%, rgba(139, 92, 246, 0.03) 100%)",padding:"2rem"},children:l.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2rem",fontWeight:700,color:"#1f2937",marginBottom:"0.5rem"},children:"Chatflow Studio"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#6b7280"},children:"Design automated conversation flows with visual drag-and-drop builder"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{flex:1,position:"relative"},children:[l.jsx(ti,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",placeholder:"Search chatflows...",value:a,onChange:x=>u(x.target.value),style:{width:"100%",padding:"12px 16px 12px 48px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#1f2937",background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",outline:"none"}})]}),l.jsxs(ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,disabled:d,style:{padding:"12px 24px",background:"linear-gradient(135deg, #f59e0b 0%, #f97316 100%)",border:"none",borderRadius:"12px",display:"flex",alignItems:"center",gap:"8px",cursor:d?"not-allowed":"pointer",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ffffff",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",opacity:d?.6:1},children:[l.jsx(Fn,{size:18}),"Create Chatflow"]})]}),s?l.jsx("div",{style:{textAlign:"center",padding:"4rem 0"},children:l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#6b7280"},children:"Loading chatflows..."})}):g.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"rgba(255, 255, 255, 0.5)",borderRadius:"24px",border:"2px dashed rgba(245, 158, 11, 0.2)"},children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,color:"#1f2937",marginBottom:"0.5rem"},children:a?"No chatflows found":"No chatflows yet"}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280"},children:a?"Try a different search term":"Create your first chatflow to get started"})]}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:g.map(x=>l.jsx(UW,{chatflow:x,onClick:()=>e(`/kabar-in/chatflow/${x.id}`),onDelete:h},x.id))})]})})}function GW(e,t){const n=[],r=[];if(e.length===0)return n.push("Flow must have at least one node"),{valid:!1,errors:n,warnings:r};const s=e.filter(h=>h.type==="trigger");s.length===0?n.push("Flow must have a trigger node"):s.length>1&&n.push("Flow can only have one trigger node");const i=e.filter(h=>h.type==="end");i.length===0&&n.push("Flow must have at least one end node");const a=new Set;t.forEach(h=>{a.add(h.source),a.add(h.target)});const u=e.filter(h=>!a.has(h.id)&&h.type!=="trigger"&&e.length>1);return u.length>0&&n.push(`${u.length} disconnected node(s): ${u.map(h=>h.data.label).join(", ")}`),s.length===1&&e.length>1&&(t.some(g=>g.source===s[0].id)||n.push("Trigger node must connect to another node")),i.forEach(h=>{!t.some(x=>x.target===h.id)&&e.length>1&&n.push(`End node "${h.data.label}" is not connected`)}),e.filter(h=>h.type==="condition").forEach(h=>{const g=t.filter(x=>x.source===h.id);g.length===0?n.push(`Condition "${h.data.label}" has no outputs`):g.length===1?r.push(`Condition "${h.data.label}" should have 2 outputs (true/false paths)`):g.length>2&&n.push(`Condition "${h.data.label}" has too many outputs (max 2)`)}),e.filter(h=>h.type==="send_template").forEach(h=>{var g;(g=h.data.config)!=null&&g.templateId||n.push(`Send Template "${h.data.label}" has no template selected`)}),qW(e,t)&&n.push("Flow contains circular dependency (infinite loop)"),e.forEach(h=>{var g,x;if(h.type==="trigger"){const v=h.data.config;(v==null?void 0:v.type)==="keyword"&&!v.keyword&&n.push(`Trigger "${h.data.label}" needs a keyword`)}if(h.type==="wait_reply"){const v=h.data.config;v!=null&&v.timeout&&v.timeout<0&&n.push(`Wait Reply "${h.data.label}" has invalid timeout value`)}if(h.type==="condition"){const v=h.data.config;v!=null&&v.variable||n.push(`Condition "${h.data.label}" needs a variable to check`),v!=null&&v.value||n.push(`Condition "${h.data.label}" needs a value to compare`)}if(h.type==="delay"){const v=h.data.config;(!(v!=null&&v.duration)||v.duration<=0)&&n.push(`Delay "${h.data.label}" needs a valid duration`)}if(h.type==="guest_form"){const v=h.data.config;!(v!=null&&v.questions)||v.questions.length===0?n.push(`Guest Form "${h.data.label}" needs at least one question`):v.questions.forEach((b,S)=>{b.variableName||n.push(`Guest Form "${h.data.label}" question ${S+1} needs a variable name`),b.question||n.push(`Guest Form "${h.data.label}" question ${S+1} needs question text`),b.type==="choice"&&(!b.options||b.options.length===0)&&n.push(`Guest Form "${h.data.label}" question ${S+1} (choice type) needs options`)}),v!=null&&v.enableConfirmation&&(v.confirmationMessage||r.push(`Guest Form "${h.data.label}" has confirmation enabled but no message`),(!v.confirmYesKeywords||v.confirmYesKeywords.length===0)&&r.push(`Guest Form "${h.data.label}" has no "Yes" keywords configured`),(!v.confirmNoKeywords||v.confirmNoKeywords.length===0)&&r.push(`Guest Form "${h.data.label}" has no "No" keywords configured`)),((g=v==null?void 0:v.onMaxRetry)==null?void 0:g.action)==="jump_to_node"&&!v.onMaxRetry.jumpToNodeId&&n.push(`Guest Form "${h.data.label}" has jump action but no target node selected`),(x=v==null?void 0:v.onMaxRetry)!=null&&x.jumpToNodeId&&(e.some(S=>S.id===v.onMaxRetry.jumpToNodeId)||n.push(`Guest Form "${h.data.label}" references a non-existent jump target node`))}if(h.type==="update_guest"){const v=h.data.config;(v==null?void 0:v.action)==="add_tag"&&!v.tagName&&n.push(`Update Guest "${h.data.label}" needs a tag name`),(v==null?void 0:v.action)==="remove_tag"&&!v.tagName&&n.push(`Update Guest "${h.data.label}" needs a tag name`),(v==null?void 0:v.action)==="update_rsvp"&&!v.rsvpStatus&&n.push(`Update Guest "${h.data.label}" needs an RSVP status`),(v==null?void 0:v.action)==="update_field"&&!v.fieldName&&n.push(`Update Guest "${h.data.label}" needs a field name`),(v==null?void 0:v.action)==="map_from_variables"&&(!v.variableMappings||v.variableMappings.length===0?n.push(`Update Guest "${h.data.label}" needs at least one variable mapping`):v.variableMappings.forEach((b,S)=>{b.sourceVariable||n.push(`Update Guest "${h.data.label}" mapping ${S+1} needs a source variable`),b.targetField||n.push(`Update Guest "${h.data.label}" mapping ${S+1} needs a target field`)}))}}),{valid:n.length===0,errors:n,warnings:r}}function qW(e,t){const n=new Set,r=new Set;function s(a){n.add(a),r.add(a);const u=t.filter(d=>d.source===a);for(const d of u)if(n.has(d.target)){if(r.has(d.target))return!0}else if(s(d.target))return!0;return r.delete(a),!1}const i=e.find(a=>a.type==="trigger");return i?s(i.id):!1}function U2(){const{id:e}=mj(),t=Ot(),{chatflows:n,getChatflowById:r,updateChatflow:s,deleteChatflow:i}=Sy(),[a,u]=k.useState(!1),[d,f]=k.useState(null),[m,h]=k.useState([]),[g,x]=k.useState([]),[v,b]=k.useState(!1),[S,_]=k.useState(null),[E,w]=k.useState(!1),[T,P]=k.useState(!0),[C,R]=k.useState({valid:!0,errors:[],warnings:[]});k.useRef(null);const I=k.useRef(!0),A=W=>{const M=new Set;return W.forEach(B=>{var O;B.type==="set_variable"&&((O=B.data.config)!=null&&O.variableName)&&M.add(B.data.config.variableName)}),Array.from(M)},U=k.useCallback(async()=>{if(!e){console.error(" No chatflow ID");return}console.log(" ========== SAVE CHATFLOW START =========="),console.log(" Nodes count:",m.length),console.log(" Edges count:",g.length),m.forEach((W,M)=>{console.log(`Node ${M+1}:`,{id:W.id,type:W.type,label:W.data.label,hasConfig:!!W.data.config,config:W.data.config})});try{b(!0);const W=A(m);console.log(" Extracted variables:",W);const M={nodes:m,edges:g,variables:W};console.log(" Sending payload to backend:",JSON.stringify(M,null,2));const B=await s(e,M);console.log(" Backend response:",B),w(!1),_(new Date),console.log(" Chatflow saved successfully"),console.log(" ========== SAVE CHATFLOW END ==========")}catch(W){console.error(" Save error:",W),alert("Failed to save chatflow")}finally{b(!1)}},[e,m,g,s]),$=k.useCallback(async W=>{if(!e){console.error("No chatflow ID");return}try{await s(e,{name:W}),console.log("Chatflow name updated successfully")}catch(M){console.error("Update name error:",M),alert("Failed to update chatflow name")}},[e,s]),H=k.useCallback(async()=>{if(!e){console.error("No chatflow ID");return}try{await i(e),console.log("Chatflow deleted successfully"),t("/kabar-in/chatflow")}catch(W){console.error("Delete error:",W),alert("Failed to delete chatflow")}},[e,i,t]),Y=k.useCallback(async()=>{var B;if(!e){console.error("No chatflow ID");return}const M=((B=n.find(O=>O.id===e))==null?void 0:B.status)==="active"?"draft":"active";try{await s(e,{status:M}),console.log(`Chatflow status changed to ${M}`)}catch(O){console.error("Toggle lock error:",O),alert("Failed to change chatflow status")}},[e,n,s]);if(k.useEffect(()=>{I.current||(m.length>0||g.length>0)&&w(!0)},[m,g]),k.useEffect(()=>{const W=GW(m,g);R(W)},[m,g]),k.useEffect(()=>{(async()=>{var M;if(!e){P(!1),I.current=!1;return}try{P(!0),I.current=!0;const B=await r(e);console.log(" ========== LOAD CHATFLOW =========="),console.log(" Loaded chatflow:",B),console.log(" Nodes from backend:",B==null?void 0:B.nodes),console.log(" Nodes count:",(M=B==null?void 0:B.nodes)==null?void 0:M.length),B!=null&&B.nodes&&B.nodes.forEach((O,D)=>{var L,K,Z;console.log(`Loaded Node ${D+1}:`,{id:O.id,type:O.type,label:(L=O.data)==null?void 0:L.label,hasConfig:!!((K=O.data)!=null&&K.config),config:(Z=O.data)==null?void 0:Z.config})}),B&&(console.log(" Setting nodes state with:",B.nodes),h(B.nodes||[]),x(B.edges||[]),w(!1),_(new Date(B.updatedAt)),console.log(" Nodes state set successfully")),console.log(" ========== LOAD CHATFLOW END ==========")}catch(B){console.error("Load error:",B),alert("Failed to load chatflow")}finally{P(!1),setTimeout(()=>{I.current=!1},100)}})()},[e]),!e)return l.jsx(HW,{});if(T)return l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"linear-gradient(135deg, rgba(245, 158, 11, 0.03) 0%, rgba(139, 92, 246, 0.03) 100%)"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid rgba(245, 158, 11, 0.2)",borderTopColor:"#f59e0b",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b7280"},children:"Loading chatflow..."})]})});const X=n.find(W=>W.id===e),z=(X==null?void 0:X.status)==="active";return l.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"linear-gradient(135deg, rgba(245, 158, 11, 0.03) 0%, rgba(139, 92, 246, 0.03) 100%)"},children:[l.jsx(_W,{chatflowId:e,chatflowName:(X==null?void 0:X.name)||"Untitled Flow",onBack:()=>t("/kabar-in/chatflow"),onSave:U,onUpdateName:$,onDelete:H,onToggleLock:Y,isSaving:v,hasUnsavedChanges:E,lastSaved:S,validation:C,isLocked:z,currentChatflow:X?{...X,nodes:m,edges:g}:void 0}),l.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[!a&&!z&&l.jsx(TW,{onCollapse:()=>u(!0)}),l.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:l.jsx(PV,{nodes:m,edges:g,onNodesChange:z?()=>{}:h,onEdgesChange:z?()=>{}:x,onNodeSelect:f,isLocked:z})}),d&&l.jsx(WW,{node:d,allNodes:m,isLocked:z,onUpdate:W=>{z||(console.log(" ChatflowStudio.onUpdate called:",{nodeId:W.id,nodeType:W.type,config:W.data.config,fullNode:W}),h(M=>{const B=M.map(O=>O.id===W.id?W:O);return console.log(" Nodes state updated. Total nodes:",B.length),console.log(" Updated node in array:",B.find(O=>O.id===W.id)),B}),f(W))},onDelete:()=>{h(W=>W.filter(M=>M.id!==d.id)),f(null)},onClose:()=>f(null)})]})]})}async function Al(e){const t=await e.text();try{return JSON.parse(t)}catch{throw console.error("Failed to parse JSON:",t),new Error("Invalid JSON response from server")}}const qC=k.createContext(void 0);function KW({children:e}){const{user:t,accessToken:n}=Qt(),[r,s]=k.useState([]),[i,a]=k.useState(!1),[u,d]=k.useState(null),f=`https://${Yn}.supabase.co/functions/v1/make-server-deeab278`,m=async C=>{if(!t||!n){s([]);return}try{a(!0),d(null);const R=new URLSearchParams;R.append("projectId",C);const I=await fetch(`${f}/campaigns?${R.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}}),A=await Al(I);if(!I.ok)throw new Error(A.error||"Failed to fetch campaigns");s(A.campaigns||[])}catch(R){console.error("Error fetching campaigns:",R),d(R.message||"Failed to fetch campaigns"),s([])}finally{a(!1)}},h=async C=>{if(!t||!n)return null;try{const R=await fetch(`${f}/campaigns/${C}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}}),I=await Al(R);if(!R.ok)throw new Error(I.error||"Failed to fetch campaign");return I.campaign}catch(R){return console.error("Error fetching campaign:",R),d(R.message||"Failed to fetch campaign"),null}},P={campaigns:r,loading:i,error:u,fetchCampaigns:m,getCampaignById:h,createCampaign:async(C,R)=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const I=await fetch(`${f}/campaigns`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({...C,projectId:R})}),A=await Al(I);if(!I.ok)throw new Error(A.error||"Failed to create campaign");const U=A.campaign;return s($=>[U,...$]),U}catch(I){throw console.error("Error creating campaign:",I),d(I.message||"Failed to create campaign"),I}},updateCampaign:async(C,R)=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const I=await fetch(`${f}/campaigns/${C}`,{method:"PUT",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify(R)}),A=await Al(I);if(!I.ok)throw new Error(A.error||"Failed to update campaign");const U=A.campaign;return s($=>$.map(H=>H.id===C?U:H)),U}catch(I){throw console.error("Error updating campaign:",I),d(I.message||"Failed to update campaign"),I}},deleteCampaign:async C=>{if(!t||!n||t.role!=="admin")throw new Error("Only admins can delete campaigns");try{d(null);const R=await fetch(`${f}/campaigns/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to delete campaign")}s(I=>I.filter(A=>A.id!==C))}catch(R){throw console.error("Error deleting campaign:",R),d(R.message||"Failed to delete campaign"),R}},startCampaign:async C=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const R=await fetch(`${f}/campaigns/${C}/start`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!R.ok){const A=await R.json();throw new Error(A.error||"Failed to start campaign")}const I=await h(C);I&&s(A=>A.map(U=>U.id===C?I:U))}catch(R){throw console.error("Error starting campaign:",R),d(R.message||"Failed to start campaign"),R}},pauseCampaign:async C=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const R=await fetch(`${f}/campaigns/${C}/pause`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!R.ok){const A=await R.json();throw new Error(A.error||"Failed to pause campaign")}const I=await h(C);I&&s(A=>A.map(U=>U.id===C?I:U))}catch(R){throw console.error("Error pausing campaign:",R),d(R.message||"Failed to pause campaign"),R}},resumeCampaign:async C=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const R=await fetch(`${f}/campaigns/${C}/resume`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!R.ok){const A=await R.json();throw new Error(A.error||"Failed to resume campaign")}const I=await h(C);I&&s(A=>A.map(U=>U.id===C?I:U))}catch(R){throw console.error("Error resuming campaign:",R),d(R.message||"Failed to resume campaign"),R}},cancelCampaign:async C=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const R=await fetch(`${f}/campaigns/${C}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!R.ok){const A=await R.json();throw new Error(A.error||"Failed to cancel campaign")}const I=await h(C);I&&s(A=>A.map(U=>U.id===C?I:U))}catch(R){throw console.error("Error cancelling campaign:",R),d(R.message||"Failed to cancel campaign"),R}},previewGuestFilter:async(C,R)=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const I=await fetch(`${f}/campaigns/preview-guests`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({projectId:C,guestFilter:R})}),A=await Al(I);if(!I.ok)throw new Error(A.error||"Failed to preview guests");return A.guests||[]}catch(I){return console.error("Error previewing guests:",I),d(I.message||"Failed to preview guests"),[]}},getCampaignStats:async C=>{const R=await h(C);return(R==null?void 0:R.stats)||null}};return l.jsx(qC.Provider,{value:P,children:e})}function By(){const e=k.useContext(qC);if(e===void 0)throw new Error("useCampaigns must be used within a CampaignProvider");return e}function H2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function KC(...e){return t=>{let n=!1;const r=e.map(s=>{const i=H2(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():H2(e[s],null)}}}}function it(...e){return k.useCallback(KC(...e),e)}var xs=k.forwardRef((e,t)=>{const{children:n,...r}=e,s=k.Children.toArray(n),i=s.find(YW);if(i){const a=i.props.children,u=s.map(d=>d===i?k.Children.count(a)>1?k.Children.only(null):k.isValidElement(a)?a.props.children:null:d);return l.jsx(a0,{...r,ref:t,children:k.isValidElement(a)?k.cloneElement(a,void 0,u):null})}return l.jsx(a0,{...r,ref:t,children:n})});xs.displayName="Slot";var a0=k.forwardRef((e,t)=>{const{children:n,...r}=e;if(k.isValidElement(n)){const s=QW(n),i=JW(r,n.props);return n.type!==k.Fragment&&(i.ref=t?KC(t,s):s),k.cloneElement(n,i)}return k.Children.count(n)>1?k.Children.only(null):null});a0.displayName="SlotClone";var XW=({children:e})=>l.jsx(l.Fragment,{children:e});function YW(e){return k.isValidElement(e)&&e.type===XW}function JW(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{i(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function QW(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function XC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=XC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function YC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=XC(e))&&(r&&(r+=" "),r+=t);return r}const G2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q2=YC,JC=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return q2(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(f=>{const m=n==null?void 0:n[f],h=i==null?void 0:i[f];if(m===null)return null;const g=G2(m)||G2(h);return s[f][g]}),u=n&&Object.entries(n).reduce((f,m)=>{let[h,g]=m;return g===void 0||(f[h]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:h,className:g,...x}=m;return Object.entries(x).every(v=>{let[b,S]=v;return Array.isArray(S)?S.includes({...i,...u}[b]):{...i,...u}[b]===S})?[...f,h,g]:f},[]);return q2(e,a,d,n==null?void 0:n.class,n==null?void 0:n.className)},Vy="-",ZW=e=>{const t=tU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const u=a.split(Vy);return u[0]===""&&u.length!==1&&u.shift(),QC(u,t)||eU(a)},getConflictingClassGroupIds:(a,u)=>{const d=n[a]||[];return u&&r[a]?[...d,...r[a]]:d}}},QC=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?QC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Vy);return(a=t.validators.find(({validator:u})=>u(i)))==null?void 0:a.classGroupId},K2=/^\[(.+)\]$/,eU=e=>{if(K2.test(e)){const t=K2.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},tU=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)l0(n[s],r,s,t);return r},l0=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:X2(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(nU(s)){l0(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{l0(a,X2(t,i),n,r)})})},X2=(e,t)=>{let n=e;return t.split(Vy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nU=e=>e.isThemeGetter,rU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},c0="!",u0=":",sU=u0.length,oU=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let a=0,u=0,d=0,f;for(let v=0;v<s.length;v++){let b=s[v];if(a===0&&u===0){if(b===u0){i.push(s.slice(d,v)),d=v+sU;continue}if(b==="/"){f=v;continue}}b==="["?a++:b==="]"?a--:b==="("?u++:b===")"&&u--}const m=i.length===0?s:s.substring(d),h=iU(m),g=h!==m,x=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:x}};if(t){const s=t+u0,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},iU=e=>e.endsWith(c0)?e.substring(0,e.length-1):e.startsWith(c0)?e.substring(1):e,aU=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||t[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},lU=e=>({cache:rU(e.cacheSize),parseClassName:oU(e),sortModifiers:aU(e),...ZW(e)}),cU=/\s+/,uU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,a=[],u=e.trim().split(cU);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:h,modifiers:g,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:b}=n(m);if(h){d=m+(d.length>0?" "+d:d);continue}let S=!!b,_=r(S?v.substring(0,b):v);if(!_){if(!S){d=m+(d.length>0?" "+d:d);continue}if(_=r(v),!_){d=m+(d.length>0?" "+d:d);continue}S=!1}const E=i(g).join(":"),w=x?E+c0:E,T=w+_;if(a.includes(T))continue;a.push(T);const P=s(_,S);for(let C=0;C<P.length;++C){const R=P[C];a.push(w+R)}d=m+(d.length>0?" "+d:d)}return d};function dU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ZC(t))&&(r&&(r+=" "),r+=n);return r}const ZC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ZC(e[r]))&&(n&&(n+=" "),n+=t);return n};function fU(e,...t){let n,r,s,i=a;function a(d){const f=t.reduce((m,h)=>h(m),e());return n=lU(f),r=n.cache.get,s=n.cache.set,i=u,u(d)}function u(d){const f=r(d);if(f)return f;const m=uU(d,n);return s(d,m),m}return function(){return i(dU.apply(null,arguments))}}const At=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},e_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hU=/^\d+\/\d+$/,pU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gi=e=>hU.test(e),Le=e=>!!e&&!Number.isNaN(Number(e)),Ks=e=>!!e&&Number.isInteger(Number(e)),Jm=e=>e.endsWith("%")&&Le(e.slice(0,-1)),cs=e=>pU.test(e),vU=()=>!0,bU=e=>mU.test(e)&&!gU.test(e),n_=()=>!1,wU=e=>yU.test(e),SU=e=>xU.test(e),kU=e=>!ke(e)&&!je(e),jU=e=>Fa(e,o_,n_),ke=e=>e_.test(e),zo=e=>Fa(e,i_,bU),Qm=e=>Fa(e,NU,Le),Y2=e=>Fa(e,r_,n_),CU=e=>Fa(e,s_,SU),Ed=e=>Fa(e,a_,wU),je=e=>t_.test(e),Ml=e=>Da(e,i_),_U=e=>Da(e,RU),J2=e=>Da(e,r_),EU=e=>Da(e,o_),TU=e=>Da(e,s_),Td=e=>Da(e,a_,!0),Fa=(e,t,n)=>{const r=e_.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Da=(e,t,n=!1)=>{const r=t_.exec(e);return r?r[1]?t(r[1]):n:!1},r_=e=>e==="position"||e==="percentage",s_=e=>e==="image"||e==="url",o_=e=>e==="length"||e==="size"||e==="bg-size",i_=e=>e==="length",NU=e=>e==="number",RU=e=>e==="family-name",a_=e=>e==="shadow",PU=()=>{const e=At("color"),t=At("font"),n=At("text"),r=At("font-weight"),s=At("tracking"),i=At("leading"),a=At("breakpoint"),u=At("container"),d=At("spacing"),f=At("radius"),m=At("shadow"),h=At("inset-shadow"),g=At("text-shadow"),x=At("drop-shadow"),v=At("blur"),b=At("perspective"),S=At("aspect"),_=At("ease"),E=At("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...T(),je,ke],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],I=()=>[je,ke,d],A=()=>[Gi,"full","auto",...I()],U=()=>[Ks,"none","subgrid",je,ke],$=()=>["auto",{span:["full",Ks,je,ke]},Ks,je,ke],H=()=>[Ks,"auto",je,ke],Y=()=>["auto","min","max","fr",je,ke],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...I()],W=()=>[Gi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],M=()=>[e,je,ke],B=()=>[...T(),J2,Y2,{position:[je,ke]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",EU,jU,{size:[je,ke]}],L=()=>[Jm,Ml,zo],K=()=>["","none","full",f,je,ke],Z=()=>["",Le,Ml,zo],q=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Le,Jm,J2,Y2],te=()=>["","none",v,je,ke],se=()=>["none",Le,je,ke],le=()=>["none",Le,je,ke],ce=()=>[Le,je,ke],ue=()=>[Gi,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cs],breakpoint:[cs],color:[vU],container:[cs],"drop-shadow":[cs],ease:["in","out","in-out"],font:[kU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cs],shadow:[cs],spacing:["px",Le],text:[cs],"text-shadow":[cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Gi,ke,je,S]}],container:["container"],columns:[{columns:[Le,ke,je,u]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Ks,"auto",je,ke]}],basis:[{basis:[Gi,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,Gi,"auto","initial","none",ke]}],grow:[{grow:["",Le,je,ke]}],shrink:[{shrink:["",Le,je,ke]}],order:[{order:[Ks,"first","last","none",je,ke]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[u,"screen",...W()]}],"min-w":[{"min-w":[u,"screen","none",...W()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...W()]}],h:[{h:["screen",...W()]}],"min-h":[{"min-h":["screen","none",...W()]}],"max-h":[{"max-h":["screen",...W()]}],"font-size":[{text:["base",n,Ml,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jm,ke]}],"font-family":[{font:[_U,ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,je,ke]}],"line-clamp":[{"line-clamp":[Le,"none",je,Qm]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",je,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",je,zo]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Le,"auto",je,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ks,je,ke],radial:["",je,ke],conic:[Ks,je,ke]},TU,CU]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,je,ke]}],"outline-w":[{outline:["",Le,Ml,zo]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",m,Td,Ed]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",h,Td,Ed]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Le,zo]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",g,Td,Ed]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Le,je,ke]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[je,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,ke]}],filter:[{filter:["","none",je,ke]}],blur:[{blur:te()}],brightness:[{brightness:[Le,je,ke]}],contrast:[{contrast:[Le,je,ke]}],"drop-shadow":[{"drop-shadow":["","none",x,Td,Ed]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Le,je,ke]}],"hue-rotate":[{"hue-rotate":[Le,je,ke]}],invert:[{invert:["",Le,je,ke]}],saturate:[{saturate:[Le,je,ke]}],sepia:[{sepia:["",Le,je,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",je,ke]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[Le,je,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Le,je,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,je,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,je,ke]}],"backdrop-invert":[{"backdrop-invert":["",Le,je,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Le,je,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Le,je,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,je,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",je,ke]}],ease:[{ease:["linear","initial",_,je,ke]}],delay:[{delay:[Le,je,ke]}],animate:[{animate:["none",E,je,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,je,ke]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[je,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,ke]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Le,Ml,zo,Qm]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IU=fU(PU);function Dt(...e){return IU(YC(e))}const AU=JC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function nt({className:e,variant:t,size:n,asChild:r=!1,...s}){const i=r?xs:"button";return l.jsx(i,{"data-slot":"button",className:Dt(AU({variant:t,size:n,className:e})),...s})}function nh({className:e,type:t,...n}){return l.jsx("input",{type:t,"data-slot":"input",className:Dt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var MU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=MU.reduce((e,t)=>{const n=k.forwardRef((r,s)=>{const{asChild:i,...a}=r,u=i?xs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function FU(e,t){e&&Ra.flushSync(()=>e.dispatchEvent(t))}var DU="Label",l_=k.forwardRef((e,t)=>l.jsx(Xe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));l_.displayName=DU;var OU=l_;function Zm({className:e,...t}){return l.jsx(OU,{"data-slot":"label",className:Dt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function zU({className:e,...t}){return l.jsx("textarea",{"data-slot":"textarea",className:Dt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function LU(e,t){const n=k.createContext(t),r=i=>{const{children:a,...u}=i,d=k.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:d,children:a})};r.displayName=e+"Provider";function s(i){const a=k.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Oa(e,t=[]){let n=[];function r(i,a){const u=k.createContext(a),d=n.length;n=[...n,a];const f=h=>{var _;const{scope:g,children:x,...v}=h,b=((_=g==null?void 0:g[e])==null?void 0:_[d])||u,S=k.useMemo(()=>v,Object.values(v));return l.jsx(b.Provider,{value:S,children:x})};f.displayName=i+"Provider";function m(h,g){var b;const x=((b=g==null?void 0:g[e])==null?void 0:b[d])||u,v=k.useContext(x);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=n.map(a=>k.createContext(a));return function(u){const d=(u==null?void 0:u[e])||i;return k.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,$U(s,...t)]}function $U(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((u,{useScope:d,scopeName:f})=>{const h=d(i)[`__scope${f}`];return{...u,...h}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var pn=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},BU=DN.useId||(()=>{}),VU=0;function Qo(e){const[t,n]=k.useState(BU());return pn(()=>{n(r=>r??String(VU++))},[e]),e||(t?`radix-${t}`:"")}function vs(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function vc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=WU({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,u=vs(n),d=k.useCallback(f=>{if(i){const h=typeof f=="function"?f(e):f;h!==e&&u(h)}else s(f)},[i,e,s,u]);return[a,d]}function WU({defaultProp:e,onChange:t}){const n=k.useState(e),[r]=n,s=k.useRef(r),i=vs(t);return k.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function UU(e,t=globalThis==null?void 0:globalThis.document){const n=vs(e);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var HU="DismissableLayer",d0="dismissableLayer.update",GU="dismissableLayer.pointerDownOutside",qU="dismissableLayer.focusOutside",Q2,c_=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rh=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...d}=e,f=k.useContext(c_),[m,h]=k.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=k.useState({}),v=it(t,R=>h(R)),b=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(S),E=m?b.indexOf(m):-1,w=f.layersWithOutsidePointerEventsDisabled.size>0,T=E>=_,P=YU(R=>{const I=R.target,A=[...f.branches].some(U=>U.contains(I));!T||A||(s==null||s(R),a==null||a(R),R.defaultPrevented||u==null||u())},g),C=JU(R=>{const I=R.target;[...f.branches].some(U=>U.contains(I))||(i==null||i(R),a==null||a(R),R.defaultPrevented||u==null||u())},g);return UU(R=>{E===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},g),k.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Q2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Z2(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Q2)}},[m,g,n,f]),k.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Z2())},[m,f]),k.useEffect(()=>{const R=()=>x({});return document.addEventListener(d0,R),()=>document.removeEventListener(d0,R)},[]),l.jsx(Xe.div,{...d,ref:v,style:{pointerEvents:w?T?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,P.onPointerDownCapture)})});rh.displayName=HU;var KU="DismissableLayerBranch",XU=k.forwardRef((e,t)=>{const n=k.useContext(c_),r=k.useRef(null),s=it(t,r);return k.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Xe.div,{...e,ref:s})});XU.displayName=KU;function YU(e,t=globalThis==null?void 0:globalThis.document){const n=vs(e),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let d=function(){u_(GU,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function JU(e,t=globalThis==null?void 0:globalThis.document){const n=vs(e),r=k.useRef(!1);return k.useEffect(()=>{const s=i=>{i.target&&!r.current&&u_(qU,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Z2(){const e=new CustomEvent(d0);document.dispatchEvent(e)}function u_(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?FU(s,i):s.dispatchEvent(i)}var eg="focusScope.autoFocusOnMount",tg="focusScope.autoFocusOnUnmount",eS={bubbles:!1,cancelable:!0},QU="FocusScope",sh=k.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[u,d]=k.useState(null),f=vs(s),m=vs(i),h=k.useRef(null),g=it(t,b=>d(b)),x=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let b=function(w){if(x.paused||!u)return;const T=w.target;u.contains(T)?h.current=T:Ys(h.current,{select:!0})},S=function(w){if(x.paused||!u)return;const T=w.relatedTarget;T!==null&&(u.contains(T)||Ys(h.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const P of w)P.removedNodes.length>0&&Ys(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const E=new MutationObserver(_);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),E.disconnect()}}},[r,u,x.paused]),k.useEffect(()=>{if(u){nS.add(x);const b=document.activeElement;if(!u.contains(b)){const _=new CustomEvent(eg,eS);u.addEventListener(eg,f),u.dispatchEvent(_),_.defaultPrevented||(ZU(sH(d_(u)),{select:!0}),document.activeElement===b&&Ys(u))}return()=>{u.removeEventListener(eg,f),setTimeout(()=>{const _=new CustomEvent(tg,eS);u.addEventListener(tg,m),u.dispatchEvent(_),_.defaultPrevented||Ys(b??document.body,{select:!0}),u.removeEventListener(tg,m),nS.remove(x)},0)}}},[u,f,m,x]);const v=k.useCallback(b=>{if(!n&&!r||x.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(S&&_){const E=b.currentTarget,[w,T]=eH(E);w&&T?!b.shiftKey&&_===T?(b.preventDefault(),n&&Ys(w,{select:!0})):b.shiftKey&&_===w&&(b.preventDefault(),n&&Ys(T,{select:!0})):_===E&&b.preventDefault()}},[n,r,x.paused]);return l.jsx(Xe.div,{tabIndex:-1,...a,ref:g,onKeyDown:v})});sh.displayName=QU;function ZU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ys(r,{select:t}),document.activeElement!==n)return}function eH(e){const t=d_(e),n=tS(t,e),r=tS(t.reverse(),e);return[n,r]}function d_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tS(e,t){for(const n of e)if(!tH(n,{upTo:t}))return n}function tH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nH(e){return e instanceof HTMLInputElement&&"select"in e}function Ys(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nH(e)&&t&&e.select()}}var nS=rH();function rH(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rS(e,t),e.unshift(t)},remove(t){var n;e=rS(e,t),(n=e[0])==null||n.resume()}}}function rS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sH(e){return e.filter(t=>t.tagName!=="A")}var oH="Portal",oh=k.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,i]=k.useState(!1);pn(()=>i(!0),[]);const a=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?_j.createPortal(l.jsx(Xe.div,{...r,ref:t}),a):null});oh.displayName=oH;function iH(e,t){return k.useReducer((n,r)=>t[n][r]??n,e)}var ui=e=>{const{present:t,children:n}=e,r=aH(t),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),i=it(r.ref,lH(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:i}):null};ui.displayName="Presence";function aH(e){const[t,n]=k.useState(),r=k.useRef({}),s=k.useRef(e),i=k.useRef("none"),a=e?"mounted":"unmounted",[u,d]=iH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const f=Nd(r.current);i.current=u==="mounted"?f:"none"},[u]),pn(()=>{const f=r.current,m=s.current;if(m!==e){const g=i.current,x=Nd(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),pn(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,h=x=>{const b=Nd(r.current).includes(x.animationName);if(x.target===t&&b&&(d("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=x=>{x.target===t&&(i.current=Nd(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:k.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function Nd(e){return(e==null?void 0:e.animationName)||"none"}function lH(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ng=0;function Wy(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sS()),document.body.insertAdjacentElement("beforeend",e[1]??sS()),ng++,()=>{ng===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ng--}},[])}function sS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yd="right-scroll-bar-position",Jd="width-before-scroll-bar",cH="with-scroll-bars-hidden",uH="--removed-body-scroll-bar-size";function rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dH(e,t){var n=k.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var fH=typeof window<"u"?k.useLayoutEffect:k.useEffect,oS=new WeakMap;function hH(e,t){var n=dH(null,function(r){return e.forEach(function(s){return rg(s,r)})});return fH(function(){var r=oS.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(u){i.has(u)||rg(u,null)}),i.forEach(function(u){s.has(u)||rg(u,a)})}oS.set(n,e)},[e]),n}function pH(e){return e}function mH(e,t){t===void 0&&(t=pH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(i),a=n}var d=function(){var m=a;a=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return s}function gH(e){e===void 0&&(e={});var t=mH(null);return t.options=zr({async:!0,ssr:!1},e),t}var f_=function(e){var t=e.sideCar,n=Ia(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,zr({},n))};f_.isSideCarExport=!0;function yH(e,t){return e.useMedium(t),f_}var h_=gH(),sg=function(){},ih=k.forwardRef(function(e,t){var n=k.useRef(null),r=k.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),s=r[0],i=r[1],a=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,h=e.shards,g=e.sideCar,x=e.noRelative,v=e.noIsolation,b=e.inert,S=e.allowPinchZoom,_=e.as,E=_===void 0?"div":_,w=e.gapMode,T=Ia(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,C=hH([n,t]),R=zr(zr({},T),s);return k.createElement(k.Fragment,null,m&&k.createElement(P,{sideCar:h_,removeScrollBar:f,shards:h,noRelative:x,noIsolation:v,inert:b,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:w}),a?k.cloneElement(k.Children.only(u),zr(zr({},R),{ref:C})):k.createElement(E,zr({},R,{className:d,ref:C}),u))});ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ih.classNames={fullWidth:Jd,zeroRight:Yd};var xH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xH();return t&&e.setAttribute("nonce",t),e}function bH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SH=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vH())&&(bH(t,n),wH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kH=function(){var e=SH();return function(t,n){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},p_=function(){var e=kH(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},jH={left:0,top:0,right:0,gap:0},og=function(e){return parseInt(e||"",10)||0},CH=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[og(n),og(r),og(s)]},_H=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jH;var t=CH(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},EH=p_(),da="data-scroll-locked",TH=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yd,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(da,`] {
    `).concat(uH,": ").concat(u,`px;
  }
`)},iS=function(){var e=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(e)?e:0},NH=function(){k.useEffect(function(){return document.body.setAttribute(da,(iS()+1).toString()),function(){var e=iS()-1;e<=0?document.body.removeAttribute(da):document.body.setAttribute(da,e.toString())}},[])},RH=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;NH();var i=k.useMemo(function(){return _H(s)},[s]);return k.createElement(EH,{styles:TH(i,!t,s,n?"":"!important")})},f0=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return f0=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{f0=!1}var qi=f0?{passive:!1}:!1,PH=function(e){return e.tagName==="TEXTAREA"},m_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PH(e)&&n[t]==="visible")},IH=function(e){return m_(e,"overflowY")},AH=function(e){return m_(e,"overflowX")},aS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=g_(e,r);if(s){var i=y_(e,r),a=i[1],u=i[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MH=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FH=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},g_=function(e,t){return e==="v"?IH(t):AH(t)},y_=function(e,t){return e==="v"?MH(t):FH(t)},DH=function(e,t){return e==="h"&&t==="rtl"?-1:1},OH=function(e,t,n,r,s){var i=DH(e,window.getComputedStyle(t).direction),a=i*r,u=n.target,d=t.contains(u),f=!1,m=a>0,h=0,g=0;do{if(!u)break;var x=y_(e,u),v=x[0],b=x[1],S=x[2],_=b-S-i*v;(v||_)&&g_(e,u)&&(h+=_,g+=v);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(h)<1||!m&&Math.abs(g)<1)&&(f=!0),f},Pd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lS=function(e){return[e.deltaX,e.deltaY]},cS=function(e){return e&&"current"in e?e.current:e},zH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$H=0,Ki=[];function BH(e){var t=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),s=k.useState($H++)[0],i=k.useState(p_)[0],a=k.useRef(e);k.useEffect(function(){a.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=B4([e.lockRef.current],(e.shards||[]).map(cS),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=k.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var _=Pd(b),E=n.current,w="deltaX"in b?b.deltaX:E[0]-_[0],T="deltaY"in b?b.deltaY:E[1]-_[1],P,C=b.target,R=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in b&&R==="h"&&C.type==="range")return!1;var I=window.getSelection(),A=I&&I.anchorNode,U=A?A===C||A.contains(C):!1;if(U)return!1;var $=aS(R,C);if(!$)return!0;if($?P=R:(P=R==="v"?"h":"v",$=aS(R,C)),!$)return!1;if(!r.current&&"changedTouches"in b&&(w||T)&&(r.current=P),!P)return!0;var H=r.current||P;return OH(H,S,b,H==="h"?w:T)},[]),d=k.useCallback(function(b){var S=b;if(!(!Ki.length||Ki[Ki.length-1]!==i)){var _="deltaY"in S?lS(S):Pd(S),E=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&zH(P.delta,_)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var w=(a.current.shards||[]).map(cS).filter(Boolean).filter(function(P){return P.contains(S.target)}),T=w.length>0?u(S,w[0]):!a.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),f=k.useCallback(function(b,S,_,E){var w={name:b,delta:S,target:_,should:E,shadowParent:VH(_)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(T){return T!==w})},1)},[]),m=k.useCallback(function(b){n.current=Pd(b),r.current=void 0},[]),h=k.useCallback(function(b){f(b.type,lS(b),b.target,u(b,e.lockRef.current))},[]),g=k.useCallback(function(b){f(b.type,Pd(b),b.target,u(b,e.lockRef.current))},[]);k.useEffect(function(){return Ki.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",d,qi),document.addEventListener("touchmove",d,qi),document.addEventListener("touchstart",m,qi),function(){Ki=Ki.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,qi),document.removeEventListener("touchmove",d,qi),document.removeEventListener("touchstart",m,qi)}},[]);var x=e.removeScrollBar,v=e.inert;return k.createElement(k.Fragment,null,v?k.createElement(i,{styles:LH(s)}):null,x?k.createElement(RH,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WH=yH(h_,BH);var ah=k.forwardRef(function(e,t){return k.createElement(ih,zr({},e,{ref:t,sideCar:WH}))});ah.classNames=ih.classNames;var UH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xi=new WeakMap,Id=new WeakMap,Ad={},ig=0,x_=function(e){return e&&(e.host||x_(e.parentNode))},HH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=x_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},GH=function(e,t,n,r){var s=HH(t,Array.isArray(e)?e:[e]);Ad[n]||(Ad[n]=new WeakMap);var i=Ad[n],a=[],u=new Set,d=new Set(s),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};s.forEach(f);var m=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(g){if(u.has(g))m(g);else try{var x=g.getAttribute(r),v=x!==null&&x!=="false",b=(Xi.get(g)||0)+1,S=(i.get(g)||0)+1;Xi.set(g,b),i.set(g,S),a.push(g),b===1&&v&&Id.set(g,!0),S===1&&g.setAttribute(n,"true"),v||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return m(t),u.clear(),ig++,function(){a.forEach(function(h){var g=Xi.get(h)-1,x=i.get(h)-1;Xi.set(h,g),i.set(h,x),g||(Id.has(h)||h.removeAttribute(r),Id.delete(h)),x||h.removeAttribute(n)}),ig--,ig||(Xi=new WeakMap,Xi=new WeakMap,Id=new WeakMap,Ad={})}},Uy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=UH(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),GH(r,s,n,"aria-hidden")):function(){return null}},Hy="Dialog",[v_]=Oa(Hy),[qH,Cr]=v_(Hy),b_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,u=k.useRef(null),d=k.useRef(null),[f=!1,m]=vc({prop:r,defaultProp:s,onChange:i});return l.jsx(qH,{scope:t,triggerRef:u,contentRef:d,contentId:Qo(),titleId:Qo(),descriptionId:Qo(),open:f,onOpenChange:m,onOpenToggle:k.useCallback(()=>m(h=>!h),[m]),modal:a,children:n})};b_.displayName=Hy;var w_="DialogTrigger",KH=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(w_,n),i=it(t,s.triggerRef);return l.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ky(s.open),...r,ref:i,onClick:Ke(e.onClick,s.onOpenToggle)})});KH.displayName=w_;var Gy="DialogPortal",[XH,S_]=v_(Gy,{forceMount:void 0}),k_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Cr(Gy,t);return l.jsx(XH,{scope:t,forceMount:n,children:k.Children.map(r,a=>l.jsx(ui,{present:n||i.open,children:l.jsx(oh,{asChild:!0,container:s,children:a})}))})};k_.displayName=Gy;var jf="DialogOverlay",j_=k.forwardRef((e,t)=>{const n=S_(jf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cr(jf,e.__scopeDialog);return i.modal?l.jsx(ui,{present:r||i.open,children:l.jsx(YH,{...s,ref:t})}):null});j_.displayName=jf;var YH=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(jf,n);return l.jsx(ah,{as:xs,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Xe.div,{"data-state":Ky(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ii="DialogContent",C_=k.forwardRef((e,t)=>{const n=S_(ii,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cr(ii,e.__scopeDialog);return l.jsx(ui,{present:r||i.open,children:i.modal?l.jsx(JH,{...s,ref:t}):l.jsx(QH,{...s,ref:t})})});C_.displayName=ii;var JH=k.forwardRef((e,t)=>{const n=Cr(ii,e.__scopeDialog),r=k.useRef(null),s=it(t,n.contentRef,r);return k.useEffect(()=>{const i=r.current;if(i)return Uy(i)},[]),l.jsx(__,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&i.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,i=>i.preventDefault())})}),QH=k.forwardRef((e,t)=>{const n=Cr(ii,e.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return l.jsx(__,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),__=k.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,u=Cr(ii,n),d=k.useRef(null),f=it(t,d);return Wy(),l.jsxs(l.Fragment,{children:[l.jsx(sh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(rh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ky(u.open),...a,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(ZH,{titleId:u.titleId}),l.jsx(tG,{contentRef:d,descriptionId:u.descriptionId})]})]})}),qy="DialogTitle",E_=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(qy,n);return l.jsx(Xe.h2,{id:s.titleId,...r,ref:t})});E_.displayName=qy;var T_="DialogDescription",N_=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(T_,n);return l.jsx(Xe.p,{id:s.descriptionId,...r,ref:t})});N_.displayName=T_;var R_="DialogClose",P_=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(R_,n);return l.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>s.onOpenChange(!1))})});P_.displayName=R_;function Ky(e){return e?"open":"closed"}var I_="DialogTitleWarning",[NX,A_]=LU(I_,{contentName:ii,titleName:qy,docsSlug:"dialog"}),ZH=({titleId:e})=>{const t=A_(I_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eG="DialogDescriptionWarning",tG=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A_(eG).contentName}}.`;return k.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},nG=b_,rG=k_,sG=j_,oG=C_,iG=E_,aG=N_,lG=P_;function cG({...e}){return l.jsx(nG,{"data-slot":"dialog",...e})}function uG({...e}){return l.jsx(rG,{"data-slot":"dialog-portal",...e})}function dG({className:e,...t}){return l.jsx(sG,{"data-slot":"dialog-overlay",className:Dt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function fG({className:e,children:t,...n}){return l.jsxs(uG,{"data-slot":"dialog-portal",children:[l.jsx(dG,{}),l.jsxs(oG,{"data-slot":"dialog-content",className:Dt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,l.jsxs(lG,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(hn,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function hG({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-header",className:Dt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function pG({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-footer",className:Dt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function mG({className:e,...t}){return l.jsx(iG,{"data-slot":"dialog-title",className:Dt("text-lg leading-none font-semibold",e),...t})}function gG({className:e,...t}){return l.jsx(aG,{"data-slot":"dialog-description",className:Dt("text-muted-foreground text-sm",e),...t})}function uS(e,[t,n]){return Math.min(n,Math.max(t,e))}function yG(e){const t=e+"CollectionProvider",[n,r]=Oa(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:v,children:b}=x,S=pe.useRef(null),_=pe.useRef(new Map).current;return l.jsx(s,{scope:v,itemMap:_,collectionRef:S,children:b})};a.displayName=t;const u=e+"CollectionSlot",d=pe.forwardRef((x,v)=>{const{scope:b,children:S}=x,_=i(u,b),E=it(v,_.collectionRef);return l.jsx(xs,{ref:E,children:S})});d.displayName=u;const f=e+"CollectionItemSlot",m="data-radix-collection-item",h=pe.forwardRef((x,v)=>{const{scope:b,children:S,..._}=x,E=pe.useRef(null),w=it(v,E),T=i(f,b);return pe.useEffect(()=>(T.itemMap.set(E,{ref:E,..._}),()=>void T.itemMap.delete(E))),l.jsx(xs,{[m]:"",ref:w,children:S})});h.displayName=f;function g(x){const v=i(e+"CollectionConsumer",x);return pe.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((T,P)=>_.indexOf(T.ref.current)-_.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:d,ItemSlot:h},g,r]}var xG=k.createContext(void 0);function vG(e){const t=k.useContext(xG);return e||t||"ltr"}const bG=["top","right","bottom","left"],co=Math.min,In=Math.max,Cf=Math.round,Md=Math.floor,Vr=e=>({x:e,y:e}),wG={left:"right",right:"left",bottom:"top",top:"bottom"},SG={start:"end",end:"start"};function h0(e,t,n){return In(e,co(t,n))}function bs(e,t){return typeof e=="function"?e(t):e}function ws(e){return e.split("-")[0]}function za(e){return e.split("-")[1]}function Xy(e){return e==="x"?"y":"x"}function Yy(e){return e==="y"?"height":"width"}const kG=new Set(["top","bottom"]);function Lr(e){return kG.has(ws(e))?"y":"x"}function Jy(e){return Xy(Lr(e))}function jG(e,t,n){n===void 0&&(n=!1);const r=za(e),s=Jy(e),i=Yy(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=_f(a)),[a,_f(a)]}function CG(e){const t=_f(e);return[p0(e),t,p0(t)]}function p0(e){return e.replace(/start|end/g,t=>SG[t])}const dS=["left","right"],fS=["right","left"],_G=["top","bottom"],EG=["bottom","top"];function TG(e,t,n){switch(e){case"top":case"bottom":return n?t?fS:dS:t?dS:fS;case"left":case"right":return t?_G:EG;default:return[]}}function NG(e,t,n,r){const s=za(e);let i=TG(ws(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(p0)))),i}function _f(e){return e.replace(/left|right|bottom|top/g,t=>wG[t])}function RG(e){return{top:0,right:0,bottom:0,left:0,...e}}function M_(e){return typeof e!="number"?RG(e):{top:e,right:e,bottom:e,left:e}}function Ef(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function hS(e,t,n){let{reference:r,floating:s}=e;const i=Lr(t),a=Jy(t),u=Yy(a),d=ws(t),f=i==="y",m=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,g=r[u]/2-s[u]/2;let x;switch(d){case"top":x={x:m,y:r.y-s.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-s.width,y:h};break;default:x={x:r.x,y:r.y}}switch(za(t)){case"start":x[a]-=g*(n&&f?-1:1);break;case"end":x[a]+=g*(n&&f?-1:1);break}return x}async function PG(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:g=!1,padding:x=0}=bs(t,e),v=M_(x),S=u[g?h==="floating"?"reference":"floating":h],_=Ef(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),E=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),T=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},P=Ef(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:w,strategy:d}):E);return{top:(_.top-P.top+v.top)/T.y,bottom:(P.bottom-_.bottom+v.bottom)/T.y,left:(_.left-P.left+v.left)/T.x,right:(P.right-_.right+v.right)/T.x}}const IG=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:h}=hS(f,r,d),g=r,x={},v=0;for(let S=0;S<u.length;S++){var b;const{name:_,fn:E}=u[S],{x:w,y:T,data:P,reset:C}=await E({x:m,y:h,initialPlacement:r,placement:g,strategy:s,middlewareData:x,rects:f,platform:{...a,detectOverflow:(b=a.detectOverflow)!=null?b:PG},elements:{reference:e,floating:t}});m=w??m,h=T??h,x={...x,[_]:{...x[_],...P}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(f=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:m,y:h}=hS(f,g,d)),S=-1)}return{x:m,y:h,placement:g,strategy:s,middlewareData:x}},AG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=bs(e,t)||{};if(f==null)return{};const h=M_(m),g={x:n,y:r},x=Jy(s),v=Yy(x),b=await a.getDimensions(f),S=x==="y",_=S?"top":"left",E=S?"bottom":"right",w=S?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[x]-g[x]-i.floating[v],P=g[x]-i.reference[x],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let R=C?C[w]:0;(!R||!await(a.isElement==null?void 0:a.isElement(C)))&&(R=u.floating[w]||i.floating[v]);const I=T/2-P/2,A=R/2-b[v]/2-1,U=co(h[_],A),$=co(h[E],A),H=U,Y=R-b[v]-$,V=R/2-b[v]/2+I,X=h0(H,V,Y),z=!d.arrow&&za(s)!=null&&V!==X&&i.reference[v]/2-(V<H?U:$)-b[v]/2<0,W=z?V<H?V-H:V-Y:0;return{[x]:g[x]+W,data:{[x]:X,centerOffset:V-X-W,...z&&{alignmentOffset:W}},reset:z}}}),MG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...S}=bs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ws(s),E=Lr(u),w=ws(u)===u,T=await(d.isRTL==null?void 0:d.isRTL(f.floating)),P=g||(w||!b?[_f(u)]:CG(u)),C=v!=="none";!g&&C&&P.push(...NG(u,b,v,T));const R=[u,...P],I=await d.detectOverflow(t,S),A=[];let U=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&A.push(I[_]),h){const V=jG(s,a,T);A.push(I[V[0]],I[V[1]])}if(U=[...U,{placement:s,overflows:A}],!A.every(V=>V<=0)){var $,H;const V=((($=i.flip)==null?void 0:$.index)||0)+1,X=R[V];if(X&&(!(h==="alignment"?E!==Lr(X):!1)||U.every(M=>Lr(M.placement)===E?M.overflows[0]>0:!0)))return{data:{index:V,overflows:U},reset:{placement:X}};let z=(H=U.filter(W=>W.overflows[0]<=0).sort((W,M)=>W.overflows[1]-M.overflows[1])[0])==null?void 0:H.placement;if(!z)switch(x){case"bestFit":{var Y;const W=(Y=U.filter(M=>{if(C){const B=Lr(M.placement);return B===E||B==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,O)=>B+O,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:Y[0];W&&(z=W);break}case"initialPlacement":z=u;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function pS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mS(e){return bG.some(t=>e[t]>=0)}const FG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...i}=bs(e,t);switch(s){case"referenceHidden":{const a=await r.detectOverflow(t,{...i,elementContext:"reference"}),u=pS(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:mS(u)}}}case"escaped":{const a=await r.detectOverflow(t,{...i,altBoundary:!0}),u=pS(a,n.floating);return{data:{escapedOffsets:u,escaped:mS(u)}}}default:return{}}}}},F_=new Set(["left","top"]);async function DG(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ws(n),u=za(n),d=Lr(n)==="y",f=F_.has(a)?-1:1,m=i&&d?-1:1,h=bs(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof v=="number"&&(x=u==="end"?v*-1:v),d?{x:x*m,y:g*f}:{x:g*f,y:x*m}}const OG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:u}=t,d=await DG(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:a}}}}},zG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:_=>{let{x:E,y:w}=_;return{x:E,y:w}}},...f}=bs(e,t),m={x:n,y:r},h=await i.detectOverflow(t,f),g=Lr(ws(s)),x=Xy(g);let v=m[x],b=m[g];if(a){const _=x==="y"?"top":"left",E=x==="y"?"bottom":"right",w=v+h[_],T=v-h[E];v=h0(w,v,T)}if(u){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",w=b+h[_],T=b-h[E];b=h0(w,b,T)}const S=d.fn({...t,[x]:v,[g]:b});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[x]:a,[g]:u}}}}}},LG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=bs(e,t),m={x:n,y:r},h=Lr(s),g=Xy(h);let x=m[g],v=m[h];const b=bs(u,t),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const w=g==="y"?"height":"width",T=i.reference[g]-i.floating[w]+S.mainAxis,P=i.reference[g]+i.reference[w]-S.mainAxis;x<T?x=T:x>P&&(x=P)}if(f){var _,E;const w=g==="y"?"width":"height",T=F_.has(ws(s)),P=i.reference[h]-i.floating[w]+(T&&((_=a.offset)==null?void 0:_[h])||0)+(T?0:S.crossAxis),C=i.reference[h]+i.reference[w]+(T?0:((E=a.offset)==null?void 0:E[h])||0)-(T?S.crossAxis:0);v<P?v=P:v>C&&(v=C)}return{[g]:x,[h]:v}}}},$G=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:u}=t,{apply:d=()=>{},...f}=bs(e,t),m=await a.detectOverflow(t,f),h=ws(s),g=za(s),x=Lr(s)==="y",{width:v,height:b}=i.floating;let S,_;h==="top"||h==="bottom"?(S=h,_=g===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(_=h,S=g==="end"?"top":"bottom");const E=b-m.top-m.bottom,w=v-m.left-m.right,T=co(b-m[S],E),P=co(v-m[_],w),C=!t.middlewareData.shift;let R=T,I=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=E),C&&!g){const U=In(m.left,0),$=In(m.right,0),H=In(m.top,0),Y=In(m.bottom,0);x?I=v-2*(U!==0||$!==0?U+$:In(m.left,m.right)):R=b-2*(H!==0||Y!==0?H+Y:In(m.top,m.bottom))}await d({...t,availableWidth:I,availableHeight:R});const A=await a.getDimensions(u.floating);return v!==A.width||b!==A.height?{reset:{rects:!0}}:{}}}};function lh(){return typeof window<"u"}function La(e){return D_(e)?(e.nodeName||"").toLowerCase():"#document"}function Dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(D_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D_(e){return lh()?e instanceof Node||e instanceof Dn(e).Node:!1}function br(e){return lh()?e instanceof Element||e instanceof Dn(e).Element:!1}function Gr(e){return lh()?e instanceof HTMLElement||e instanceof Dn(e).HTMLElement:!1}function gS(e){return!lh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dn(e).ShadowRoot}const BG=new Set(["inline","contents"]);function $c(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!BG.has(s)}const VG=new Set(["table","td","th"]);function WG(e){return VG.has(La(e))}const UG=[":popover-open",":modal"];function ch(e){return UG.some(t=>{try{return e.matches(t)}catch{return!1}})}const HG=["transform","translate","scale","rotate","perspective"],GG=["transform","translate","scale","rotate","perspective","filter"],qG=["paint","layout","strict","content"];function Qy(e){const t=Zy(),n=br(e)?wr(e):e;return HG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||GG.some(r=>(n.willChange||"").includes(r))||qG.some(r=>(n.contain||"").includes(r))}function KG(e){let t=uo(e);for(;Gr(t)&&!Sa(t);){if(Qy(t))return t;if(ch(t))return null;t=uo(t)}return null}function Zy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XG=new Set(["html","body","#document"]);function Sa(e){return XG.has(La(e))}function wr(e){return Dn(e).getComputedStyle(e)}function uh(e){return br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function uo(e){if(La(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gS(e)&&e.host||Xr(e);return gS(t)?t.host:t}function O_(e){const t=uo(e);return Sa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gr(t)&&$c(t)?t:O_(t)}function bc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=O_(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Dn(s);if(i){const u=m0(a);return t.concat(a,a.visualViewport||[],$c(s)?s:[],u&&n?bc(u):[])}return t.concat(s,bc(s,[],n))}function m0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function z_(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Gr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,u=Cf(n)!==i||Cf(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function ex(e){return br(e)?e:e.contextElement}function fa(e){const t=ex(e);if(!Gr(t))return Vr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=z_(t);let a=(i?Cf(n.width):n.width)/r,u=(i?Cf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const YG=Vr(0);function L_(e){const t=Dn(e);return!Zy()||!t.visualViewport?YG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JG(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Dn(e)?!1:t}function ai(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=ex(e);let a=Vr(1);t&&(r?br(r)&&(a=fa(r)):a=fa(e));const u=JG(i,n,r)?L_(i):Vr(0);let d=(s.left+u.x)/a.x,f=(s.top+u.y)/a.y,m=s.width/a.x,h=s.height/a.y;if(i){const g=Dn(i),x=r&&br(r)?Dn(r):r;let v=g,b=m0(v);for(;b&&r&&x!==v;){const S=fa(b),_=b.getBoundingClientRect(),E=wr(b),w=_.left+(b.clientLeft+parseFloat(E.paddingLeft))*S.x,T=_.top+(b.clientTop+parseFloat(E.paddingTop))*S.y;d*=S.x,f*=S.y,m*=S.x,h*=S.y,d+=w,f+=T,v=Dn(b),b=m0(v)}}return Ef({width:m,height:h,x:d,y:f})}function dh(e,t){const n=uh(e).scrollLeft;return t?t.left+n:ai(Xr(e)).left+n}function $_(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-dh(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function QG(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=Xr(r),u=t?ch(t.floating):!1;if(r===a||u&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Vr(1);const m=Vr(0),h=Gr(r);if((h||!h&&!i)&&((La(r)!=="body"||$c(a))&&(d=uh(r)),Gr(r))){const x=ai(r);f=fa(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=a&&!h&&!i?$_(a,d):Vr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:n.y*f.y-d.scrollTop*f.y+m.y+g.y}}function ZG(e){return Array.from(e.getClientRects())}function eq(e){const t=Xr(e),n=uh(e),r=e.ownerDocument.body,s=In(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=In(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+dh(e);const u=-n.scrollTop;return wr(r).direction==="rtl"&&(a+=In(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:u}}const yS=25;function tq(e,t){const n=Dn(e),r=Xr(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,d=0;if(s){i=s.width,a=s.height;const m=Zy();(!m||m&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=dh(r);if(f<=0){const m=r.ownerDocument,h=m.body,g=getComputedStyle(h),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-x);v<=yS&&(i-=v)}else f<=yS&&(i+=f);return{width:i,height:a,x:u,y:d}}const nq=new Set(["absolute","fixed"]);function rq(e,t){const n=ai(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Gr(e)?fa(e):Vr(1),a=e.clientWidth*i.x,u=e.clientHeight*i.y,d=s*i.x,f=r*i.y;return{width:a,height:u,x:d,y:f}}function xS(e,t,n){let r;if(t==="viewport")r=tq(e,n);else if(t==="document")r=eq(Xr(e));else if(br(t))r=rq(t,n);else{const s=L_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ef(r)}function B_(e,t){const n=uo(e);return n===t||!br(n)||Sa(n)?!1:wr(n).position==="fixed"||B_(n,t)}function sq(e,t){const n=t.get(e);if(n)return n;let r=bc(e,[],!1).filter(u=>br(u)&&La(u)!=="body"),s=null;const i=wr(e).position==="fixed";let a=i?uo(e):e;for(;br(a)&&!Sa(a);){const u=wr(a),d=Qy(a);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&nq.has(s.position)||$c(a)&&!d&&B_(e,a))?r=r.filter(m=>m!==a):s=u,a=uo(a)}return t.set(e,r),r}function oq(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?ch(t)?[]:sq(t,this._c):[].concat(n),r],u=a[0],d=a.reduce((f,m)=>{const h=xS(t,m,s);return f.top=In(h.top,f.top),f.right=co(h.right,f.right),f.bottom=co(h.bottom,f.bottom),f.left=In(h.left,f.left),f},xS(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function iq(e){const{width:t,height:n}=z_(e);return{width:t,height:n}}function aq(e,t,n){const r=Gr(t),s=Xr(t),i=n==="fixed",a=ai(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=Vr(0);function f(){d.x=dh(s)}if(r||!r&&!i)if((La(t)!=="body"||$c(s))&&(u=uh(t)),r){const x=ai(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else s&&f();i&&!r&&s&&f();const m=s&&!r&&!i?$_(s,u):Vr(0),h=a.left+u.scrollLeft-d.x-m.x,g=a.top+u.scrollTop-d.y-m.y;return{x:h,y:g,width:a.width,height:a.height}}function ag(e){return wr(e).position==="static"}function vS(e,t){if(!Gr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xr(e)===n&&(n=n.ownerDocument.body),n}function V_(e,t){const n=Dn(e);if(ch(e))return n;if(!Gr(e)){let s=uo(e);for(;s&&!Sa(s);){if(br(s)&&!ag(s))return s;s=uo(s)}return n}let r=vS(e,t);for(;r&&WG(r)&&ag(r);)r=vS(r,t);return r&&Sa(r)&&ag(r)&&!Qy(r)?n:r||KG(e)||n}const lq=async function(e){const t=this.getOffsetParent||V_,n=this.getDimensions,r=await n(e.floating);return{reference:aq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cq(e){return wr(e).direction==="rtl"}const uq={convertOffsetParentRelativeRectToViewportRelativeRect:QG,getDocumentElement:Xr,getClippingRect:oq,getOffsetParent:V_,getElementRects:lq,getClientRects:ZG,getDimensions:iq,getScale:fa,isElement:br,isRTL:cq};function W_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dq(e,t){let n=null,r;const s=Xr(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:h,width:g,height:x}=f;if(u||t(),!g||!x)return;const v=Md(h),b=Md(s.clientWidth-(m+g)),S=Md(s.clientHeight-(h+x)),_=Md(m),w={rootMargin:-v+"px "+-b+"px "+-S+"px "+-_+"px",threshold:In(0,co(1,d))||1};let T=!0;function P(C){const R=C[0].intersectionRatio;if(R!==d){if(!T)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!W_(f,e.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(P,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,w)}n.observe(e)}return a(!0),i}function fq(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=ex(e),m=s||i?[...f?bc(f):[],...bc(t)]:[];m.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=f&&u?dq(f,n):null;let g=-1,x=null;a&&(x=new ResizeObserver(_=>{let[E]=_;E&&E.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let v,b=d?ai(e):null;d&&S();function S(){const _=ai(e);b&&!W_(b,_)&&n(),b=_,v=requestAnimationFrame(S)}return n(),()=>{var _;m.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(_=x)==null||_.disconnect(),x=null,d&&cancelAnimationFrame(v)}}const hq=OG,pq=zG,mq=MG,gq=$G,yq=FG,bS=AG,xq=LG,vq=(e,t,n)=>{const r=new Map,s={platform:uq,...n},i={...s.platform,_c:r};return IG(e,t,{...s,platform:i})};var bq=typeof document<"u",wq=function(){},Qd=bq?k.useLayoutEffect:wq;function Tf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Tf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Tf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function U_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wS(e,t){const n=U_(e);return Math.round(t*n)/n}function lg(e){const t=k.useRef(e);return Qd(()=>{t.current=e}),t}function Sq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,h]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=k.useState(r);Tf(g,r)||x(r);const[v,b]=k.useState(null),[S,_]=k.useState(null),E=k.useCallback(M=>{M!==C.current&&(C.current=M,b(M))},[]),w=k.useCallback(M=>{M!==R.current&&(R.current=M,_(M))},[]),T=i||v,P=a||S,C=k.useRef(null),R=k.useRef(null),I=k.useRef(m),A=d!=null,U=lg(d),$=lg(s),H=lg(f),Y=k.useCallback(()=>{if(!C.current||!R.current)return;const M={placement:t,strategy:n,middleware:g};$.current&&(M.platform=$.current),vq(C.current,R.current,M).then(B=>{const O={...B,isPositioned:H.current!==!1};V.current&&!Tf(I.current,O)&&(I.current=O,Ra.flushSync(()=>{h(O)}))})},[g,t,n,$,H]);Qd(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[f]);const V=k.useRef(!1);Qd(()=>(V.current=!0,()=>{V.current=!1}),[]),Qd(()=>{if(T&&(C.current=T),P&&(R.current=P),T&&P){if(U.current)return U.current(T,P,Y);Y()}},[T,P,Y,U,A]);const X=k.useMemo(()=>({reference:C,floating:R,setReference:E,setFloating:w}),[E,w]),z=k.useMemo(()=>({reference:T,floating:P}),[T,P]),W=k.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const B=wS(z.floating,m.x),O=wS(z.floating,m.y);return u?{...M,transform:"translate("+B+"px, "+O+"px)",...U_(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:O}},[n,u,z.floating,m.x,m.y]);return k.useMemo(()=>({...m,update:Y,refs:X,elements:z,floatingStyles:W}),[m,Y,X,z,W])}const kq=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?bS({element:r.current,padding:s}).fn(n):{}:r?bS({element:r,padding:s}).fn(n):{}}}},jq=(e,t)=>({...hq(e),options:[e,t]}),Cq=(e,t)=>({...pq(e),options:[e,t]}),_q=(e,t)=>({...xq(e),options:[e,t]}),Eq=(e,t)=>({...mq(e),options:[e,t]}),Tq=(e,t)=>({...gq(e),options:[e,t]}),Nq=(e,t)=>({...yq(e),options:[e,t]}),Rq=(e,t)=>({...kq(e),options:[e,t]});var Pq="Arrow",H_=k.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(Xe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});H_.displayName=Pq;var Iq=H_;function G_(e){const[t,n]=k.useState(void 0);return pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,u=f.blockSize}else a=e.offsetWidth,u=e.offsetHeight;n({width:a,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var tx="Popper",[q_,fh]=Oa(tx),[Aq,K_]=q_(tx),X_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=k.useState(null);return l.jsx(Aq,{scope:t,anchor:r,onAnchorChange:s,children:n})};X_.displayName=tx;var Y_="PopperAnchor",J_=k.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=K_(Y_,n),a=k.useRef(null),u=it(t,a);return k.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(Xe.div,{...s,ref:u})});J_.displayName=Y_;var nx="PopperContent",[Mq,Fq]=q_(nx),Q_=k.forwardRef((e,t)=>{var ne,te,se,le,ce,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:v,...b}=e,S=K_(nx,n),[_,E]=k.useState(null),w=it(t,ge=>E(ge)),[T,P]=k.useState(null),C=G_(T),R=(C==null?void 0:C.width)??0,I=(C==null?void 0:C.height)??0,A=r+(i!=="center"?"-"+i:""),U=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},$=Array.isArray(f)?f:[f],H=$.length>0,Y={padding:U,boundary:$.filter(Oq),altBoundary:H},{refs:V,floatingStyles:X,placement:z,isPositioned:W,middlewareData:M}=Sq({strategy:"fixed",placement:A,whileElementsMounted:(...ge)=>fq(...ge,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[jq({mainAxis:s+I,alignmentAxis:a}),d&&Cq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_q():void 0,...Y}),d&&Eq({...Y}),Tq({...Y,apply:({elements:ge,rects:Ee,availableWidth:Oe,availableHeight:Re})=>{const{width:We,height:Tt}=Ee.reference,Be=ge.floating.style;Be.setProperty("--radix-popper-available-width",`${Oe}px`),Be.setProperty("--radix-popper-available-height",`${Re}px`),Be.setProperty("--radix-popper-anchor-width",`${We}px`),Be.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),T&&Rq({element:T,padding:u}),zq({arrowWidth:R,arrowHeight:I}),g&&Nq({strategy:"referenceHidden",...Y})]}),[B,O]=tE(z),D=vs(v);pn(()=>{W&&(D==null||D())},[W,D]);const L=(ne=M.arrow)==null?void 0:ne.x,K=(te=M.arrow)==null?void 0:te.y,Z=((se=M.arrow)==null?void 0:se.centerOffset)!==0,[q,J]=k.useState();return pn(()=>{_&&J(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:W?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(le=M.transformOrigin)==null?void 0:le.x,(ce=M.transformOrigin)==null?void 0:ce.y].join(" "),...((ue=M.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Mq,{scope:n,placedSide:B,onArrowChange:P,arrowX:L,arrowY:K,shouldHideArrow:Z,children:l.jsx(Xe.div,{"data-side":B,"data-align":O,...b,ref:w,style:{...b.style,animation:W?void 0:"none"}})})})});Q_.displayName=nx;var Z_="PopperArrow",Dq={top:"bottom",right:"left",bottom:"top",left:"right"},eE=k.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Fq(Z_,r),a=Dq[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(Iq,{...s,ref:n,style:{...s.style,display:"block"}})})});eE.displayName=Z_;function Oq(e){return e!==null}var zq=e=>({name:"transformOrigin",options:e,fn(t){var S,_,E;const{placement:n,rects:r,middlewareData:s}=t,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,u=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[f,m]=tE(n),h={start:"0%",center:"50%",end:"100%"}[m],g=(((_=s.arrow)==null?void 0:_.x)??0)+u/2,x=(((E=s.arrow)==null?void 0:E.y)??0)+d/2;let v="",b="";return f==="bottom"?(v=a?h:`${g}px`,b=`${-d}px`):f==="top"?(v=a?h:`${g}px`,b=`${r.floating.height+d}px`):f==="right"?(v=`${-d}px`,b=a?h:`${x}px`):f==="left"&&(v=`${r.floating.width+d}px`,b=a?h:`${x}px`),{data:{x:v,y:b}}}});function tE(e){const[t,n="center"]=e.split("-");return[t,n]}var nE=X_,rx=J_,rE=Q_,sE=eE;function oE(e){const t=k.useRef({value:e,previous:e});return k.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lq="VisuallyHidden",iE=k.forwardRef((e,t)=>l.jsx(Xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));iE.displayName=Lq;var $q=[" ","Enter","ArrowUp","ArrowDown"],Bq=[" ","Enter"],Bc="Select",[hh,ph,Vq]=yG(Bc),[$a]=Oa(Bc,[Vq,fh]),mh=fh(),[Wq,ho]=$a(Bc),[Uq,Hq]=$a(Bc),aE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:h,disabled:g,required:x,form:v}=e,b=mh(t),[S,_]=k.useState(null),[E,w]=k.useState(null),[T,P]=k.useState(!1),C=vG(f),[R=!1,I]=vc({prop:r,defaultProp:s,onChange:i}),[A,U]=vc({prop:a,defaultProp:u,onChange:d}),$=k.useRef(null),H=S?v||!!S.closest("form"):!0,[Y,V]=k.useState(new Set),X=Array.from(Y).map(z=>z.props.value).join(";");return l.jsx(nE,{...b,children:l.jsxs(Wq,{required:x,scope:t,trigger:S,onTriggerChange:_,valueNode:E,onValueNodeChange:w,valueNodeHasChildren:T,onValueNodeHasChildrenChange:P,contentId:Qo(),value:A,onValueChange:U,open:R,onOpenChange:I,dir:C,triggerPointerDownPosRef:$,disabled:g,children:[l.jsx(hh.Provider,{scope:t,children:l.jsx(Uq,{scope:e.__scopeSelect,onNativeOptionAdd:k.useCallback(z=>{V(W=>new Set(W).add(z))},[]),onNativeOptionRemove:k.useCallback(z=>{V(W=>{const M=new Set(W);return M.delete(z),M})},[]),children:n})}),H?l.jsxs(RE,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:h,value:A,onChange:z=>U(z.target.value),disabled:g,form:v,children:[A===void 0?l.jsx("option",{value:""}):null,Array.from(Y)]},X):null]})})};aE.displayName=Bc;var lE="SelectTrigger",cE=k.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=mh(n),a=ho(lE,n),u=a.disabled||r,d=it(t,a.onTriggerChange),f=ph(n),m=k.useRef("touch"),[h,g,x]=PE(b=>{const S=f().filter(w=>!w.disabled),_=S.find(w=>w.value===a.value),E=IE(S,b,_);E!==void 0&&a.onValueChange(E.value)}),v=b=>{u||(a.onOpenChange(!0),x()),b&&(a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return l.jsx(rx,{asChild:!0,...i,children:l.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":NE(a.value)?"":void 0,...s,ref:d,onClick:Ke(s.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&v(b)}),onPointerDown:Ke(s.onPointerDown,b=>{m.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Ke(s.onKeyDown,b=>{const S=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(S&&b.key===" ")&&$q.includes(b.key)&&(v(),b.preventDefault())})})})});cE.displayName=lE;var uE="SelectValue",dE=k.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...u}=e,d=ho(uE,n),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,h=it(t,d.onValueNodeChange);return pn(()=>{f(m)},[f,m]),l.jsx(Xe.span,{...u,ref:h,style:{pointerEvents:"none"},children:NE(d.value)?l.jsx(l.Fragment,{children:a}):i})});dE.displayName=uE;var Gq="SelectIcon",fE=k.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});fE.displayName=Gq;var qq="SelectPortal",hE=e=>l.jsx(oh,{asChild:!0,...e});hE.displayName=qq;var li="SelectContent",pE=k.forwardRef((e,t)=>{const n=ho(li,e.__scopeSelect),[r,s]=k.useState();if(pn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ra.createPortal(l.jsx(mE,{scope:e.__scopeSelect,children:l.jsx(hh.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(gE,{...e,ref:t})});pE.displayName=li;var dr=10,[mE,po]=$a(li),Kq="SelectContentImpl",gE=k.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:x,sticky:v,hideWhenDetached:b,avoidCollisions:S,..._}=e,E=ho(li,n),[w,T]=k.useState(null),[P,C]=k.useState(null),R=it(t,ne=>T(ne)),[I,A]=k.useState(null),[U,$]=k.useState(null),H=ph(n),[Y,V]=k.useState(!1),X=k.useRef(!1);k.useEffect(()=>{if(w)return Uy(w)},[w]),Wy();const z=k.useCallback(ne=>{const[te,...se]=H().map(ue=>ue.ref.current),[le]=se.slice(-1),ce=document.activeElement;for(const ue of ne)if(ue===ce||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===te&&P&&(P.scrollTop=0),ue===le&&P&&(P.scrollTop=P.scrollHeight),ue==null||ue.focus(),document.activeElement!==ce))return},[H,P]),W=k.useCallback(()=>z([I,w]),[z,I,w]);k.useEffect(()=>{Y&&W()},[Y,W]);const{onOpenChange:M,triggerPointerDownPosRef:B}=E;k.useEffect(()=>{if(w){let ne={x:0,y:0};const te=le=>{var ce,ue;ne={x:Math.abs(Math.round(le.pageX)-(((ce=B.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(le.pageY)-(((ue=B.current)==null?void 0:ue.y)??0))}},se=le=>{ne.x<=10&&ne.y<=10?le.preventDefault():w.contains(le.target)||M(!1),document.removeEventListener("pointermove",te),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,M,B]),k.useEffect(()=>{const ne=()=>M(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[M]);const[O,D]=PE(ne=>{const te=H().filter(ce=>!ce.disabled),se=te.find(ce=>ce.ref.current===document.activeElement),le=IE(te,ne,se);le&&setTimeout(()=>le.ref.current.focus())}),L=k.useCallback((ne,te,se)=>{const le=!X.current&&!se;(E.value!==void 0&&E.value===te||le)&&(A(ne),le&&(X.current=!0))},[E.value]),K=k.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=k.useCallback((ne,te,se)=>{const le=!X.current&&!se;(E.value!==void 0&&E.value===te||le)&&$(ne)},[E.value]),q=r==="popper"?g0:yE,J=q===g0?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:x,sticky:v,hideWhenDetached:b,avoidCollisions:S}:{};return l.jsx(mE,{scope:n,content:w,viewport:P,onViewportChange:C,itemRefCallback:L,selectedItem:I,onItemLeave:K,itemTextRefCallback:Z,focusSelectedItem:W,selectedItemText:U,position:r,isPositioned:Y,searchRef:O,children:l.jsx(ah,{as:xs,allowPinchZoom:!0,children:l.jsx(sh,{asChild:!0,trapped:E.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ke(s,ne=>{var te;(te=E.trigger)==null||te.focus({preventScroll:!0}),ne.preventDefault()}),children:l.jsx(rh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:l.jsx(q,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ne=>ne.preventDefault(),..._,...J,onPlaced:()=>V(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ke(_.onKeyDown,ne=>{const te=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!te&&ne.key.length===1&&D(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let le=H().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ce=ne.target,ue=le.indexOf(ce);le=le.slice(ue+1)}setTimeout(()=>z(le)),ne.preventDefault()}})})})})})})});gE.displayName=Kq;var Xq="SelectItemAlignedPosition",yE=k.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=ho(li,n),a=po(li,n),[u,d]=k.useState(null),[f,m]=k.useState(null),h=it(t,R=>m(R)),g=ph(n),x=k.useRef(!1),v=k.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:_,focusSelectedItem:E}=a,w=k.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&b&&S&&_){const R=i.trigger.getBoundingClientRect(),I=f.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),U=_.getBoundingClientRect();if(i.dir!=="rtl"){const ce=U.left-I.left,ue=A.left-ce,ge=R.left-ue,Ee=R.width+ge,Oe=Math.max(Ee,I.width),Re=window.innerWidth-dr,We=uS(ue,[dr,Math.max(dr,Re-Oe)]);u.style.minWidth=Ee+"px",u.style.left=We+"px"}else{const ce=I.right-U.right,ue=window.innerWidth-A.right-ce,ge=window.innerWidth-R.right-ue,Ee=R.width+ge,Oe=Math.max(Ee,I.width),Re=window.innerWidth-dr,We=uS(ue,[dr,Math.max(dr,Re-Oe)]);u.style.minWidth=Ee+"px",u.style.right=We+"px"}const $=g(),H=window.innerHeight-dr*2,Y=b.scrollHeight,V=window.getComputedStyle(f),X=parseInt(V.borderTopWidth,10),z=parseInt(V.paddingTop,10),W=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),B=X+z+Y+M+W,O=Math.min(S.offsetHeight*5,B),D=window.getComputedStyle(b),L=parseInt(D.paddingTop,10),K=parseInt(D.paddingBottom,10),Z=R.top+R.height/2-dr,q=H-Z,J=S.offsetHeight/2,ne=S.offsetTop+J,te=X+z+ne,se=B-te;if(te<=Z){const ce=$.length>0&&S===$[$.length-1].ref.current;u.style.bottom="0px";const ue=f.clientHeight-b.offsetTop-b.offsetHeight,ge=Math.max(q,J+(ce?K:0)+ue+W),Ee=te+ge;u.style.height=Ee+"px"}else{const ce=$.length>0&&S===$[0].ref.current;u.style.top="0px";const ge=Math.max(Z,X+b.offsetTop+(ce?L:0)+J)+se;u.style.height=ge+"px",b.scrollTop=te-Z+b.offsetTop}u.style.margin=`${dr}px 0`,u.style.minHeight=O+"px",u.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,u,f,b,S,_,i.dir,r]);pn(()=>w(),[w]);const[T,P]=k.useState();pn(()=>{f&&P(window.getComputedStyle(f).zIndex)},[f]);const C=k.useCallback(R=>{R&&v.current===!0&&(w(),E==null||E(),v.current=!1)},[w,E]);return l.jsx(Jq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:l.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:l.jsx(Xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yE.displayName=Xq;var Yq="SelectPopperPosition",g0=k.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=dr,...i}=e,a=mh(n);return l.jsx(rE,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g0.displayName=Yq;var[Jq,sx]=$a(li,{}),y0="SelectViewport",xE=k.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=po(y0,n),a=sx(y0,n),u=it(t,i.onViewportChange),d=k.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(hh.Slot,{scope:n,children:l.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ke(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&h){const x=Math.abs(d.current-m.scrollTop);if(x>0){const v=window.innerHeight-dr*2,b=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),_=Math.max(b,S);if(_<v){const E=_+x,w=Math.min(v,E),T=E-w;h.style.height=w+"px",h.style.bottom==="0px"&&(m.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});xE.displayName=y0;var vE="SelectGroup",[Qq,Zq]=$a(vE),eK=k.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Qo();return l.jsx(Qq,{scope:n,id:s,children:l.jsx(Xe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});eK.displayName=vE;var bE="SelectLabel",tK=k.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Zq(bE,n);return l.jsx(Xe.div,{id:s.id,...r,ref:t})});tK.displayName=bE;var Nf="SelectItem",[nK,wE]=$a(Nf),SE=k.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,u=ho(Nf,n),d=po(Nf,n),f=u.value===r,[m,h]=k.useState(i??""),[g,x]=k.useState(!1),v=it(t,E=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,E,r,s)}),b=Qo(),S=k.useRef("touch"),_=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(nK,{scope:n,value:r,disabled:s,textId:b,isSelected:f,onItemTextChange:k.useCallback(E=>{h(w=>w||((E==null?void 0:E.textContent)??"").trim())},[]),children:l.jsx(hh.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:l.jsx(Xe.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:Ke(a.onFocus,()=>x(!0)),onBlur:Ke(a.onBlur,()=>x(!1)),onClick:Ke(a.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Ke(a.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Ke(a.onPointerDown,E=>{S.current=E.pointerType}),onPointerMove:Ke(a.onPointerMove,E=>{var w;S.current=E.pointerType,s?(w=d.onItemLeave)==null||w.call(d):S.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(a.onPointerLeave,E=>{var w;E.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:Ke(a.onKeyDown,E=>{var T;((T=d.searchRef)==null?void 0:T.current)!==""&&E.key===" "||(Bq.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});SE.displayName=Nf;var $l="SelectItemText",kE=k.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=ho($l,n),u=po($l,n),d=wE($l,n),f=Hq($l,n),[m,h]=k.useState(null),g=it(t,_=>h(_),d.onItemTextChange,_=>{var E;return(E=u.itemTextRefCallback)==null?void 0:E.call(u,_,d.value,d.disabled)}),x=m==null?void 0:m.textContent,v=k.useMemo(()=>l.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=f;return pn(()=>(b(v),()=>S(v)),[b,S,v]),l.jsxs(l.Fragment,{children:[l.jsx(Xe.span,{id:d.textId,...i,ref:g}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ra.createPortal(i.children,a.valueNode):null]})});kE.displayName=$l;var jE="SelectItemIndicator",CE=k.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return wE(jE,n).isSelected?l.jsx(Xe.span,{"aria-hidden":!0,...r,ref:t}):null});CE.displayName=jE;var x0="SelectScrollUpButton",_E=k.forwardRef((e,t)=>{const n=po(x0,e.__scopeSelect),r=sx(x0,e.__scopeSelect),[s,i]=k.useState(!1),a=it(t,r.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?l.jsx(TE,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});_E.displayName=x0;var v0="SelectScrollDownButton",EE=k.forwardRef((e,t)=>{const n=po(v0,e.__scopeSelect),r=sx(v0,e.__scopeSelect),[s,i]=k.useState(!1),a=it(t,r.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?l.jsx(TE,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});EE.displayName=v0;var TE=k.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=po("SelectScrollButton",n),a=k.useRef(null),u=ph(n),d=k.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return k.useEffect(()=>()=>d(),[d]),pn(()=>{var m;const f=u().find(h=>h.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),l.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ke(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ke(s.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ke(s.onPointerLeave,()=>{d()})})}),rK="SelectSeparator",sK=k.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Xe.div,{"aria-hidden":!0,...r,ref:t})});sK.displayName=rK;var b0="SelectArrow",oK=k.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=mh(n),i=ho(b0,n),a=po(b0,n);return i.open&&a.position==="popper"?l.jsx(sE,{...s,...r,ref:t}):null});oK.displayName=b0;function NE(e){return e===""||e===void 0}var RE=k.forwardRef((e,t)=>{const{value:n,...r}=e,s=k.useRef(null),i=it(t,s),a=oE(n);return k.useEffect(()=>{const u=s.current,d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==n&&m){const h=new Event("change",{bubbles:!0});m.call(u,n),u.dispatchEvent(h)}},[a,n]),l.jsx(iE,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});RE.displayName="BubbleSelect";function PE(e){const t=vs(e),n=k.useRef(""),r=k.useRef(0),s=k.useCallback(a=>{const u=n.current+a;t(u),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function IE(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=iK(e,Math.max(i,0));s.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function iK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aK=aE,lK=cE,cK=dE,uK=fE,dK=hE,fK=pE,hK=xE,pK=SE,mK=kE,gK=CE,yK=_E,xK=EE;function AE({...e}){return l.jsx(aK,{"data-slot":"select",...e})}function ME({...e}){return l.jsx(cK,{"data-slot":"select-value",...e})}function FE({className:e,size:t="default",children:n,...r}){return l.jsxs(lK,{"data-slot":"select-trigger","data-size":t,className:Dt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,l.jsx(uK,{asChild:!0,children:l.jsx(Pa,{className:"size-4 opacity-50"})})]})}function DE({className:e,children:t,position:n="popper",...r}){return l.jsx(dK,{children:l.jsxs(fK,{"data-slot":"select-content",className:Dt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(vK,{}),l.jsx(hK,{className:Dt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(bK,{})]})})}function Js({className:e,children:t,...n}){return l.jsxs(pK,{"data-slot":"select-item",className:Dt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(gK,{children:l.jsx(Nc,{className:"size-4"})})}),l.jsx(mK,{children:t})]})}function vK({className:e,...t}){return l.jsx(yK,{"data-slot":"select-scroll-up-button",className:Dt("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(cy,{className:"size-4"})})}function bK({className:e,...t}){return l.jsx(xK,{"data-slot":"select-scroll-down-button",className:Dt("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Pa,{className:"size-4"})})}var ox="Checkbox",[wK]=Oa(ox),[SK,kK]=wK(ox),OE=k.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:u,value:d="on",onCheckedChange:f,form:m,...h}=e,[g,x]=k.useState(null),v=it(t,T=>x(T)),b=k.useRef(!1),S=g?m||!!g.closest("form"):!0,[_=!1,E]=vc({prop:s,defaultProp:i,onChange:f}),w=k.useRef(_);return k.useEffect(()=>{const T=g==null?void 0:g.form;if(T){const P=()=>E(w.current);return T.addEventListener("reset",P),()=>T.removeEventListener("reset",P)}},[g,E]),l.jsxs(SK,{scope:n,state:_,disabled:u,children:[l.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":ro(_)?"mixed":_,"aria-required":a,"data-state":$E(_),"data-disabled":u?"":void 0,disabled:u,value:d,...h,ref:v,onKeyDown:Ke(e.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Ke(e.onClick,T=>{E(P=>ro(P)?!0:!P),S&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),S&&l.jsx(jK,{control:g,bubbles:!b.current,name:r,value:d,checked:_,required:a,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:ro(i)?!1:i})]})});OE.displayName=ox;var zE="CheckboxIndicator",LE=k.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=kK(zE,n);return l.jsx(ui,{present:r||ro(i.state)||i.state===!0,children:l.jsx(Xe.span,{"data-state":$E(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});LE.displayName=zE;var jK=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...i}=e,a=k.useRef(null),u=oE(n),d=G_(t);k.useEffect(()=>{const m=a.current,h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&x){const v=new Event("click",{bubbles:r});m.indeterminate=ro(n),x.call(m,ro(n)?!1:n),m.dispatchEvent(v)}},[u,n,r]);const f=k.useRef(ro(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??f.current,...i,tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ro(e){return e==="indeterminate"}function $E(e){return ro(e)?"indeterminate":e?"checked":"unchecked"}var CK=OE,_K=LE;function wc({className:e,...t}){return l.jsx(CK,{"data-slot":"checkbox",className:Dt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(_K,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(Nc,{className:"size-3.5"})})})}var ix="Popover",[BE]=Oa(ix,[fh]),Vc=fh(),[EK,mo]=BE(ix),VE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,u=Vc(t),d=k.useRef(null),[f,m]=k.useState(!1),[h=!1,g]=vc({prop:r,defaultProp:s,onChange:i});return l.jsx(nE,{...u,children:l.jsx(EK,{scope:t,contentId:Qo(),triggerRef:d,open:h,onOpenChange:g,onOpenToggle:k.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:f,onCustomAnchorAdd:k.useCallback(()=>m(!0),[]),onCustomAnchorRemove:k.useCallback(()=>m(!1),[]),modal:a,children:n})})};VE.displayName=ix;var WE="PopoverAnchor",TK=k.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=mo(WE,n),i=Vc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:u}=s;return k.useEffect(()=>(a(),()=>u()),[a,u]),l.jsx(rx,{...i,...r,ref:t})});TK.displayName=WE;var UE="PopoverTrigger",HE=k.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=mo(UE,n),i=Vc(n),a=it(t,s.triggerRef),u=l.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":YE(s.open),...r,ref:a,onClick:Ke(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:l.jsx(rx,{asChild:!0,...i,children:u})});HE.displayName=UE;var ax="PopoverPortal",[NK,RK]=BE(ax,{forceMount:void 0}),GE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=mo(ax,t);return l.jsx(NK,{scope:t,forceMount:n,children:l.jsx(ui,{present:n||i.open,children:l.jsx(oh,{asChild:!0,container:s,children:r})})})};GE.displayName=ax;var ka="PopoverContent",qE=k.forwardRef((e,t)=>{const n=RK(ka,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=mo(ka,e.__scopePopover);return l.jsx(ui,{present:r||i.open,children:i.modal?l.jsx(PK,{...s,ref:t}):l.jsx(IK,{...s,ref:t})})});qE.displayName=ka;var PK=k.forwardRef((e,t)=>{const n=mo(ka,e.__scopePopover),r=k.useRef(null),s=it(t,r),i=k.useRef(!1);return k.useEffect(()=>{const a=r.current;if(a)return Uy(a)},[]),l.jsx(ah,{as:xs,allowPinchZoom:!0,children:l.jsx(KE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),i.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),IK=k.forwardRef((e,t)=>{const n=mo(ka,e.__scopePopover),r=k.useRef(!1),s=k.useRef(!1);return l.jsx(KE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),KE=k.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...h}=e,g=mo(ka,n),x=Vc(n);return Wy(),l.jsx(sh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(rh,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:l.jsx(rE,{"data-state":YE(g.open),role:"dialog",id:g.contentId,...x,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),XE="PopoverClose",AK=k.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=mo(XE,n);return l.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>s.onOpenChange(!1))})});AK.displayName=XE;var MK="PopoverArrow",FK=k.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Vc(n);return l.jsx(sE,{...s,...r,ref:t})});FK.displayName=MK;function YE(e){return e?"open":"closed"}var DK=VE,OK=HE,zK=GE,LK=qE;function $K({...e}){return l.jsx(DK,{"data-slot":"popover",...e})}function BK({...e}){return l.jsx(OK,{"data-slot":"popover-trigger",...e})}function VK({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(zK,{children:l.jsx(LK,{"data-slot":"popover-content",align:t,sideOffset:n,className:Dt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function WK({selectedGuestIds:e,onSelectionChange:t}){const{guests:n,loading:r,fetchGuests:s}=Ac(),[i,a]=k.useState(""),[u,d]=k.useState({category:[],invitation_type:[],rsvp_status:[],tags:[],has_plus_one:null}),f=k.useMemo(()=>{const C=new Set,R=new Set,I=new Set,A=new Set;return n.forEach(U=>{var $;C.add(U.category),R.add(U.invitation_type),I.add(U.rsvp_status),($=U.tags)==null||$.forEach(H=>A.add(H))}),{categories:Array.from(C).sort(),invitationTypes:Array.from(R).sort(),rsvpStatuses:Array.from(I).sort(),tags:Array.from(A).sort()}},[n]),m=k.useMemo(()=>n.filter(C=>{var R,I;if(i){const A=i.toLowerCase();if(!(C.name.toLowerCase().includes(A)||C.phone.includes(A)||((R=C.email)==null?void 0:R.toLowerCase().includes(A))||((I=C.tags)==null?void 0:I.some($=>$.toLowerCase().includes(A)))))return!1}return!(u.category.length>0&&!u.category.includes(C.category)||u.invitation_type.length>0&&!u.invitation_type.includes(C.invitation_type)||u.rsvp_status.length>0&&!u.rsvp_status.includes(C.rsvp_status)||u.tags.length>0&&!u.tags.some(U=>{var $;return($=C.tags)==null?void 0:$.includes(U)})||u.has_plus_one!==null&&C.plus_one!==u.has_plus_one)}),[n,i,u]),h=C=>e.includes(C),g=m.length>0&&m.every(C=>e.includes(C.id)),x=m.some(C=>e.includes(C.id))&&!g,v=C=>{h(C)?t(e.filter(R=>R!==C)):t([...e,C])},b=()=>{const C=m.map(I=>I.id),R=[...new Set([...e,...C])];t(R)},S=()=>{const C=new Set(m.map(R=>R.id));t(e.filter(R=>!C.has(R)))},_=()=>{g?S():b()},E=()=>{a(""),d({category:[],invitation_type:[],rsvp_status:[],tags:[],has_plus_one:null})},w=i||u.category.length>0||u.invitation_type.length>0||u.rsvp_status.length>0||u.tags.length>0||u.has_plus_one!==null,T=C=>({family:"bg-purple-100 text-purple-800",friend:"bg-blue-100 text-blue-800",colleague:"bg-green-100 text-green-800",vip:"bg-amber-100 text-amber-800",other:"bg-gray-100 text-gray-800"})[C]||"bg-gray-100 text-gray-800",P=C=>({confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",declined:"bg-red-100 text-red-800",maybe:"bg-orange-100 text-orange-800"})[C]||"bg-gray-100 text-gray-800";return r?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(Ct,{className:"h-8 w-8 animate-spin text-blue-600"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Loading guests..."})]}):n.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed",children:[l.jsx(Jt,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Guests Found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Add guests to your project first before creating a campaign."}),l.jsxs(nt,{variant:"outline",onClick:()=>s(),children:[l.jsx(c4,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Oj,{className:"h-5 w-5 text-blue-600"}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-blue-900",children:[e.length," of ",n.length," guests selected"]}),w&&l.jsxs("span",{className:"text-sm text-blue-700 ml-2",children:["(",m.length," shown after filters)"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nt,{variant:"outline",size:"sm",onClick:b,children:"Select All Shown"}),l.jsx(nt,{variant:"outline",size:"sm",onClick:S,children:"Deselect All Shown"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(nh,{placeholder:"Search by name, phone, email, or tags...",value:i,onChange:C=>a(C.target.value),className:"pl-9"}),i&&l.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(hn,{className:"h-4 w-4"})})]}),w&&l.jsxs(nt,{variant:"ghost",size:"sm",onClick:E,children:[l.jsx(hn,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"w-12 px-4 py-3",children:l.jsx(wc,{checked:g,indeterminate:x,onCheckedChange:_})}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Name"}),l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx(Fd,{label:"Category",options:f.categories,selectedValues:u.category,onChange:C=>d({...u,category:C}),renderOption:C=>l.jsx("span",{className:"capitalize",children:C})})}),l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx(Fd,{label:"RSVP",options:f.rsvpStatuses,selectedValues:u.rsvp_status,onChange:C=>d({...u,rsvp_status:C}),renderOption:C=>l.jsx("span",{className:"capitalize",children:C})})}),l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx(Fd,{label:"Invitation",options:f.invitationTypes,selectedValues:u.invitation_type,onChange:C=>d({...u,invitation_type:C}),renderOption:C=>l.jsx("span",{className:"capitalize",children:C.replace("_"," ")})})}),l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx(Fd,{label:"Tags",options:f.tags,selectedValues:u.tags,onChange:C=>d({...u,tags:C}),renderOption:C=>l.jsx("span",{children:C})})}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"+1"})]})}),l.jsx("tbody",{className:"divide-y",children:m.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:["No guests match your current filters.",w&&l.jsx(nt,{variant:"link",onClick:E,className:"ml-2",children:"Clear filters"})]})}):m.map(C=>{var R;return l.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${h(C.id)?"bg-blue-50":""}`,onClick:()=>v(C.id),children:[l.jsx("td",{className:"px-4 py-3",onClick:I=>I.stopPropagation(),children:l.jsx(wc,{checked:h(C.id),onCheckedChange:()=>v(C.id)})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:C.name}),l.jsx("div",{className:"text-sm text-gray-500",children:C.phone})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${T(C.category)}`,children:C.category})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${P(C.rsvp_status)}`,children:C.rsvp_status})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 capitalize",children:C.invitation_type.replace("_"," ")}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[(R=C.tags)==null?void 0:R.slice(0,2).map(I=>l.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:I},I)),C.tags&&C.tags.length>2&&l.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.tags.length-2]})]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:C.plus_one?l.jsx(Nc,{className:"h-4 w-4 text-green-600 mx-auto"}):l.jsx("span",{className:"text-gray-300",children:"-"})})]},C.id)})})]})})}),l.jsx("div",{className:"text-sm text-gray-500",children:w?l.jsxs("span",{children:["Showing ",m.length," of ",n.length," guests"]}):l.jsxs("span",{children:["Showing all ",n.length," guests"]})})]})}function Fd({label:e,options:t,selectedValues:n,onChange:r,renderOption:s}){const[i,a]=k.useState(!1),[u,d]=k.useState(""),f=t.filter(v=>v.toLowerCase().includes(u.toLowerCase())),m=v=>{n.includes(v)?r(n.filter(b=>b!==v)):r([...n,v])},h=()=>{r([...t])},g=()=>{r([])},x=n.length>0;return l.jsxs($K,{open:i,onOpenChange:a,children:[l.jsx(BK,{asChild:!0,children:l.jsxs("button",{className:`flex items-center gap-1 text-sm font-medium transition-colors ${x?"text-blue-600":"text-gray-700 hover:text-gray-900"}`,children:[e,x&&l.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full",children:n.length}),l.jsx(Pa,{className:"h-4 w-4"})]})}),l.jsxs(VK,{className:"w-56 p-2",align:"start",children:[t.length>5&&l.jsx("div",{className:"mb-2",children:l.jsx(nh,{placeholder:`Search ${e.toLowerCase()}...`,value:u,onChange:v=>d(v.target.value),className:"h-8 text-sm"})}),l.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b",children:[l.jsx("button",{onClick:h,className:"text-xs text-blue-600 hover:text-blue-800",children:"Select All"}),l.jsx("button",{onClick:g,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear"})]}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:f.length===0?l.jsx("div",{className:"text-sm text-gray-500 py-2 text-center",children:"No options found"}):f.map(v=>l.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-gray-100 cursor-pointer",children:[l.jsx(wc,{checked:n.includes(v),onCheckedChange:()=>m(v)}),l.jsx("span",{className:"text-sm",children:s(v)})]},v))})]})]})}function UK({open:e,onClose:t,onSuccess:n}){const{createCampaign:r}=By(),{chatflows:s,fetchChatflows:i}=Sy(),{selectedProject:a}=kr(),{guests:u}=Ac(),[d,f]=k.useState(1),[m,h]=k.useState(!1),[g,x]=k.useState({name:"",description:"",chatflow_id:""}),[v,b]=k.useState([]);k.useEffect(()=>{e&&(a!=null&&a.id)&&i({projectId:a.id})},[e,a==null?void 0:a.id]),k.useEffect(()=>{e&&(f(1),x({name:"",description:"",chatflow_id:""}),b(u.map(C=>C.id)))},[e,u]);const S=()=>{if(d===1){if(!g.name.trim()){ve.error("Please enter a campaign name");return}if(!g.chatflow_id){ve.error("Please select a chatflow");return}}f(d+1)},_=()=>{f(d-1)},E=async()=>{if(!(a!=null&&a.id)){ve.error("No project selected");return}if(v.length===0){ve.error("Please select at least one guest");return}h(!0);try{const C={name:g.name,description:g.description||void 0,chatflow_id:g.chatflow_id,guest_filter:{custom_guest_ids:v},trigger_type:"manual"};await r(C,a.id),ve.success("Campaign created successfully!"),n==null||n(),w()}catch(C){ve.error(C.message||"Failed to create campaign")}finally{h(!1)}},w=()=>{f(1),x({name:"",description:"",chatflow_id:""}),b([]),t()},T=s.filter(C=>C.status==="active"||C.status==="draft"),P=[{number:1,title:"Campaign Setup",description:"Name, description & chatflow"},{number:2,title:"Select Guests",description:"Choose target audience"}];return l.jsx(cG,{open:e,onOpenChange:w,children:l.jsxs(fG,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs(hG,{children:[l.jsx(mG,{children:"Create New Campaign"}),l.jsx(gG,{children:"Create a campaign to send WhatsApp messages to selected guests"})]}),l.jsx("div",{className:"flex items-center justify-center gap-8 py-4 border-b",children:P.map((C,R)=>l.jsxs(pe.Fragment,{children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${d>C.number?"bg-green-600 border-green-600 text-white":d===C.number?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-400"}`,children:d>C.number?l.jsx(Nc,{className:"h-5 w-5"}):C.number}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:`text-sm font-medium ${d>=C.number?"text-gray-900":"text-gray-400"}`,children:C.title}),l.jsx("div",{className:"text-xs text-gray-500",children:C.description})]})]}),R<P.length-1&&l.jsx("div",{className:`w-16 h-0.5 ${d>C.number?"bg-green-600":"bg-gray-300"}`})]},C.number))}),l.jsxs("div",{className:"flex-1 overflow-y-auto py-4 px-1",children:[d===1&&l.jsx(HK,{formData:g,setFormData:x,chatflows:T}),d===2&&l.jsx(WK,{selectedGuestIds:v,onSelectionChange:b})]}),l.jsxs(pG,{className:"flex items-center justify-between border-t pt-4",children:[l.jsx("div",{className:"flex gap-2",children:d>1&&l.jsxs(nt,{variant:"outline",onClick:_,disabled:m,children:[l.jsx(ly,{className:"h-4 w-4 mr-1"}),"Back"]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[d===2&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Jt,{className:"h-4 w-4"}),l.jsxs("span",{children:[v.length," guests selected"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(nt,{variant:"ghost",onClick:w,disabled:m,children:"Cancel"}),d<2?l.jsxs(nt,{onClick:S,children:["Next",l.jsx(Nj,{className:"h-4 w-4 ml-1"})]}):l.jsx(nt,{onClick:E,disabled:m||v.length===0,children:m?l.jsxs(l.Fragment,{children:[l.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:["Create Campaign",l.jsx(ei,{className:"h-4 w-4 ml-2"})]})})]})]})]})]})})}function HK({formData:e,setFormData:t,chatflows:n}){return l.jsxs("div",{className:"space-y-6 max-w-xl mx-auto",children:[l.jsxs("div",{children:[l.jsx(Zm,{htmlFor:"name",className:"text-base font-medium",children:"Campaign Name *"}),l.jsx(nh,{id:"name",value:e.name,onChange:r=>t({...e,name:r.target.value}),placeholder:"e.g., VIP Initial Invitation",className:"mt-2"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a descriptive name to identify this campaign"})]}),l.jsxs("div",{children:[l.jsx(Zm,{htmlFor:"description",className:"text-base font-medium",children:"Description (Optional)"}),l.jsx(zU,{id:"description",value:e.description,onChange:r=>t({...e,description:r.target.value}),placeholder:"Describe the purpose of this campaign...",rows:3,className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx(Zm,{htmlFor:"chatflow",className:"text-base font-medium",children:"Select Chatflow *"}),l.jsxs(AE,{value:e.chatflow_id,onValueChange:r=>t({...e,chatflow_id:r}),children:[l.jsx(FE,{className:"mt-2",children:l.jsx(ME,{placeholder:"Choose a chatflow to use"})}),l.jsx(DE,{children:n.length===0?l.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No active chatflows available. Create one first in Chatflow Studio."}):n.map(r=>l.jsx(Js,{value:r.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ei,{className:"h-4 w-4 text-gray-400"}),r.name]})},r.id))})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The chatflow defines the message sequence that will be sent to guests"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"How it works"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsx("li",{children:"1. Set up your campaign name and select a chatflow"}),l.jsx("li",{children:"2. Choose which guests to include in this campaign"}),l.jsx("li",{children:"3. Start the campaign to begin sending messages"})]})]})]})}const GK=JC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function JE({className:e,variant:t,asChild:n=!1,...r}){const s=n?xs:"span";return l.jsx(s,{"data-slot":"badge",className:Dt(GK({variant:t}),e),...r})}function QE({status:e,className:t=""}){const r={draft:{label:"Draft",variant:"secondary",className:"bg-gray-100 text-gray-800 hover:bg-gray-100"},ready:{label:"Ready",variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-100"},running:{label:"Running",variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-100"},paused:{label:"Paused",variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"},completed:{label:"Completed",variant:"secondary",className:"bg-purple-100 text-purple-800 hover:bg-purple-100"},archived:{label:"Archived",variant:"secondary",className:"bg-gray-100 text-gray-600 hover:bg-gray-100"}}[e];return l.jsx(JE,{variant:r.variant,className:`${r.className} ${t}`,children:r.label})}function qK(){const{campaigns:e,loading:t,error:n,fetchCampaigns:r}=By(),{selectedProject:s}=kr(),{guests:i,seedSampleGuests:a,loading:u}=Ac();Ot();const[d,f]=k.useState(!1),[m,h]=k.useState(!1),[g,x]=k.useState(null);k.useEffect(()=>{s!=null&&s.id&&r(s.id)},[s==null?void 0:s.id]);const v=()=>{s!=null&&s.id&&r(s.id)},b=async()=>{try{h(!0),x(null);const S=await a(!0);x(`Berhasil menambahkan ${S.length} sample guests!`),setTimeout(()=>x(null),5e3)}catch(S){x(`Error: ${S instanceof Error?S.message:"Failed to seed guests"}`)}finally{h(!1)}};return s?l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Operation Center"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Create and manage WhatsApp campaigns for your guests"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg",children:[l.jsx(Jt,{className:"h-4 w-4 text-gray-600"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[i.length," guests"]})]}),l.jsxs(nt,{variant:"outline",onClick:b,disabled:m,className:"flex items-center gap-2",children:[m?l.jsx(Ct,{className:"h-4 w-4 animate-spin"}):l.jsx(b4,{className:"h-4 w-4"}),m?"Seeding...":"Seed Sample Guests"]}),l.jsxs(nt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[l.jsx(Fn,{className:"h-4 w-4"}),"Create Campaign"]})]})]}),g&&l.jsx("div",{className:`mb-6 p-4 rounded-lg ${g.startsWith("Error")?"bg-red-50 border border-red-200 text-red-800":"bg-green-50 border border-green-200 text-green-800"}`,children:l.jsx("p",{children:g})}),n&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-800",children:n})}),t&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Ct,{className:"h-8 w-8 animate-spin text-blue-600"})}),!t&&!n&&e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Fn,{className:"h-12 w-12 text-gray-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Campaigns Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first campaign to start sending WhatsApp messages to guests"}),l.jsxs(nt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[l.jsx(Fn,{className:"h-4 w-4"}),"Create First Campaign"]})]}),!t&&e.length>0&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(S=>l.jsx(KK,{campaign:S},S.id))}),l.jsx(UK,{open:d,onClose:()=>f(!1),onSuccess:v})]}):l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"No Project Selected"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Please select a project to view campaigns"})]})})}function KK({campaign:e}){var r;const t=Ot(),n=()=>{t(`/kabar-in/operation/${e.id}`)};return l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:n,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),l.jsx(QE,{status:e.status})]}),e.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Chatflow:"}),l.jsx("span",{className:"font-medium text-gray-900 truncate ml-2",children:e.chatflow_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Total Guests:"}),l.jsx("span",{className:"font-medium text-gray-900",children:((r=e.stats)==null?void 0:r.total_guests)||0})]}),e.stats&&e.status==="running"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Running:"}),l.jsx("span",{className:"font-medium text-green-600",children:e.stats.executions_running})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Completed:"}),l.jsx("span",{className:"font-medium text-purple-600",children:e.stats.executions_completed})]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:l.jsx(nt,{variant:"outline",size:"sm",className:"w-full",onClick:s=>{s.stopPropagation(),n()},children:"View Details"})})]})}async function Lo(e){const t=await e.text();try{return JSON.parse(t)}catch{throw console.error("Failed to parse JSON:",t),new Error("Invalid JSON response from server")}}const ZE=k.createContext(void 0);function XK({children:e}){const{user:t,accessToken:n}=Qt(),[r,s]=k.useState([]),[i,a]=k.useState(!1),[u,d]=k.useState(null),f=`https://${Yn}.supabase.co/functions/v1/make-server-deeab278`,m=async P=>{if(!t||!n){s([]);return}try{a(!0),d(null);const C=await fetch(`${f}/campaigns/${P}/executions`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}}),R=await Lo(C);if(!C.ok)throw new Error(R.error||"Failed to fetch executions");s(R.executions||[])}catch(C){console.error("Error fetching executions:",C),d(C.message||"Failed to fetch executions"),s([])}finally{a(!1)}},h=async P=>{if(!t||!n)return null;try{const C=await fetch(`${f}/executions/${P}`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}}),R=await Lo(C);if(!C.ok)throw new Error(R.error||"Failed to fetch execution");return R.execution}catch(C){return console.error("Error fetching execution:",C),d(C.message||"Failed to fetch execution"),null}},T={executions:r,loading:i,error:u,fetchExecutions:m,getExecutionById:h,getExecutionMessages:async P=>{if(!t||!n)return[];try{const C=await fetch(`${f}/executions/${P}/messages`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}}),R=await Lo(C);if(!C.ok)throw new Error(R.error||"Failed to fetch messages");return R.messages||[]}catch(C){return console.error("Error fetching messages:",C),d(C.message||"Failed to fetch messages"),[]}},retryExecution:async P=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const C=await fetch(`${f}/executions/${P}/retry`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!C.ok){const I=await C.json();throw new Error(I.error||"Failed to retry execution")}const R=await h(P);R&&s(I=>I.map(A=>A.id===P?R:A))}catch(C){throw console.error("Error retrying execution:",C),d(C.message||"Failed to retry execution"),C}},pauseExecution:async P=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const C=await fetch(`${f}/executions/${P}/pause`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!C.ok){const R=await C.json();throw new Error(R.error||"Failed to pause execution")}s(R=>R.map(I=>I.id===P?{...I,status:"paused",paused_at:new Date().toISOString()}:I))}catch(C){throw console.error("Error pausing execution:",C),d(C.message||"Failed to pause execution"),C}},resumeExecution:async P=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const C=await fetch(`${f}/executions/${P}/resume`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(!C.ok){const I=await C.json();throw new Error(I.error||"Failed to resume execution")}const R=await h(P);R&&s(I=>I.map(A=>A.id===P?R:A))}catch(C){throw console.error("Error resuming execution:",C),d(C.message||"Failed to resume execution"),C}},bulkRetryExecutions:async(P,C)=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const R=await fetch(`${f}/executions/bulk-retry`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({execution_ids:C,campaign_id:P})}),I=await Lo(R);if(!R.ok)throw new Error(I.error||"Failed to bulk retry executions");return await m(P),I.result}catch(R){throw console.error("Error bulk retrying executions:",R),d(R.message||"Failed to bulk retry executions"),R}},bulkPauseExecutions:async P=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const C=await fetch(`${f}/executions/bulk-pause`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({execution_ids:P})}),R=await Lo(C);if(!C.ok)throw new Error(R.error||"Failed to bulk pause executions");const I=new Date().toISOString();return s(A=>A.map(U=>R.result.succeeded.includes(U.id)?{...U,status:"paused",paused_at:I}:U)),R.result}catch(C){throw console.error("Error bulk pausing executions:",C),d(C.message||"Failed to bulk pause executions"),C}},bulkResumeExecutions:async(P,C)=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const R=await fetch(`${f}/executions/bulk-resume`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({execution_ids:C,campaign_id:P})}),I=await Lo(R);if(!R.ok)throw new Error(I.error||"Failed to bulk resume executions");return await m(P),I.result}catch(R){throw console.error("Error bulk resuming executions:",R),d(R.message||"Failed to bulk resume executions"),R}},bulkCancelExecutions:async P=>{if(!t||!n)throw new Error("User not authenticated");try{d(null);const C=await fetch(`${f}/executions/bulk-cancel`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"},body:JSON.stringify({execution_ids:P})}),R=await Lo(C);if(!C.ok)throw new Error(R.error||"Failed to bulk cancel executions");return s(I=>I.map(A=>R.result.succeeded.includes(A.id)?{...A,status:"cancelled"}:A)),R.result}catch(C){throw console.error("Error bulk cancelling executions:",C),d(C.message||"Failed to bulk cancel executions"),C}}};return l.jsx(ZE.Provider,{value:T,children:e})}function lx(){const e=k.useContext(ZE);if(e===void 0)throw new Error("useExecutions must be used within an ExecutionProvider");return e}function YK({status:e,showIcon:t=!0,className:n=""}){const s={pending:{label:"Pending",icon:Ur,className:"bg-gray-100 text-gray-700 hover:bg-gray-100"},pending_session:{label:"Waiting Session",icon:W3,className:"bg-orange-100 text-orange-700 hover:bg-orange-100"},queued:{label:"Queued",icon:Ur,className:"bg-blue-100 text-blue-700 hover:bg-blue-100"},running:{label:"Running",icon:Ct,className:"bg-green-100 text-green-700 hover:bg-green-100",iconClassName:"animate-spin"},paused:{label:"Paused",icon:hy,className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100"},completed:{label:"Completed",icon:Of,className:"bg-purple-100 text-purple-700 hover:bg-purple-100"},failed:{label:"Failed",icon:lo,className:"bg-red-100 text-red-700 hover:bg-red-100"},cancelled:{label:"Cancelled",icon:iy,className:"bg-gray-100 text-gray-600 hover:bg-gray-100"}}[e],i=s.icon;return l.jsxs(JE,{variant:"secondary",className:`${s.className} ${n} flex items-center gap-1`,children:[t&&l.jsx(i,{className:`h-3 w-3 ${s.iconClassName||""}`}),s.label]})}function JK({phase:e,className:t=""}){const n={"Blasting Phase":{icon:Rc,color:"text-blue-700",bgColor:"bg-blue-100"},"Response Phase":{icon:Fj,color:"text-green-700",bgColor:"bg-green-100"},"Processing Phase":{icon:dy,color:"text-purple-700",bgColor:"bg-purple-100"},"Follow-up Phase":{icon:Ur,color:"text-orange-700",bgColor:"bg-orange-100"},Completion:{icon:Of,color:"text-green-700",bgColor:"bg-green-100"}},r=n[e]||n["Processing Phase"],s=r.icon;return l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${r.bgColor} ${t}`,children:[l.jsx(s,{className:`h-4 w-4 ${r.color}`}),l.jsx("span",{className:`text-sm font-medium ${r.color}`,children:e})]})}function QK({progress:e,className:t="",showLabel:n=!0,size:r="md",color:s="blue"}){const i=Math.min(Math.max(e,0),100),a={sm:"h-1",md:"h-2",lg:"h-3"},u={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",yellow:"bg-yellow-600",red:"bg-red-600"};return l.jsxs("div",{className:`w-full ${t}`,children:[n&&l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Progress"}),l.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[i.toFixed(0),"%"]})]}),l.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${a[r]}`,children:l.jsx("div",{className:`${u[s]} ${a[r]} rounded-full transition-all duration-300 ease-out`,style:{width:`${i}%`}})})]})}function ZK({campaignId:e,selectedIds:t,onComplete:n}){const{bulkRetryExecutions:r,bulkPauseExecutions:s,bulkResumeExecutions:i,bulkCancelExecutions:a}=lx(),[u,d]=k.useState(!1),f=async()=>{d(!0);try{const x=await r(e,t);x.succeeded.length>0&&ve.success(`${x.succeeded.length} execution(s) retried successfully`),x.failed.length>0&&ve.error(`${x.failed.length} execution(s) failed to retry`),n()}catch(x){ve.error(x.message||"Failed to retry executions")}finally{d(!1)}},m=async()=>{d(!0);try{const x=await s(t);x.succeeded.length>0&&ve.success(`${x.succeeded.length} execution(s) paused successfully`),x.failed.length>0&&ve.error(`${x.failed.length} execution(s) failed to pause`),n()}catch(x){ve.error(x.message||"Failed to pause executions")}finally{d(!1)}},h=async()=>{d(!0);try{const x=await i(e,t);x.succeeded.length>0&&ve.success(`${x.succeeded.length} execution(s) resumed successfully`),x.failed.length>0&&ve.error(`${x.failed.length} execution(s) failed to resume`),n()}catch(x){ve.error(x.message||"Failed to resume executions")}finally{d(!1)}},g=async()=>{if(confirm(`Are you sure you want to cancel ${t.length} execution(s)?`)){d(!0);try{const x=await a(t);x.succeeded.length>0&&ve.success(`${x.succeeded.length} execution(s) cancelled successfully`),x.failed.length>0&&ve.error(`${x.failed.length} execution(s) failed to cancel`),n()}catch(x){ve.error(x.message||"Failed to cancel executions")}finally{d(!1)}}};return l.jsx("div",{className:"bg-blue-50 border-y border-blue-200 px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[t.length," execution(s) selected"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(nt,{variant:"outline",size:"sm",onClick:f,disabled:u,className:"bg-white",children:[u?l.jsx(Ct,{className:"h-4 w-4 mr-1 animate-spin"}):l.jsx(my,{className:"h-4 w-4 mr-1"}),"Retry"]}),l.jsxs(nt,{variant:"outline",size:"sm",onClick:m,disabled:u,className:"bg-white",children:[u?l.jsx(Ct,{className:"h-4 w-4 mr-1 animate-spin"}):l.jsx(hy,{className:"h-4 w-4 mr-1"}),"Pause"]}),l.jsxs(nt,{variant:"outline",size:"sm",onClick:h,disabled:u,className:"bg-white",children:[u?l.jsx(Ct,{className:"h-4 w-4 mr-1 animate-spin"}):l.jsx(nc,{className:"h-4 w-4 mr-1"}),"Resume"]}),l.jsxs(nt,{variant:"outline",size:"sm",onClick:g,disabled:u,className:"bg-white text-red-600 hover:text-red-700",children:[u?l.jsx(Ct,{className:"h-4 w-4 mr-1 animate-spin"}):l.jsx(iy,{className:"h-4 w-4 mr-1"}),"Cancel"]}),l.jsx(nt,{variant:"ghost",size:"sm",onClick:n,disabled:u,className:"ml-2",children:l.jsx(hn,{className:"h-4 w-4"})})]})]})})}function eX({campaignId:e}){const{executions:t,loading:n,fetchExecutions:r}=lx(),[s,i]=k.useState(""),[a,u]=k.useState("all"),[d,f]=k.useState([]);k.useEffect(()=>{r(e)},[e]);const m=t.filter(S=>{const _=s===""||S.guest_name.toLowerCase().includes(s.toLowerCase())||S.guest_phone.includes(s),E=a==="all"||S.status===a;return _&&E}),h=S=>{f(S?m.map(_=>_.id):[])},g=(S,_)=>{f(_?[...d,S]:d.filter(E=>E!==S))},x=()=>{f([]),r(e)},v=m.length>0&&d.length===m.length,b=d.length>0&&d.length<m.length;return n&&t.length===0?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Ct,{className:"h-8 w-8 animate-spin text-blue-600"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(nh,{placeholder:"Search by name or phone...",value:s,onChange:S=>i(S.target.value),className:"pl-10"})]}),l.jsxs(AE,{value:a,onValueChange:S=>u(S),children:[l.jsx(FE,{className:"w-full sm:w-[180px]",children:l.jsx(ME,{placeholder:"Filter by status"})}),l.jsxs(DE,{children:[l.jsx(Js,{value:"all",children:"All Statuses"}),l.jsx(Js,{value:"pending",children:"Pending"}),l.jsx(Js,{value:"running",children:"Running"}),l.jsx(Js,{value:"paused",children:"Paused"}),l.jsx(Js,{value:"completed",children:"Completed"}),l.jsx(Js,{value:"failed",children:"Failed"}),l.jsx(Js,{value:"cancelled",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",m.length," of ",t.length," executions"]})]}),d.length>0&&l.jsx(ZK,{campaignId:e,selectedIds:d,onComplete:x}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:l.jsx(wc,{checked:v,onCheckedChange:h,"aria-label":"Select all",className:b?"data-[state=checked]:bg-blue-600":""})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Guest"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Phase"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Progress"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:m.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"No executions found"})}):m.map(S=>l.jsx(tX,{execution:S,selected:d.includes(S.id),onSelect:_=>g(S.id,_)},S.id))})]})})]})}function tX({execution:e,selected:t,onSelect:n}){const r=e.node_history.filter(a=>a.status==="completed").length,s=e.node_history.length||1,i=r/s*100;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx(wc,{checked:t,onCheckedChange:n})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.guest_name}),l.jsx("div",{className:"text-sm text-gray-500",children:e.guest_phone})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx(YK,{status:e.status})}),l.jsx("td",{className:"px-4 py-4",children:e.current_phase?l.jsx(JK,{phase:e.current_phase}):l.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"w-32",children:[l.jsx(QK,{progress:i,size:"sm",showLabel:!1}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r,"/",s," nodes"]})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx(nt,{variant:"ghost",size:"sm",children:"View Details"})})]})}function nX(){const{campaignId:e}=mj(),t=Ot(),{getCampaignById:n,startCampaign:r,pauseCampaign:s,resumeCampaign:i,cancelCampaign:a}=By(),{fetchExecutions:u}=lx(),[d,f]=k.useState(null),[m,h]=k.useState(!0),[g,x]=k.useState(!1);k.useEffect(()=>{e&&(v(),u(e))},[e]),k.useEffect(()=>{if((d==null?void 0:d.status)==="running"){const w=setInterval(()=>{v(),e&&u(e)},5e3);return()=>clearInterval(w)}},[d==null?void 0:d.status,e]);const v=async()=>{if(e)try{h(!0);const w=await n(e);f(w)}catch(w){console.error("Failed to load campaign:",w),ve.error("Failed to load campaign")}finally{h(!1)}},b=async()=>{if(e){x(!0);try{await r(e),ve.success("Campaign started successfully!"),await v(),e&&u(e)}catch(w){ve.error(w.message||"Failed to start campaign")}finally{x(!1)}}},S=async()=>{if(e){x(!0);try{await s(e),ve.success("Campaign paused"),await v()}catch(w){ve.error(w.message||"Failed to pause campaign")}finally{x(!1)}}},_=async()=>{if(e){x(!0);try{await i(e),ve.success("Campaign resumed"),await v()}catch(w){ve.error(w.message||"Failed to resume campaign")}finally{x(!1)}}},E=async()=>{if(e&&confirm("Are you sure you want to cancel this campaign?")){x(!0);try{await a(e),ve.success("Campaign cancelled"),await v()}catch(w){ve.error(w.message||"Failed to cancel campaign")}finally{x(!1)}}};return m?l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Ct,{className:"h-8 w-8 animate-spin text-blue-600"})})}):d?l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs(nt,{variant:"ghost",onClick:()=>t("/kabar-in/operation"),className:"mb-4",children:[l.jsx(ly,{className:"h-4 w-4 mr-1"}),"Back to Campaigns"]}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:d.name}),l.jsx(QE,{status:d.status})]}),d.description&&l.jsx("p",{className:"text-gray-600",children:d.description}),l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Chatflow: ",l.jsx("span",{className:"font-medium text-gray-700",children:d.chatflow_name})]})]}),l.jsxs("div",{className:"flex gap-2",children:[d.status==="draft"&&l.jsxs(nt,{onClick:b,disabled:g,children:[g?l.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(nc,{className:"h-4 w-4 mr-2"}),"Start Campaign"]}),d.status==="running"&&l.jsxs(nt,{onClick:S,disabled:g,variant:"outline",children:[g?l.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(hy,{className:"h-4 w-4 mr-2"}),"Pause"]}),d.status==="paused"&&l.jsxs(l.Fragment,{children:[l.jsxs(nt,{onClick:_,disabled:g,children:[g?l.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(nc,{className:"h-4 w-4 mr-2"}),"Resume"]}),l.jsxs(nt,{onClick:E,disabled:g,variant:"destructive",children:[g?l.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(iy,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]})]}),d.stats&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[l.jsx(Dd,{icon:Jt,label:"Total Guests",value:d.stats.total_guests,color:"blue"}),l.jsx(Dd,{icon:Ct,label:"Running",value:d.stats.executions_running,color:"green",iconClassName:"animate-spin"}),l.jsx(Dd,{icon:Of,label:"Completed",value:d.stats.executions_completed,color:"purple"}),l.jsx(Dd,{icon:lo,label:"Failed",value:d.stats.executions_failed,color:"red"})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Guest Executions"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track the progress of each guest through the chatflow"})]}),l.jsx(eX,{campaignId:e})]})]}):l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Campaign Not Found"}),l.jsx(nt,{onClick:()=>t("/kabar-in/operation"),className:"mt-4",children:"Back to Campaigns"})]})})}function Dd({icon:e,label:t,value:n,color:r,iconClassName:s=""}){const i={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",red:"bg-red-100 text-red-600"};return l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:t}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:n})]}),l.jsx("div",{className:`p-3 rounded-full ${i[r]}`,children:l.jsx(e,{className:`h-6 w-6 ${s}`})})]})})}function rX(){return l.jsx(wy,{icon:ei,title:"Message Center",description:"Send, track, and manage all your WhatsApp messages in one centralized platform. Monitor delivery status and engage with your guests in real-time.",color:"#ec4899",features:["Send bulk messages with templates","Real-time delivery tracking","Message scheduling and automation","Conversation history","Quick reply templates","Message queue management","Failed message retry system"]})}function sX(){return l.jsx(wy,{icon:Lf,title:"Analytics Dashboard",description:"Get deep insights into your WhatsApp campaigns with comprehensive analytics, visualizations, and performance metrics.",color:"#6366f1",features:["Message delivery and open rates","Campaign performance comparison","Guest engagement metrics","Response rate analytics","Time-based trend analysis","Export reports to PDF/Excel","Real-time statistics dashboard"]})}function oX(){return l.jsx(wy,{icon:Pc,title:"Settings & Configuration",description:"Configure your WhatsApp Business API, manage project settings, user permissions, and customize your CRM experience.",color:"#64748b",features:["WhatsApp Business API integration","Project-specific settings","User role management","Notification preferences","Webhook configuration","API access tokens","Billing and subscription management"]})}function iX(){return l.jsx(kD,{children:l.jsxs(bj,{children:[l.jsx(bt,{index:!0,element:l.jsx(_D,{})}),l.jsx(bt,{path:"templates",element:l.jsx(iO,{})}),l.jsx(bt,{path:"guests",element:l.jsx(hO,{})}),l.jsx(bt,{path:"chatflow",element:l.jsx(U2,{})}),l.jsx(bt,{path:"chatflow/:id",element:l.jsx(U2,{})}),l.jsx(bt,{path:"operation",element:l.jsx(qK,{})}),l.jsx(bt,{path:"operation/:campaignId",element:l.jsx(nX,{})}),l.jsx(bt,{path:"messages",element:l.jsx(rX,{})}),l.jsx(bt,{path:"analytics",element:l.jsx(sX,{})}),l.jsx(bt,{path:"settings",element:l.jsx(oX,{})}),l.jsx(bt,{path:"*",element:l.jsx(vj,{to:"/kabar-in",replace:!0})})]})})}function aX(){const e=Ot();return l.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center px-6 py-12",style:{background:`
          radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
          radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
          radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
          linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
        `},children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:"w-full max-w-4xl",children:[l.jsxs("button",{onClick:()=>e("/dashboard"),className:"mb-8 flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a"},onMouseEnter:t=>{t.currentTarget.style.background="rgba(0, 0, 0, 0.06)"},onMouseLeave:t=>{t.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:[l.jsx(ci,{className:"w-4 h-4"}),"Back to Dashboard"]}),l.jsxs("div",{className:"rounded-3xl p-12 backdrop-blur-xl text-center",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)"},children:[l.jsx(pa,{className:"w-20 h-20 mx-auto mb-6",style:{color:"#1a1a1a"}}),l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(2.5rem, 4vw, 3.5rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",marginBottom:"1rem"},children:"check.in"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:400,color:"#6b6b6b",lineHeight:1.6,maxWidth:"600px",margin:"0 auto"},children:"Lightning-fast QR-based guest check-in system that makes event entry seamless and efficient."}),l.jsx("div",{className:"mt-8 inline-block px-6 py-3 rounded-full",style:{background:"rgba(0, 0, 0, 0.85)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#ffffff"},children:"Coming Soon"})]})]})})}function lX(){const e=Ot();return l.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center px-6 py-12",style:{background:`
          radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
          radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
          radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
          linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
        `},children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:"w-full max-w-4xl",children:[l.jsxs("button",{onClick:()=>e("/dashboard"),className:"mb-8 flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a"},onMouseEnter:t=>{t.currentTarget.style.background="rgba(0, 0, 0, 0.06)"},onMouseLeave:t=>{t.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:[l.jsx(ci,{className:"w-4 h-4"}),"Back to Dashboard"]}),l.jsxs("div",{className:"rounded-3xl p-12 backdrop-blur-xl text-center",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)"},children:[l.jsx(ay,{className:"w-20 h-20 mx-auto mb-6",style:{color:"#1a1a1a"}}),l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(2.5rem, 4vw, 3.5rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",marginBottom:"1rem"},children:"monitor.in"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:400,color:"#6b6b6b",lineHeight:1.6,maxWidth:"600px",margin:"0 auto"},children:"Real-time guest analytics and monitoring dashboard to keep track of your event metrics at a glance."}),l.jsx("div",{className:"mt-8 inline-block px-6 py-3 rounded-full",style:{background:"rgba(0, 0, 0, 0.85)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#ffffff"},children:"Coming Soon"})]})]})})}const cX=[{role:"admin",icon:l.jsx(yy,{className:"w-8 h-8"}),title:"Admin",description:"Full access to all features",access:["kabar.in","check.in","monitor.in"],color:"#8b5cf6"},{role:"staff",icon:l.jsx(Jt,{className:"w-8 h-8"}),title:"Staff",description:"Access to check-in and monitoring",access:["check.in","monitor.in"],color:"#3b82f6"},{role:"user",icon:l.jsx(no,{className:"w-8 h-8"}),title:"User",description:"Monitoring access only",access:["monitor.in"],color:"#10b981"}];function uX(){const e=Ot(),{signUp:t,signIn:n}=Qt(),[r,s]=k.useState(null),[i,a]=k.useState(""),u=async d=>{a(""),s(d);try{const f=Date.now(),m=`demo-${d}@balemoo.com`,h="demo12345",g=`Demo ${d.charAt(0).toUpperCase()+d.slice(1)}`;await t(m,h,g,d),e("/projects")}catch(f){if(f.message.includes("already")||f.message.includes("exist")||f.message.includes("User"))try{const m=`demo-${d}@balemoo.com`;await n(m,"demo12345"),e("/projects")}catch{a(`Demo ${d} account exists but sign in failed. Try manual login.`)}else a(f.message||"Failed to create demo account")}finally{s(null)}};return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center px-6 py-12",style:{background:`
          radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
          radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
          radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
          linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
        `},children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.1,.25,1]},className:"w-full max-w-5xl",children:[l.jsxs("button",{onClick:()=>e("/login"),className:"mb-8 flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a"},onMouseEnter:d=>{d.currentTarget.style.background="rgba(0, 0, 0, 0.06)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:[l.jsx(ci,{className:"w-4 h-4"}),"Back to Login"]}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"clamp(2rem, 3vw, 2.5rem)",fontWeight:600,letterSpacing:"-0.02em",color:"#1a1a1a",marginBottom:"0.5rem"},children:"Quick Demo Access"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:400,color:"#6b6b6b"},children:"Create a demo account with different role permissions"})]}),i&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-6 p-4 rounded-xl text-center",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#dc2626"},children:i})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:cX.map((d,f)=>l.jsxs(ae.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2+f*.1,ease:[.25,.1,.25,1]},className:"rounded-3xl p-8 backdrop-blur-xl",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)"},children:[l.jsx("div",{className:"mb-4",style:{color:d.color},children:d.icon}),l.jsx("h3",{className:"mb-2",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,letterSpacing:"-0.01em",color:"#1a1a1a"},children:d.title}),l.jsx("p",{className:"mb-4",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:400,color:"#6b6b6b",lineHeight:1.5},children:d.description}),l.jsx("div",{className:"mb-6 space-y-2",children:d.access.map(m=>l.jsxs("div",{className:"px-3 py-1 rounded-lg text-sm",style:{background:"rgba(0, 0, 0, 0.03)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:"#2d2d2d"},children:[" ",m]},m))}),l.jsx("button",{onClick:()=>u(d.role),disabled:r!==null,className:"w-full px-6 py-3 rounded-full transition-all duration-700",style:{background:r===d.role?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.85)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:600,color:"#ffffff",border:"none",cursor:r!==null?"not-allowed":"pointer",transform:"scale(1)"},onMouseEnter:m=>{r===null&&(m.currentTarget.style.transform="scale(1.03)",m.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)")},onMouseLeave:m=>{m.currentTarget.style.transform="scale(1)",m.currentTarget.style.boxShadow="none"},children:r===d.role?"Creating...":`Try as ${d.title}`}),l.jsxs("p",{className:"mt-3 text-center",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",color:"#9ca3af"},children:["demo-",d.role,"@balemoo.com"]})]},d.role))}),l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.6},className:"mt-8 text-center",children:l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:"#6b6b6b"},children:["All demo accounts use password: ",l.jsx("strong",{children:"demo12345"})]})})]})})}function dX({onClose:e}){const{user:t}=Qt(),{createProject:n}=kr(),r=Ot(),[s,i]=k.useState(!1),[a,u]=k.useState(null),[d,f]=k.useState(""),[m,h]=k.useState(""),[g,x]=k.useState(""),[v,b]=k.useState([{id:crypto.randomUUID(),name:"",date:"",time:""}]),S=[{id:1,title:"1 Project + 1 Agenda",description:"Simple event with single agenda",icon:"",data:{name:"Tech Meetup 2026",startDate:"2026-02-15",endDate:"2026-02-15",agendas:[{id:crypto.randomUUID(),name:"Networking Session",date:"2026-02-15",time:"18:00"}]}},{id:2,title:"1 Project + 2 Agendas",description:"Event with multiple sessions",icon:"",data:{name:"Workshop Series",startDate:"2026-03-10",endDate:"2026-03-11",agendas:[{id:crypto.randomUUID(),name:"Morning Workshop",date:"2026-03-10",time:"09:00"},{id:crypto.randomUUID(),name:"Afternoon Session",date:"2026-03-11",time:"14:00"}]}}],_=C=>{const R=S.find(I=>I.id===C);R&&(u(C),f(R.data.name),h(R.data.startDate),x(R.data.endDate),b(R.data.agendas))},E=()=>{b([...v,{id:crypto.randomUUID(),name:"",date:"",time:""}])},w=C=>{v.length>1&&b(v.filter(R=>R.id!==C))},T=(C,R,I)=>{b(v.map(A=>A.id===C?{...A,[R]:I}:A))},P=async C=>{if(C.preventDefault(),!d.trim()){ve.error("Please enter a project name");return}if(!m||!g){ve.error("Please select start and end dates");return}if(new Date(m)>new Date(g)){ve.error("Start date must be before end date");return}const R=v.filter(I=>I.name.trim()&&I.date);if(R.length===0){ve.error("Please add at least one agenda with name and date");return}i(!0);try{await n({name:d.trim(),startDate:m,endDate:g,agendas:R.map(I=>({id:I.id,name:I.name.trim(),date:I.date,time:I.time||"00:00"})),assignedUsers:[(t==null?void 0:t.id)||""],createdBy:(t==null?void 0:t.id)||""}),ve.success(" Project created successfully!"),i(!1),e()}catch(I){console.error("Error creating project:",I),ve.error(I.message||"Failed to create project"),i(!1)}};return l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},onClick:e,children:l.jsxs(ae.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{duration:.3},className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-3xl p-8",style:{background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.2)"},onClick:C=>C.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2rem",fontWeight:600,color:"#1a1a1a"},children:"Create New Project"}),l.jsx("button",{onClick:e,className:"p-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.05)"},onMouseEnter:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.1)"},onMouseLeave:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.05)"},children:l.jsx(hn,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:S.map(C=>l.jsxs(ae.button,{type:"button",onClick:()=>_(C.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-6 rounded-2xl text-left transition-all duration-300",style:{background:a===C.id?"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)":"rgba(139, 92, 246, 0.05)",border:a===C.id?"2px solid #8b5cf6":"2px solid rgba(139, 92, 246, 0.1)",color:a===C.id?"#ffffff":"#1a1a1a"},children:[l.jsx("div",{className:"text-3xl mb-3",children:C.icon}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.125rem",fontWeight:600,marginBottom:"0.5rem",color:a===C.id?"#ffffff":"#1a1a1a"},children:C.title}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:a===C.id?"rgba(255,255,255,0.8)":"#6b7280"},children:C.description})]},C.id))}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1a1a1a"},children:"Project Name *"}),l.jsx("input",{type:"text",value:d,onChange:C=>f(C.target.value),placeholder:"e.g., Wedding Reception 2026",className:"w-full px-4 py-3 rounded-xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",outline:"none"},onFocus:C=>{C.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)",C.currentTarget.style.background="rgba(139, 92, 246, 0.03)"},onBlur:C=>{C.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",C.currentTarget.style.background="rgba(0, 0, 0, 0.02)"}})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1a1a1a"},children:"Start Date *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Zo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"#9ca3af"}}),l.jsx("input",{type:"date",value:m,onChange:C=>h(C.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",outline:"none"},onFocus:C=>{C.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)",C.currentTarget.style.background="rgba(139, 92, 246, 0.03)"},onBlur:C=>{C.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",C.currentTarget.style.background="rgba(0, 0, 0, 0.02)"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1a1a1a"},children:"End Date *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Zo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"#9ca3af"}}),l.jsx("input",{type:"date",value:g,onChange:C=>x(C.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",outline:"none"},onFocus:C=>{C.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)",C.currentTarget.style.background="rgba(139, 92, 246, 0.03)"},onBlur:C=>{C.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",C.currentTarget.style.background="rgba(0, 0, 0, 0.02)"}})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1a1a1a"},children:"Event Agendas * (minimum 1)"}),l.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300",style:{background:"rgba(139, 92, 246, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.8125rem",fontWeight:600,color:"#8b5cf6"},onMouseEnter:C=>{C.currentTarget.style.background="rgba(139, 92, 246, 0.15)"},onMouseLeave:C=>{C.currentTarget.style.background="rgba(139, 92, 246, 0.1)"},children:[l.jsx(Fn,{className:"w-4 h-4"}),"Add Agenda"]})]}),l.jsx("div",{className:"space-y-3",children:v.map((C,R)=>l.jsx(ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl",style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.06)"},children:l.jsxs("div",{className:"flex gap-3 items-start",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx("input",{type:"text",value:C.name,onChange:I=>T(C.id,"name",I.target.value),placeholder:"Agenda name",className:"px-3 py-2 rounded-lg transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",outline:"none"},onFocus:I=>{I.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onBlur:I=>{I.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)"}}),l.jsx("input",{type:"date",value:C.date,onChange:I=>T(C.id,"date",I.target.value),className:"px-3 py-2 rounded-lg transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",outline:"none"},onFocus:I=>{I.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onBlur:I=>{I.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)"}}),l.jsx("input",{type:"time",value:C.time,onChange:I=>T(C.id,"time",I.target.value),className:"px-3 py-2 rounded-lg transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",outline:"none"},onFocus:I=>{I.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onBlur:I=>{I.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)"}})]}),v.length>1&&l.jsx("button",{type:"button",onClick:()=>w(C.id),className:"p-2 rounded-lg transition-all duration-300",style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444"},onMouseEnter:I=>{I.currentTarget.style.background="rgba(239, 68, 68, 0.15)"},onMouseLeave:I=>{I.currentTarget.style.background="rgba(239, 68, 68, 0.1)"},children:l.jsx(Ln,{className:"w-4 h-4"})})]})},C.id))})]}),l.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[l.jsxs("button",{type:"button",onClick:()=>{e(),r("/projects")},className:"flex-1 px-6 py-3 rounded-xl transition-all duration-300 flex items-center justify-center gap-2",style:{background:"rgba(0, 0, 0, 0.04)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#1a1a1a"},onMouseEnter:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.08)"},onMouseLeave:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:[l.jsx(ci,{className:"w-4 h-4"}),"Back to Projects"]}),l.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-6 py-3 rounded-xl transition-all duration-300",style:{background:s?"rgba(139, 92, 246, 0.5)":"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)",boxShadow:s?"none":"0 4px 20px rgba(139, 92, 246, 0.3)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:"#ffffff",cursor:s?"not-allowed":"pointer"},children:s?"Creating...":"Create Project"})]})]})]})})}function fX({project:e,onClose:t}){const{user:n}=Qt(),{updateProject:r}=kr(),s=Ot(),[i,a]=k.useState(!1),[u,d]=k.useState(e.name),[f,m]=k.useState(e.startDate),[h,g]=k.useState(e.endDate),[x,v]=k.useState(e.agendas),b=()=>{v([...x,{id:crypto.randomUUID(),name:"",date:"",time:""}])},S=w=>{x.length>1&&v(x.filter(T=>T.id!==w))},_=(w,T,P)=>{v(x.map(C=>C.id===w?{...C,[T]:P}:C))},E=async w=>{if(w.preventDefault(),!u.trim()){ve.error("Please enter a project name");return}if(!f||!h){ve.error("Please select start and end dates");return}if(new Date(f)>new Date(h)){ve.error("Start date must be before end date");return}const T=x.filter(P=>P.name.trim()&&P.date);if(T.length===0){ve.error("Please add at least one agenda with name and date");return}a(!0);try{await r(e.id,{name:u.trim(),startDate:f,endDate:h,agendas:T.map(P=>({id:P.id,name:P.name.trim(),date:P.date,time:P.time||"00:00"}))}),ve.success(" Project updated successfully!"),a(!1),t()}catch(P){console.error("Error updating project:",P),ve.error(P.message||"Failed to update project"),a(!1)}};return l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},onClick:t,children:l.jsxs(ae.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{duration:.3},className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-3xl p-8",style:{background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.2)"},onClick:w=>w.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h2",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"2rem",fontWeight:600,color:"#1a1a1a"},children:"Edit Project"}),l.jsx("button",{onClick:t,className:"p-2 rounded-full transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.05)"},onMouseEnter:w=>{w.currentTarget.style.background="rgba(0, 0, 0, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.background="rgba(0, 0, 0, 0.05)"},children:l.jsx(hn,{className:"w-6 h-6",style:{color:"#6b6b6b"}})})]}),l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a",display:"block",marginBottom:"0.5rem"},children:"Project Name"}),l.jsx("input",{type:"text",value:u,onChange:w=>d(w.target.value),placeholder:"Enter project name",className:"w-full px-4 py-3 rounded-xl outline-none transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.03)",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#1a1a1a"}})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a",display:"block",marginBottom:"0.5rem"},children:[l.jsx(Zo,{className:"w-4 h-4 inline mr-2"}),"Start Date"]}),l.jsx("input",{type:"date",value:f,onChange:w=>m(w.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.03)",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#1a1a1a"}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a",display:"block",marginBottom:"0.5rem"},children:[l.jsx(Zo,{className:"w-4 h-4 inline mr-2"}),"End Date"]}),l.jsx("input",{type:"date",value:h,onChange:w=>g(w.target.value),className:"w-full px-4 py-3 rounded-xl outline-none transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.03)",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#1a1a1a"}})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("label",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a"},children:"Agendas"}),l.jsxs("button",{type:"button",onClick:b,className:"flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500},onMouseEnter:w=>{w.currentTarget.style.background="rgba(59, 130, 246, 0.2)"},onMouseLeave:w=>{w.currentTarget.style.background="rgba(59, 130, 246, 0.1)"},children:[l.jsx(Fn,{className:"w-4 h-4"}),"Add Agenda"]})]}),l.jsx("div",{className:"space-y-4",children:x.map((w,T)=>l.jsxs("div",{className:"p-4 rounded-xl",style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.05)"},children:[l.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[l.jsxs("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b"},children:["Agenda ",T+1]}),x.length>1&&l.jsx("button",{type:"button",onClick:()=>S(w.id),className:"ml-auto p-2 rounded-full transition-all duration-300",style:{background:"rgba(239, 68, 68, 0.1)"},onMouseEnter:P=>{P.currentTarget.style.background="rgba(239, 68, 68, 0.2)"},onMouseLeave:P=>{P.currentTarget.style.background="rgba(239, 68, 68, 0.1)"},children:l.jsx(Ln,{className:"w-4 h-4",style:{color:"#ef4444"}})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"text",value:w.name,onChange:P=>_(w.id,"name",P.target.value),placeholder:"Agenda name",className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",color:"#1a1a1a"}}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("input",{type:"date",value:w.date,onChange:P=>_(w.id,"date",P.target.value),className:"px-4 py-2 rounded-lg outline-none transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",color:"#1a1a1a"}}),l.jsx("input",{type:"time",value:w.time,onChange:P=>_(w.id,"time",P.target.value),className:"px-4 py-2 rounded-lg outline-none transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",color:"#1a1a1a"}})]})]})]},w.id))})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsxs("button",{type:"button",onClick:()=>{t(),s("/projects")},className:"flex-1 px-6 py-3 rounded-full transition-all duration-300 flex items-center justify-center gap-2",style:{background:"rgba(0, 0, 0, 0.05)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:500,color:"#6b6b6b"},onMouseEnter:w=>{w.currentTarget.style.background="rgba(0, 0, 0, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.background="rgba(0, 0, 0, 0.05)"},children:[l.jsx(ci,{className:"w-4 h-4"}),"Back to Projects"]}),l.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-6 py-3 rounded-full transition-all duration-300",style:{background:i?"rgba(59, 130, 246, 0.5)":"#3b82f6",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:500,color:"#ffffff"},onMouseEnter:w=>{i||(w.currentTarget.style.background="#2563eb")},onMouseLeave:w=>{i||(w.currentTarget.style.background="#3b82f6")},children:i?"Updating...":"Update Project"})]})]})]})})}function Yi(e){const t=JSON.parse(localStorage.getItem("balemoo_demo_user_ids")||"{}"),r={"demo-admin@balemoo.com":"admin","demo-staff@balemoo.com":"staff","staff-a@balemoo.com":"staff","staff-b@balemoo.com":"staff","demo-user@balemoo.com":"user","client-a@balemoo.com":"user"}[e];return r&&t[r]?t[r]:`user_${e.split("@")[0].replace(/[.-]/g,"_")}`}const hX=[{id:Yi("demo-admin@balemoo.com"),email:"demo-admin@balemoo.com",name:"Admin Balemoo",role:"admin"},{id:Yi("demo-staff@balemoo.com"),email:"demo-staff@balemoo.com",name:"Staff Balemoo",role:"staff"},{id:Yi("staff-a@balemoo.com"),email:"staff-a@balemoo.com",name:"Kadek Arya",role:"staff"},{id:Yi("staff-b@balemoo.com"),email:"staff-b@balemoo.com",name:"Made Sari",role:"staff"},{id:Yi("demo-user@balemoo.com"),email:"demo-user@balemoo.com",name:"User Balemoo",role:"user"},{id:Yi("client-a@balemoo.com"),email:"client-a@balemoo.com",name:"Wayan Santika",role:"user"}];function cg(e){return hX.find(t=>t.id===e)}function pX({projectName:e,team:t,project:n,onClose:r}){var d,f,m,h;const s=n||{name:e,team:t},i=(d=s.team)!=null&&d.manager?cg(s.team.manager):null,a=((m=(f=s.team)==null?void 0:f.staff)==null?void 0:m.map(g=>cg(g)).filter(Boolean))||[],u=(h=s.team)!=null&&h.client?cg(s.team.client):null;return l.jsx(io,{children:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(8px)"}}),l.jsxs(ae.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:[.16,1,.3,1]},className:"relative w-full max-w-md rounded-3xl",style:{background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 24px 64px rgba(0, 0, 0, 0.15)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif"},children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Jt,{className:"w-6 h-6",style:{color:"#8b5cf6"}}),l.jsxs("div",{children:[l.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1a1a1a"},children:"Team Lineage"}),l.jsx("p",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:s.name})]})]}),l.jsx("button",{onClick:r,className:"p-2 rounded-xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.08)"},onMouseEnter:g=>{g.currentTarget.style.background="rgba(0, 0, 0, 0.08)"},onMouseLeave:g=>{g.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:l.jsx(hn,{className:"w-5 h-5",style:{color:"#6b6b6b"}})})]})}),l.jsxs("div",{className:"px-6 py-5 space-y-5",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Tj,{className:"w-4 h-4",style:{color:"#8b5cf6"}}),l.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Event Manager"})]}),i?l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"rgba(139, 92, 246, 0.05)",border:"1px solid rgba(139, 92, 246, 0.1)"},children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)"},children:l.jsx(no,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:i.name}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:i.email})]})]}):l.jsx("div",{style:{fontSize:"0.875rem",color:"#9ca3af",fontStyle:"italic"},children:"No manager assigned"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Jt,{className:"w-4 h-4",style:{color:"#3b82f6"}}),l.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Staff"})]}),a.length>0?l.jsx("div",{className:"space-y-2",children:a.map(g=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},children:l.jsx(no,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:g==null?void 0:g.name}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:g==null?void 0:g.email})]})]},g==null?void 0:g.id))}):l.jsx("div",{style:{fontSize:"0.875rem",color:"#9ca3af",fontStyle:"italic"},children:"No staff assigned"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(no,{className:"w-4 h-4",style:{color:"#10b981"}}),l.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Client"})]}),u?l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.1)"},children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},children:l.jsx(no,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:u.name}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:u.email})]})]}):l.jsx("div",{style:{fontSize:"0.875rem",color:"#9ca3af",fontStyle:"italic"},children:"No client assigned"})]})]})]})]})})}function mX(){const{projects:e,setSelectedProject:t,isProjectAccessible:n,selectedProject:r,loading:s,deleteProject:i}=kr(),{user:a,signOut:u}=Qt(),d=Ot(),[f,m]=k.useState(""),[h,g]=k.useState(null),[x,v]=k.useState(null),[b,S]=k.useState(!1),[_,E]=k.useState(!1),[w,T]=k.useState(null),[P,C]=k.useState(!1),[R,I]=k.useState(null),[A,U]=k.useState(null);k.useEffect(()=>{!a&&!s&&d("/login")},[a,s,d]);const $=L=>{const K=new Date;K.setHours(0,0,0,0);const Z=new Date(L.startDate);Z.setHours(0,0,0,0);const q=new Date(L.endDate);return q.setHours(0,0,0,0),K>=Z&&K<=q?"Today":K<Z?"Upcoming":"Past"},H=L=>{n(L)?(t(L),d("/dashboard")):(g(L.id),setTimeout(()=>g(null),500))},Y=async()=>{await u(),d("/")},V=(L,K)=>{L.stopPropagation(),T(K),E(!0)},X=async(L,K)=>{if(L.stopPropagation(),!!window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){U(K);try{await i(K),ve.success("Project deleted successfully")}catch(q){console.error("Error deleting project:",q),ve.error(q.message||"Failed to delete project")}finally{U(null)}}},z=e.filter(L=>L.name.toLowerCase().includes(f.toLowerCase())||L.agendas.some(Z=>Z.name.toLowerCase().includes(f.toLowerCase()))),M=(()=>{const L=z.filter(J=>$(J)==="Today"),K=z.filter(J=>$(J)==="Upcoming").sort((J,ne)=>new Date(J.startDate).getTime()-new Date(ne.startDate).getTime()),Z=z.filter(J=>$(J)==="Past").sort((J,ne)=>new Date(ne.endDate).getTime()-new Date(J.endDate).getTime()),q=[];return q.push(...L.slice(0,3)),q.length<3&&q.push(...K.slice(0,3-q.length)),q.length<3&&q.push(...Z.slice(0,3-q.length)),q.slice(0,3)})(),B=z.filter(L=>!M.some(K=>K.id===L.id)).sort((L,K)=>{const Z=$(L),q=$(K);return Z==="Upcoming"&&q==="Past"?-1:Z==="Past"&&q==="Upcoming"?1:Z==="Upcoming"&&q==="Upcoming"?new Date(L.startDate).getTime()-new Date(K.startDate).getTime():Z==="Past"&&q==="Past"?new Date(K.endDate).getTime()-new Date(L.endDate).getTime():0}),O=L=>{switch(L){case"Today":return"#10b981";case"Upcoming":return"#3b82f6";case"Past":return"#9ca3af"}},D=(L,K)=>{const Z=new Date(L),q=new Date(K);return`${Z.toLocaleDateString("id-ID",{day:"numeric",month:"short"})} - ${q.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}`};return s?l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#6b6b6b"},children:"Loading projects..."})}):l.jsxs("div",{className:"min-h-screen w-full px-6 py-12",style:{background:`
          radial-gradient(ellipse 80% 60% at 50% 20%, rgba(200, 180, 255, 0.15) 0%, transparent 50%),
          radial-gradient(ellipse 70% 50% at 80% 60%, rgba(255, 200, 180, 0.12) 0%, transparent 50%),
          radial-gradient(ellipse 60% 50% at 20% 70%, rgba(180, 220, 255, 0.1) 0%, transparent 50%),
          linear-gradient(to bottom, #ffffff 0%, #fafafa 100%)
        `},children:[l.jsx(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"max-w-7xl mx-auto mb-12 flex justify-end items-center",children:l.jsxs("div",{className:"flex items-center gap-3",children:[(a==null?void 0:a.role)==="admin"&&l.jsxs(ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>S(!0),className:"flex items-center gap-2 px-6 py-3 rounded-2xl transition-all duration-300",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.3)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:600,color:"#ffffff",border:"none"},children:[l.jsx(Fn,{className:"w-5 h-5"}),"Create Project"]}),l.jsx("button",{onClick:Y,className:"p-3 rounded-2xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.08)"},onMouseEnter:L=>{L.currentTarget.style.background="rgba(0, 0, 0, 0.08)"},onMouseLeave:L=>{L.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:l.jsx(Mj,{className:"w-5 h-5",style:{color:"#6b6b6b"}})})]})}),M.length>0&&l.jsx(ae.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},className:"max-w-7xl mx-auto mb-16",children:l.jsx("div",{className:"flex items-end justify-center gap-6",children:[1,0,2].map(L=>{const K=M[L];if(!K)return null;const Z=L,q=$(K),J=n(K),ne=x===K.id,te=h===K.id,se=L===0;return l.jsxs(ae.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3+Z*.15,ease:[.25,.1,.25,1]},onClick:()=>H(K),onMouseEnter:()=>v(K.id),onMouseLeave:()=>v(null),className:"relative rounded-3xl backdrop-blur-xl transition-all duration-700",style:{width:se?"380px":"320px",padding:se?"2.5rem":"2rem",background:J?q==="Today"?"linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(5, 150, 105, 0.05) 100%)":"rgba(255, 255, 255, 0.8)":"rgba(200, 200, 200, 0.3)",border:J?q==="Today"?"2px solid rgba(16, 185, 129, 0.3)":se?"2px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.5)":"1px solid rgba(150, 150, 150, 0.2)",boxShadow:ne&&J?se?"0 30px 80px rgba(139, 92, 246, 0.3), 0 0 0 1px rgba(139, 92, 246, 0.2)":q==="Today"?"0 20px 60px rgba(16, 185, 129, 0.25), 0 0 0 1px rgba(16, 185, 129, 0.1)":"0 20px 60px rgba(0, 0, 0, 0.15)":se&&J?"0 20px 60px rgba(139, 92, 246, 0.2)":q==="Today"&&J?"0 12px 40px rgba(16, 185, 129, 0.15)":"0 12px 40px rgba(0, 0, 0, 0.08)",transform:ne&&J?se?"translateY(-16px) scale(1.03)":"translateY(-12px) scale(1.02)":"translateY(0) scale(1)",cursor:J?"pointer":"not-allowed",opacity:J?1:.5,filter:J?"none":"grayscale(1)",animation:te?"shake 0.5s ease-in-out":"none"},children:[J&&(se||q==="Today")&&l.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 transition-opacity duration-700",style:{background:se?"radial-gradient(circle at 50% 0%, rgba(139, 92, 246, 0.2) 0%, transparent 70%)":"radial-gradient(circle at 50% 0%, rgba(16, 185, 129, 0.15) 0%, transparent 70%)",opacity:ne?1:0,pointerEvents:"none"}}),!J&&l.jsx("div",{className:"absolute top-6 right-6",children:l.jsx(gr,{className:"w-6 h-6",style:{color:"#9ca3af"}})}),K.isActive===!1&&l.jsxs("div",{className:"absolute top-6 left-6 px-3 py-1.5 rounded-lg flex items-center gap-2",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",backdropFilter:"blur(8px)"},children:[l.jsx(gr,{className:"w-3.5 h-3.5",style:{color:"#ef4444"}}),l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ef4444",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Disabled"})]}),l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full",style:{background:`${O(q)}15`,border:`1.5px solid ${O(q)}40`,fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:700,color:O(q),textTransform:"uppercase",letterSpacing:"0.08em"},children:[q==="Today"&&l.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{background:O(q)}}),q]}),J&&l.jsx("button",{onClick:le=>{le.stopPropagation(),I(K),C(!0)},className:"p-2 rounded-xl transition-all duration-300",style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)"},onMouseEnter:le=>{le.currentTarget.style.background="rgba(139, 92, 246, 0.15)"},onMouseLeave:le=>{le.currentTarget.style.background="rgba(139, 92, 246, 0.1)"},title:"View Team",children:l.jsx(Jt,{className:"w-5 h-5",style:{color:"#8b5cf6"}})})]}),l.jsx("h3",{className:"mb-4",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,letterSpacing:"-0.02em",color:J?"#1a1a1a":"#9ca3af",lineHeight:1.3},children:K.name}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Zo,{className:"w-4 h-4",style:{color:J?"#6b6b6b":"#9ca3af"}}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:500,color:J?"#6b6b6b":"#9ca3af"},children:D(K.startDate,K.endDate)})]}),l.jsx("div",{className:"mb-4",style:{height:"1px",background:J?"rgba(0, 0, 0, 0.08)":"rgba(0, 0, 0, 0.04)"}}),l.jsxs("div",{children:[l.jsxs("p",{className:"mb-2",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:600,color:J?"#6b6b6b":"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em"},children:[K.agendas.length," Agenda",K.agendas.length>1?"s":""]}),l.jsxs("div",{className:"space-y-2",children:[K.agendas.slice(0,2).map(le=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:J?"#6b6b6b":"#9ca3af"}}),l.jsx("span",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",color:J?"#1a1a1a":"#9ca3af"},children:le.name})]},le.id)),K.agendas.length>2&&l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.8125rem",fontStyle:"italic",color:J?"#6b6b6b":"#9ca3af",marginLeft:"12px"},children:["+",K.agendas.length-2," more"]})]})]}),(a==null?void 0:a.role)==="admin"&&J&&l.jsxs("div",{className:"mt-6 pt-4 flex gap-3",style:{borderTop:"1px solid rgba(0, 0, 0, 0.08)"},children:[l.jsxs("button",{onClick:le=>V(le,K),className:"flex-1 px-4 py-2.5 rounded-xl transition-all duration-300 flex items-center justify-center gap-2",style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#3b82f6"},onMouseEnter:le=>{le.currentTarget.style.background="rgba(59, 130, 246, 0.15)"},onMouseLeave:le=>{le.currentTarget.style.background="rgba(59, 130, 246, 0.1)"},children:[l.jsx(py,{className:"w-4 h-4"}),"Edit"]}),l.jsxs("button",{onClick:le=>X(le,K.id),disabled:A===K.id,className:"flex-1 px-4 py-2.5 rounded-xl transition-all duration-300 flex items-center justify-center gap-2",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#ef4444",opacity:A===K.id?.5:1,cursor:A===K.id?"not-allowed":"pointer"},onMouseEnter:le=>{A!==K.id&&(le.currentTarget.style.background="rgba(239, 68, 68, 0.15)")},onMouseLeave:le=>{A!==K.id&&(le.currentTarget.style.background="rgba(239, 68, 68, 0.1)")},children:[l.jsx(Ln,{className:"w-4 h-4"}),A===K.id?"Deleting...":"Delete"]})]}),!J&&ne&&l.jsx(ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 px-4 py-2 rounded-xl whitespace-nowrap",style:{background:"rgba(0, 0, 0, 0.9)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.8125rem",fontWeight:500,color:"#ffffff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:"You are not assigned to this project"})]},K.id)})})}),B.length>0&&l.jsxs(ae.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},className:"max-w-7xl mx-auto mb-12",children:[l.jsxs("h2",{className:"mb-6 flex items-center gap-3",style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:600,color:"#1a1a1a"},children:[l.jsx("div",{style:{width:"4px",height:"24px",background:"#8b5cf6",borderRadius:"2px"}}),"Other Projects"]}),l.jsx("div",{className:"space-y-3",children:B.map((L,K)=>{const Z=$(L),q=n(L);return l.jsx(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6+K*.05},onClick:()=>H(L),className:"flex items-center justify-between p-5 rounded-2xl backdrop-blur-xl transition-all duration-300",style:{background:q?"rgba(255, 255, 255, 0.7)":"rgba(200, 200, 200, 0.3)",border:`1px solid ${q?"rgba(0, 0, 0, 0.08)":"rgba(150, 150, 150, 0.15)"}`,cursor:q?"pointer":"not-allowed",opacity:q?1:.5},onMouseEnter:J=>{q&&(J.currentTarget.style.background="rgba(255, 255, 255, 0.95)",J.currentTarget.style.transform="translateX(4px)")},onMouseLeave:J=>{q&&(J.currentTarget.style.background="rgba(255, 255, 255, 0.7)",J.currentTarget.style.transform="translateX(0)")},children:l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[!q&&l.jsx(gr,{className:"w-5 h-5",style:{color:"#9ca3af"}}),L.isActive===!1&&l.jsxs("div",{className:"px-2.5 py-1 rounded-lg flex items-center gap-1.5",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[l.jsx(gr,{className:"w-3 h-3",style:{color:"#ef4444"}}),l.jsx("span",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#ef4444",textTransform:"uppercase"},children:"Disabled"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("h4",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",fontWeight:600,color:q?"#1a1a1a":"#9ca3af"},children:L.name}),l.jsx("div",{className:"px-3 py-1 rounded-full",style:{background:`${O(Z)}15`,fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.6875rem",fontWeight:600,color:O(Z),textTransform:"uppercase"},children:Z})]}),l.jsxs("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.8125rem",color:q?"#6b6b6b":"#9ca3af"},children:[D(L.startDate,L.endDate),"  ",L.agendas.length," agenda",L.agendas.length>1?"s":""]})]})]})},L.id)})})]}),l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.7},className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx(ti,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:"#9ca3af"}}),l.jsx("input",{type:"text",placeholder:"Search projects by name or agenda...",value:f,onChange:L=>m(L.target.value),className:"w-full pl-16 pr-6 py-5 rounded-2xl backdrop-blur-xl transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(0, 0, 0, 0.08)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",outline:"none",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)"},onFocus:L=>{L.currentTarget.style.background="rgba(255, 255, 255, 0.95)",L.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onBlur:L=>{L.currentTarget.style.background="rgba(255, 255, 255, 0.7)",L.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)"}})]})}),z.length===0&&l.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-7xl mx-auto text-center py-20",children:[l.jsx(Zo,{className:"w-20 h-20 mx-auto mb-6",style:{color:"#d1d5db"}}),l.jsx("h3",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.5rem",fontWeight:600,color:"#9ca3af",marginBottom:"0.5rem"},children:"No projects found"}),l.jsx("p",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#9ca3af"},children:f?"Try adjusting your search query":"Get started by creating your first project"})]}),b&&l.jsx(dX,{onClose:()=>S(!1)}),_&&w&&l.jsx(fX,{project:w,onClose:()=>{E(!1),T(null)}}),P&&l.jsx(pX,{onClose:()=>C(!1),project:R}),l.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
          20%, 40%, 60%, 80% { transform: translateX(3px); }
        }
      `})]})}function gX({onClose:e}){var L,K,Z;const{user:t,accessToken:n}=Qt(),{selectedProject:r,updateProject:s,updateAgenda:i}=kr(),[a,u]=k.useState(!1),[d,f]=k.useState(!0),[m,h]=k.useState(!1),[g,x]=k.useState([]),[v,b]=k.useState(!0),[S,_]=k.useState((L=r==null?void 0:r.team)==null?void 0:L.manager),[E,w]=k.useState(((K=r==null?void 0:r.team)==null?void 0:K.staff)||[]),[T,P]=k.useState((Z=r==null?void 0:r.team)==null?void 0:Z.client),[C,R]=k.useState((r==null?void 0:r.isActive)!==!1);if(k.useEffect(()=>{var q,J,ne;r&&(R(r.isActive!==!1),_((q=r.team)==null?void 0:q.manager),w(((J=r.team)==null?void 0:J.staff)||[]),P((ne=r.team)==null?void 0:ne.client))},[r]),k.useEffect(()=>{(async()=>{if(!t||!n||t.role!=="admin"){b(!1);return}try{b(!0);const J=await fetch(`https://${Yn}.supabase.co/functions/v1/make-server-deeab278/users`,{method:"GET",headers:{Authorization:`Bearer ${Fe}`,"X-User-Token":n,"Content-Type":"application/json"}});if(J.ok){const ne=await J.json();x(ne.users||[]),console.log("Loaded users from backend:",ne.users);const te=(ne.users||[]).map(se=>se.id);w(se=>se.filter(le=>te.includes(le))),S&&!te.includes(S)&&_(void 0),T&&!te.includes(T)&&P(void 0)}}catch(J){console.error("Error fetching users:",J)}finally{b(!1)}})()},[t,n]),(t==null?void 0:t.role)!=="admin"||!r)return null;const I=r.features||{qr_scan:!0,analytics:!0},A=g.filter(q=>q.role==="admin"),U=g.filter(q=>q.role==="staff"),$=g.filter(q=>q.role==="user"),H=q=>{const J=g.find(ne=>ne.id===q);return J||console.warn("User not found for ID:",q,"Available users:",g.length),J},Y=async()=>{console.log("=== SAVING TEAM CHANGES ==="),console.log("Project ID:",r.id),console.log("Manager:",S),console.log("Staff:",E),console.log("Client:",T);try{await s(r.id,{team:{manager:S,staff:E,client:T}}),console.log("Team changes saved successfully!"),h(!1),f(!0)}catch(q){console.error("Error saving team changes:",q),alert("Failed to save team changes: "+q.message)}},V=()=>{var q,J,ne;d?f(!1):S!==((q=r.team)==null?void 0:q.manager)||JSON.stringify(E)!==JSON.stringify(((J=r.team)==null?void 0:J.staff)||[])||T!==((ne=r.team)==null?void 0:ne.client)?h(!0):f(!0)},X=async()=>{if(!d)if(C)u(!0);else try{await s(r.id,{isActive:!0}),R(!0),u(!1)}catch(q){console.error("Error enabling project:",q),alert("Failed to enable project: "+q.message)}},z=async()=>{try{await s(r.id,{isActive:!1}),R(!1),u(!1)}catch(q){console.error("Error disabling project:",q),alert("Failed to disable project: "+q.message)}},W=q=>{d||s(r.id,{features:{...I,[q]:!I[q]}})},M=(q,J)=>{if(d)return;const ne=J!==!1;i(r.id,q,{isActive:!ne})},B=q=>{E.includes(q)||w([...E,q])},O=q=>{w(E.filter(J=>J!==q))},D=({user:q,onRemove:J})=>{if(!q)return null;const ne=q.role==="admin"?"#8b5cf6":q.role==="staff"?"#3b82f6":"#10b981";return l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:`rgba(${q.role==="admin"?"139, 92, 246":q.role==="staff"?"59, 130, 246":"16, 185, 129"}, 0.05)`,border:`1px solid rgba(${q.role==="admin"?"139, 92, 246":q.role==="staff"?"59, 130, 246":"16, 185, 129"}, 0.1)`},children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{background:`linear-gradient(135deg, ${ne} 0%, ${ne}dd 100%)`},children:l.jsx(no,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:q.name}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:q.email})]}),J&&!d&&l.jsx("button",{onClick:J,className:"p-2 rounded-lg transition-all duration-300",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},onMouseEnter:te=>{te.currentTarget.style.background="rgba(239, 68, 68, 0.15)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(239, 68, 68, 0.1)"},children:l.jsx(Ln,{className:"w-4 h-4",style:{color:"#ef4444"}})})]})};return l.jsx(io,{children:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{m||e()},className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(8px)"}}),l.jsxs(ae.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:[.16,1,.3,1]},className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-3xl",style:{background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 24px 64px rgba(0, 0, 0, 0.15)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif"},children:[l.jsxs("div",{className:"sticky top-0 z-10 px-8 py-6 border-b border-gray-100",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)"},children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pc,{className:"w-6 h-6",style:{color:"#8b5cf6"}}),l.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1a1a1a"},children:"Project Settings"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300",style:{background:d?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${d?"rgba(239, 68, 68, 0.2)":"rgba(34, 197, 94, 0.2)"}`},children:d?l.jsxs(l.Fragment,{children:[l.jsx(gr,{className:"w-4 h-4",style:{color:"#ef4444"}}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#ef4444"},children:"Locked"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Aj,{className:"w-4 h-4",style:{color:"#22c55e"}}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#22c55e"},children:"Unlocked"})]})}),l.jsx("button",{onClick:e,className:"p-2 rounded-xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.08)"},children:l.jsx(hn,{className:"w-5 h-5",style:{color:"#6b6b6b"}})})]})]}),l.jsx("p",{style:{fontSize:"0.875rem",color:"#6b6b6b",marginTop:"8px"},children:r.name}),d&&l.jsx("div",{className:"mt-3 p-3 rounded-xl",style:{background:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.1)"},children:l.jsxs("p",{style:{fontSize:"0.8125rem",color:"#6b6b6b"},children:[l.jsx(gr,{className:"w-3.5 h-3.5 inline mr-1.5",style:{color:"#ef4444"}}),'Settings are locked. Click "Locked" to make changes.']})})]}),l.jsxs("div",{className:"px-8 py-6 space-y-8",style:{opacity:d?.6:1,pointerEvents:d?"none":"auto"},children:[v&&l.jsx("div",{className:"p-4 rounded-xl",style:{background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.1)"},children:l.jsx("p",{style:{fontSize:"0.875rem",color:"#6b6b6b",textAlign:"center"},children:"Loading users..."})}),l.jsxs("div",{style:{opacity:v?.5:1},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Jt,{className:"w-5 h-5",style:{color:"#8b5cf6"}}),l.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#1a1a1a"},children:"Team"})]}),l.jsxs("div",{className:"mb-5",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Tj,{className:"w-4 h-4",style:{color:"#8b5cf6"}}),l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Event Manager"})]}),l.jsxs("select",{value:S||"",onChange:q=>_(q.target.value||void 0),disabled:d,className:"w-full px-4 py-3 rounded-xl transition-all duration-300",style:{background:"rgba(139, 92, 246, 0.05)",border:"1px solid rgba(139, 92, 246, 0.1)",fontFamily:"'Inter', sans-serif",fontSize:"0.9375rem",color:"#1a1a1a"},children:[l.jsx("option",{value:"",children:"Select Manager"}),A.map(q=>l.jsxs("option",{value:q.id,children:[q.name," (",q.email,")"]},q.id))]}),S&&H(S)&&l.jsx("div",{className:"mt-2",children:l.jsx(D,{user:H(S)})})]}),l.jsxs("div",{className:"mb-5",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Jt,{className:"w-4 h-4",style:{color:"#3b82f6"}}),l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Staff"})]}),!d&&l.jsxs("select",{onChange:q=>{q.target.value&&(B(q.target.value),q.target.value="")},className:"w-full px-4 py-3 rounded-xl mb-3 transition-all duration-300",style:{background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.1)",fontFamily:"'Inter', sans-serif",fontSize:"0.9375rem",color:"#1a1a1a"},children:[l.jsx("option",{value:"",children:"Add Staff Member"}),U.filter(q=>!E.includes(q.id)).map(q=>l.jsxs("option",{value:q.id,children:[q.name," (",q.email,")"]},q.id))]}),l.jsx("div",{className:"space-y-2",children:E.length>0?E.map(q=>{const J=H(q);return J?l.jsx(D,{user:J,onRemove:()=>O(q)},q):null}):l.jsx("div",{style:{fontSize:"0.875rem",color:"#9ca3af",fontStyle:"italic"},children:"No staff assigned"})})]}),l.jsxs("div",{className:"mb-5",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(no,{className:"w-4 h-4",style:{color:"#10b981"}}),l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#6b6b6b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Client"})]}),l.jsxs("select",{value:T||"",onChange:q=>P(q.target.value||void 0),disabled:d,className:"w-full px-4 py-3 rounded-xl transition-all duration-300",style:{background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.1)",fontFamily:"'Inter', sans-serif",fontSize:"0.9375rem",color:"#1a1a1a"},children:[l.jsx("option",{value:"",children:"Select Client"}),$.map(q=>l.jsxs("option",{value:q.id,children:[q.name," (",q.email,")"]},q.id))]}),T&&H(T)&&l.jsx("div",{className:"mt-2",children:l.jsx(D,{user:H(T)})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#1a1a1a",marginBottom:"16px"},children:"Project Settings"}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl",style:{background:"rgba(139, 92, 246, 0.05)",border:"1px solid rgba(139, 92, 246, 0.1)"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:"Project Active"}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"4px"},children:"Enable or disable this project for Staff and Users"})]}),l.jsx("button",{onClick:X,className:"relative w-14 h-7 rounded-full transition-all duration-300",style:{background:C?"#8b5cf6":"#d1d5db"},children:l.jsx(ae.div,{className:"absolute top-0.5 w-6 h-6 bg-white rounded-full shadow-md",animate:{left:C?"30px":"2px"},transition:{type:"spring",stiffness:500,damping:30}})})]})]}),l.jsx(io,{children:a&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 rounded-2xl",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(cf,{className:"w-5 h-5 mt-0.5",style:{color:"#ef4444"}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:"Disable Project?"}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"4px"},children:"This project will become inaccessible to Staff and Users. Are you sure?"}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx("button",{onClick:z,className:"px-4 py-2 rounded-xl",style:{background:"#ef4444",color:"white",fontSize:"0.875rem",fontWeight:600},children:"Yes, Disable"}),l.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded-xl",style:{background:"rgba(0, 0, 0, 0.05)",color:"#1a1a1a",fontSize:"0.875rem",fontWeight:600},children:"Cancel"})]})]})]})})}),r.agendas&&r.agendas.length>0&&l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#1a1a1a",marginBottom:"16px"},children:"Agenda Settings"}),l.jsx("div",{className:"space-y-3",children:r.agendas.map(q=>{const J=q.isActive!==!1;return l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl",style:{background:J?"rgba(59, 130, 246, 0.05)":"rgba(0, 0, 0, 0.03)",border:`1px solid ${J?"rgba(59, 130, 246, 0.1)":"rgba(0, 0, 0, 0.08)"}`,opacity:J?1:.6},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:q.name}),l.jsxs("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"4px"},children:[new Date(q.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),q.time&&`  ${q.time}`]})]}),l.jsx("button",{onClick:()=>M(q.id,q.isActive),className:"relative w-14 h-7 rounded-full",style:{background:J?"#3b82f6":"#d1d5db"},children:l.jsx(ae.div,{className:"absolute top-0.5 w-6 h-6 bg-white rounded-full shadow-md",animate:{left:J?"30px":"2px"},transition:{type:"spring",stiffness:500,damping:30}})})]},q.id)})})]}),l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#1a1a1a",marginBottom:"8px"},children:"Feature Settings"}),l.jsx("p",{style:{fontSize:"0.875rem",color:"#6b6b6b",marginBottom:"16px"},children:"Enable or disable features for this project"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl",style:{background:I.qr_scan?"rgba(59, 130, 246, 0.05)":"rgba(0, 0, 0, 0.03)",border:`1px solid ${I.qr_scan?"rgba(59, 130, 246, 0.1)":"rgba(0, 0, 0, 0.08)"}`},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pa,{className:"w-5 h-5",style:{color:I.qr_scan?"#3b82f6":"#9ca3af"}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:"QR Code Scan"}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:"Enable QR-based guest check-in"})]})]}),l.jsx("button",{onClick:()=>W("qr_scan"),className:"relative w-14 h-7 rounded-full",style:{background:I.qr_scan?"#3b82f6":"#d1d5db"},children:l.jsx(ae.div,{className:"absolute top-0.5 w-6 h-6 bg-white rounded-full shadow-md",animate:{left:I.qr_scan?"30px":"2px"},transition:{type:"spring",stiffness:500,damping:30}})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl",style:{background:I.analytics?"rgba(139, 92, 246, 0.05)":"rgba(0, 0, 0, 0.03)",border:`1px solid ${I.analytics?"rgba(139, 92, 246, 0.1)":"rgba(0, 0, 0, 0.08)"}`},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ay,{className:"w-5 h-5",style:{color:I.analytics?"#8b5cf6":"#9ca3af"}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:600,color:"#1a1a1a"},children:"Analytics Dashboard"}),l.jsx("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:"Enable guest analytics and monitoring"})]})]}),l.jsx("button",{onClick:()=>W("analytics"),className:"relative w-14 h-7 rounded-full",style:{background:I.analytics?"#8b5cf6":"#d1d5db"},children:l.jsx(ae.div,{className:"absolute top-0.5 w-6 h-6 bg-white rounded-full shadow-md",animate:{left:I.analytics?"30px":"2px"},transition:{type:"spring",stiffness:500,damping:30}})})]})]})]})]})]}),m&&l.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-60 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0",onClick:()=>h(!1),style:{background:"rgba(0, 0, 0, 0.6)"}}),l.jsx(ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"relative bg-white rounded-3xl p-6 max-w-md mx-4",style:{boxShadow:"0 24px 64px rgba(0, 0, 0, 0.2)",fontFamily:"'Inter', sans-serif"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(cf,{className:"w-6 h-6 mt-1",style:{color:"#f59e0b"}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:700,color:"#1a1a1a",marginBottom:"8px"},children:"Save Changes?"}),l.jsx("p",{style:{fontSize:"0.875rem",color:"#6b6b6b",marginBottom:"20px"},children:"You have unsaved changes to the team configuration. Do you want to save these changes?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 rounded-xl",style:{background:"#8b5cf6",color:"white",fontSize:"0.875rem",fontWeight:600},children:"Save Changes"}),l.jsx("button",{onClick:()=>{var q,J,ne;_((q=r.team)==null?void 0:q.manager),w(((J=r.team)==null?void 0:J.staff)||[]),P((ne=r.team)==null?void 0:ne.client),h(!1),f(!0)},className:"flex-1 px-4 py-2 rounded-xl",style:{background:"rgba(0, 0, 0, 0.05)",color:"#1a1a1a",fontSize:"0.875rem",fontWeight:600},children:"Discard"})]})]})]})})]})]})})}function yX(){const{user:e,signOut:t}=Qt(),{selectedProject:n,selectedAgenda:r,setSelectedAgenda:s}=kr(),i=Ot(),a=qr(),[u,d]=k.useState(!1),[f,m]=k.useState(!1),h=e&&a.pathname!=="/"&&a.pathname!=="/login"&&a.pathname!=="/demo"&&a.pathname!=="/projects";if(!h)return null;const g=async()=>{await t(),i("/")},x=b=>{s(b),d(!1)},v=n&&n.agendas&&n.agendas.length>1;return l.jsxs(l.Fragment,{children:[l.jsx(ae.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"fixed top-0 left-0 right-0 z-50",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"cursor-pointer",onClick:()=>i("/dashboard"),style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1.25rem",fontWeight:600,color:"#1a1a1a"},children:"Balemoo"}),n&&l.jsxs("button",{onClick:()=>i("/projects"),className:"flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300",style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#8b5cf6"},onMouseEnter:b=>{b.currentTarget.style.background="rgba(139, 92, 246, 0.15)",b.currentTarget.style.transform="translateX(-2px)"},onMouseLeave:b=>{b.currentTarget.style.background="rgba(139, 92, 246, 0.1)",b.currentTarget.style.transform="translateX(0)"},children:[l.jsx(ci,{className:"w-4 h-4"}),"Pilih Project Lain"]})]}),l.jsx("div",{className:"flex items-center gap-3",children:v&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>d(!u),className:"flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300",style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",fontWeight:500,color:"#1a1a1a"},onMouseEnter:b=>{b.currentTarget.style.background="rgba(59, 130, 246, 0.15)"},onMouseLeave:b=>{b.currentTarget.style.background="rgba(59, 130, 246, 0.1)"},children:[l.jsxs("span",{children:["Agenda: ",(r==null?void 0:r.name)||"Select"]}),l.jsx(Pa,{className:"w-4 h-4",style:{color:"#6b6b6b"}})]}),u&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),l.jsx(ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full right-0 mt-2 rounded-xl overflow-hidden z-50",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.12)",minWidth:"200px"},children:n==null?void 0:n.agendas.map(b=>l.jsxs("button",{onClick:()=>x(b),className:"w-full px-4 py-3 text-left transition-all duration-200",style:{background:(r==null?void 0:r.id)===b.id?"rgba(59, 130, 246, 0.1)":"transparent",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.9375rem",color:"#1a1a1a",borderBottom:"1px solid rgba(0, 0, 0, 0.05)"},onMouseEnter:S=>{(r==null?void 0:r.id)!==b.id&&(S.currentTarget.style.background="rgba(0, 0, 0, 0.03)")},onMouseLeave:S=>{(r==null?void 0:r.id)!==b.id&&(S.currentTarget.style.background="transparent")},children:[l.jsx("div",{style:{fontWeight:500},children:b.name}),l.jsxs("div",{style:{fontSize:"0.8125rem",color:"#6b6b6b",marginTop:"2px"},children:[new Date(b.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),b.time&&`  ${b.time}`]})]},b.id))})]})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.role)==="admin"&&n&&l.jsx("button",{onClick:()=>m(!0),className:"p-2 rounded-xl transition-all duration-300",style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)"},onMouseEnter:b=>{b.currentTarget.style.background="rgba(139, 92, 246, 0.15)"},onMouseLeave:b=>{b.currentTarget.style.background="rgba(139, 92, 246, 0.1)"},title:"Project Settings",children:l.jsx(Pc,{className:"w-4 h-4",style:{color:"#8b5cf6"}})}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.875rem",fontWeight:600,color:"#1a1a1a"},children:e==null?void 0:e.name}),l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"0.75rem",fontWeight:500,color:(e==null?void 0:e.role)==="admin"?"#8b5cf6":(e==null?void 0:e.role)==="staff"?"#3b82f6":"#10b981",textTransform:"uppercase"},children:e==null?void 0:e.role})]}),l.jsx("button",{onClick:g,className:"p-2 rounded-xl transition-all duration-300",style:{background:"rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.08)"},onMouseEnter:b=>{b.currentTarget.style.background="rgba(0, 0, 0, 0.08)"},onMouseLeave:b=>{b.currentTarget.style.background="rgba(0, 0, 0, 0.04)"},children:l.jsx(Mj,{className:"w-4 h-4",style:{color:"#6b6b6b"}})})]})]})}),h&&l.jsx("div",{style:{height:"72px"}}),f&&l.jsx(gX,{onClose:()=>m(!1)})]})}class xX extends k.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n)}render(){var t;return this.state.hasError?l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-md w-full p-8 rounded-3xl text-center",style:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 24px 64px rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif"},children:[l.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1a1a1a",marginBottom:"12px"},children:"Something went wrong"}),l.jsx("p",{style:{fontSize:"0.875rem",color:"#6b6b6b",marginBottom:"24px"},children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),l.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.href="/"},className:"px-6 py-3 rounded-xl transition-all duration-300",style:{background:"#8b5cf6",color:"white",fontSize:"0.9375rem",fontWeight:600,border:"none",cursor:"pointer"},children:"Go to Home"})]})}):this.props.children}}var vX=(e,t,n,r,s,i,a,u)=>{let d=document.documentElement,f=["light","dark"];function m(x){(Array.isArray(e)?e:[e]).forEach(v=>{let b=v==="class",S=b&&i?s.map(_=>i[_]||_):s;b?(d.classList.remove(...S),d.classList.add(i&&i[x]?i[x]:x)):d.setAttribute(v,x)}),h(x)}function h(x){u&&f.includes(x)&&(d.style.colorScheme=x)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let x=localStorage.getItem(t)||n,v=a&&x==="system"?g():x;m(v)}catch{}},bX=k.createContext(void 0),wX={setTheme:e=>{},themes:[]},SX=()=>{var e;return(e=k.useContext(bX))!=null?e:wX};k.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,themes:u,nonce:d,scriptProps:f})=>{let m=JSON.stringify([n,t,i,e,u,a,r,s]).slice(1,-1);return k.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${vX.toString()})(${m})`}})});const kX=({...e})=>{const{theme:t="system"}=SX();return l.jsx(rO,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function jX(){return l.jsxs(l.Fragment,{children:[l.jsx(r3,{}),l.jsx(s3,{}),l.jsx(O4,{}),l.jsx(z4,{})]})}function CX(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:l.jsx("div",{style:{fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"1rem",color:"#6b6b6b"},children:"Loading..."})})}function _X(){return l.jsx(xX,{children:l.jsx(qM,{children:l.jsx(yD,{children:l.jsx(vD,{children:l.jsx(jD,{children:l.jsx(CD,{children:l.jsx(mO,{children:l.jsx(KW,{children:l.jsxs(XK,{children:[l.jsx(k.Suspense,{fallback:l.jsx(CX,{}),children:l.jsxs("div",{className:"size-full",children:[l.jsx(yX,{}),l.jsxs(bj,{children:[l.jsx(bt,{path:"/",element:l.jsx(jX,{})}),l.jsx(bt,{path:"/login",element:l.jsx(xD,{})}),l.jsx(bt,{path:"/demo",element:l.jsx(uX,{})}),l.jsx(bt,{path:"/projects",element:l.jsx(mX,{})}),l.jsx(bt,{path:"/dashboard",element:l.jsx(wD,{})}),l.jsx(bt,{path:"/kabar-in/*",element:l.jsx(iX,{})}),l.jsx(bt,{path:"/check-in",element:l.jsx(aX,{})}),l.jsx(bt,{path:"/monitor-in",element:l.jsx(lX,{})}),l.jsx(bt,{path:"*",element:l.jsx(vj,{to:"/",replace:!0})})]})]})}),l.jsx(kX,{})]})})})})})})})})})}VN.createRoot(document.getElementById("root")).render(l.jsx(pe.StrictMode,{children:l.jsx(_X,{})}));
